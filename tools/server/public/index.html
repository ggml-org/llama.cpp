<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
	<style>/*! tailwindcss v4.1.11 | MIT License | https://tailwindcss.com */@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-space-y-reverse:0;--tw-space-x-reverse:0;--tw-border-style:solid;--tw-gradient-position:initial;--tw-gradient-from:#0000;--tw-gradient-via:#0000;--tw-gradient-to:#0000;--tw-gradient-stops:initial;--tw-gradient-via-stops:initial;--tw-gradient-from-position:0%;--tw-gradient-via-position:50%;--tw-gradient-to-position:100%;--tw-leading:initial;--tw-font-weight:initial;--tw-tracking:initial;--tw-ordinal:initial;--tw-slashed-zero:initial;--tw-numeric-figure:initial;--tw-numeric-spacing:initial;--tw-numeric-fraction:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-outline-style:solid;--tw-backdrop-blur:initial;--tw-backdrop-brightness:initial;--tw-backdrop-contrast:initial;--tw-backdrop-grayscale:initial;--tw-backdrop-hue-rotate:initial;--tw-backdrop-invert:initial;--tw-backdrop-opacity:initial;--tw-backdrop-saturate:initial;--tw-backdrop-sepia:initial;--tw-duration:initial;--tw-ease:initial;--tw-content:"";--tw-animation-delay:0s;--tw-animation-direction:normal;--tw-animation-duration:initial;--tw-animation-fill-mode:none;--tw-animation-iteration-count:1;--tw-enter-opacity:1;--tw-enter-rotate:0;--tw-enter-scale:1;--tw-enter-translate-x:0;--tw-enter-translate-y:0;--tw-exit-opacity:1;--tw-exit-rotate:0;--tw-exit-scale:1;--tw-exit-translate-x:0;--tw-exit-translate-y:0}}}@layer theme{:root,:host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-red-500:oklch(63.7% .237 25.331);--color-yellow-500:oklch(79.5% .184 86.047);--color-green-500:oklch(72.3% .219 149.579);--color-gray-500:oklch(55.1% .027 264.364);--color-black:#000;--color-white:#fff;--spacing:.25rem;--container-sm:24rem;--container-md:28rem;--container-lg:32rem;--container-2xl:42rem;--container-4xl:56rem;--container-6xl:72rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-base:1rem;--text-base--line-height: 1.5 ;--text-lg:1.125rem;--text-lg--line-height:calc(1.75/1.125);--text-xl:1.25rem;--text-xl--line-height:calc(1.75/1.25);--text-3xl:1.875rem;--text-3xl--line-height: 1.2 ;--font-weight-normal:400;--font-weight-medium:500;--font-weight-semibold:600;--tracking-tight:-.025em;--leading-relaxed:1.625;--radius-xs:.125rem;--radius-2xl:1rem;--radius-3xl:1.5rem;--ease-in-out:cubic-bezier(.4,0,.2,1);--animate-pulse:pulse 2s cubic-bezier(.4,0,.6,1)infinite;--blur-sm:8px;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){appearance:button}::file-selector-button{appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}*{border-color:var(--border);outline-color:var(--ring)}@supports (color:color-mix(in lab,red,red)){*{outline-color:color-mix(in oklab,var(--ring)50%,transparent)}}body{background-color:var(--background);color:var(--foreground)}}@layer components;@layer utilities{.\@container\/card-header{container:card-header/inline-size}.pointer-events-auto{pointer-events:auto}.pointer-events-none{pointer-events:none}.sr-only{clip:rect(0,0,0,0);white-space:nowrap;border-width:0;width:1px;height:1px;margin:-1px;padding:0;position:absolute;overflow:hidden}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.static{position:static}.sticky{position:sticky}.inset-0{inset:calc(var(--spacing)*0)}.inset-x-0{inset-inline:calc(var(--spacing)*0)}.inset-y-0{inset-block:calc(var(--spacing)*0)}.top-0{top:calc(var(--spacing)*0)}.top-1{top:calc(var(--spacing)*1)}.top-1\.5{top:calc(var(--spacing)*1.5)}.top-1\/2{top:50%}.top-2{top:calc(var(--spacing)*2)}.top-2\.5{top:calc(var(--spacing)*2.5)}.top-3\.5{top:calc(var(--spacing)*3.5)}.top-4{top:calc(var(--spacing)*4)}.top-\[50\%\]{top:50%}.right-0{right:calc(var(--spacing)*0)}.right-1{right:calc(var(--spacing)*1)}.right-2{right:calc(var(--spacing)*2)}.right-3{right:calc(var(--spacing)*3)}.right-4{right:calc(var(--spacing)*4)}.bottom-0{bottom:calc(var(--spacing)*0)}.left-0{left:calc(var(--spacing)*0)}.left-2{left:calc(var(--spacing)*2)}.left-3{left:calc(var(--spacing)*3)}.left-\[50\%\]{left:50%}.z-10{z-index:10}.z-20{z-index:20}.z-50{z-index:50}.z-999{z-index:999}.col-start-2{grid-column-start:2}.row-span-2{grid-row:span 2/span 2}.row-start-1{grid-row-start:1}.m-auto{margin:auto}.mx-3\.5{margin-inline:calc(var(--spacing)*3.5)}.mx-auto{margin-inline:auto}.mt-1{margin-top:calc(var(--spacing)*1)}.mt-2{margin-top:calc(var(--spacing)*2)}.mt-4{margin-top:calc(var(--spacing)*4)}.mt-8{margin-top:calc(var(--spacing)*8)}.mt-auto{margin-top:auto}.mr-1{margin-right:calc(var(--spacing)*1)}.mr-2{margin-right:calc(var(--spacing)*2)}.mb-2{margin-bottom:calc(var(--spacing)*2)}.mb-3{margin-bottom:calc(var(--spacing)*3)}.mb-4{margin-bottom:calc(var(--spacing)*4)}.mb-6{margin-bottom:calc(var(--spacing)*6)}.mb-8{margin-bottom:calc(var(--spacing)*8)}.mb-36{margin-bottom:calc(var(--spacing)*36)}.ml-2{margin-left:calc(var(--spacing)*2)}.block{display:block}.contents{display:contents}.flex{display:flex}.grid{display:grid}.hidden{display:none}.inline{display:inline}.inline-flex{display:inline-flex}.table{display:table}.field-sizing-content{field-sizing:content}.aspect-square{aspect-ratio:1}.size-2\.5{width:calc(var(--spacing)*2.5);height:calc(var(--spacing)*2.5)}.size-3\.5{width:calc(var(--spacing)*3.5);height:calc(var(--spacing)*3.5)}.size-4{width:calc(var(--spacing)*4);height:calc(var(--spacing)*4)}.size-7{width:calc(var(--spacing)*7);height:calc(var(--spacing)*7)}.size-9{width:calc(var(--spacing)*9);height:calc(var(--spacing)*9)}.size-full{width:100%;height:100%}.h-2{height:calc(var(--spacing)*2)}.h-2\.5{height:calc(var(--spacing)*2.5)}.h-3{height:calc(var(--spacing)*3)}.h-4{height:calc(var(--spacing)*4)}.h-5{height:calc(var(--spacing)*5)}.h-6{height:calc(var(--spacing)*6)}.h-7{height:calc(var(--spacing)*7)}.h-8{height:calc(var(--spacing)*8)}.h-9{height:calc(var(--spacing)*9)}.h-10{height:calc(var(--spacing)*10)}.h-12{height:calc(var(--spacing)*12)}.h-16{height:calc(var(--spacing)*16)}.h-24{height:calc(var(--spacing)*24)}.h-80{height:calc(var(--spacing)*80)}.h-\[64vh\]{height:64vh}.h-auto{height:auto}.h-full{height:100%}.h-screen{height:100vh}.h-svh{height:100svh}.max-h-32{max-height:calc(var(--spacing)*32)}.max-h-\[60vh\]{max-height:60vh}.max-h-\[90vh\]{max-height:90vh}.max-h-full{max-height:100%}.min-h-0{min-height:calc(var(--spacing)*0)}.min-h-16{min-height:calc(var(--spacing)*16)}.min-h-\[24px\]{min-height:24px}.min-h-\[48px\]{min-height:48px}.min-h-\[60px\]{min-height:60px}.min-h-\[100px\]{min-height:100px}.min-h-svh{min-height:100svh}.w-\(--sidebar-width\){width:var(--sidebar-width)}.w-2{width:calc(var(--spacing)*2)}.w-2\.5{width:calc(var(--spacing)*2.5)}.w-3{width:calc(var(--spacing)*3)}.w-3\/4{width:75%}.w-4{width:calc(var(--spacing)*4)}.w-5{width:calc(var(--spacing)*5)}.w-6{width:calc(var(--spacing)*6)}.w-8{width:calc(var(--spacing)*8)}.w-12{width:calc(var(--spacing)*12)}.w-16{width:calc(var(--spacing)*16)}.w-64{width:calc(var(--spacing)*64)}.w-80{width:calc(var(--spacing)*80)}.w-\[calc\(100vw-2rem\)\]{width:calc(100vw - 2rem)}.w-auto{width:auto}.w-fit{width:fit-content}.w-full{width:100%}.max-w-\(--skeleton-width\){max-width:var(--skeleton-width)}.max-w-2xl{max-width:var(--container-2xl)}.max-w-4xl{max-width:var(--container-4xl)}.max-w-72{max-width:calc(var(--spacing)*72)}.max-w-\[56rem\]{max-width:56rem}.max-w-\[80\%\]{max-width:80%}.max-w-\[calc\(100\%-2rem\)\]{max-width:calc(100% - 2rem)}.max-w-md{max-width:var(--container-md)}.min-w-0{min-width:calc(var(--spacing)*0)}.min-w-5{min-width:calc(var(--spacing)*5)}.min-w-\[56rem\]{min-width:56rem}.flex-1{flex:1}.flex-shrink-0,.shrink-0{flex-shrink:0}.border-collapse{border-collapse:collapse}.origin-\(--bits-tooltip-content-transform-origin\){transform-origin:var(--bits-tooltip-content-transform-origin)}.-translate-x-1\/2{--tw-translate-x: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-x-px{--tw-translate-x:-1px;translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-x-\[-50\%\]{--tw-translate-x:-50%;translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-x-px{--tw-translate-x:1px;translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-1\/2{--tw-translate-y: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-y-\[-50\%\]{--tw-translate-y:-50%;translate:var(--tw-translate-x)var(--tw-translate-y)}.rotate-45{rotate:45deg}.rotate-180{rotate:180deg}.transform{transform:var(--tw-rotate-x,)var(--tw-rotate-y,)var(--tw-rotate-z,)var(--tw-skew-x,)var(--tw-skew-y,)}.animate-in{animation:enter var(--tw-animation-duration,var(--tw-duration,.15s))var(--tw-ease,ease)var(--tw-animation-delay,0s)var(--tw-animation-iteration-count,1)var(--tw-animation-direction,normal)var(--tw-animation-fill-mode,none)}.animate-pulse{animation:var(--animate-pulse)}.cursor-pointer{cursor:pointer}.touch-none{touch-action:none}.resize-none{resize:none}.auto-rows-min{grid-auto-rows:min-content}.grid-rows-\[auto_auto\]{grid-template-rows:auto auto}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.items-end{align-items:flex-end}.items-start{align-items:flex-start}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.justify-end{justify-content:flex-end}.justify-start{justify-content:flex-start}.gap-0{gap:calc(var(--spacing)*0)}.gap-1{gap:calc(var(--spacing)*1)}.gap-1\.5{gap:calc(var(--spacing)*1.5)}.gap-2{gap:calc(var(--spacing)*2)}.gap-3{gap:calc(var(--spacing)*3)}.gap-4{gap:calc(var(--spacing)*4)}.gap-6{gap:calc(var(--spacing)*6)}:where(.space-y-1>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*1)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*1)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-2>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*2)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*2)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-6>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*6)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*6)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-10>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*10)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*10)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-x-1>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing)*1)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing)*1)*calc(1 - var(--tw-space-x-reverse)))}:where(.space-x-2>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing)*2)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing)*2)*calc(1 - var(--tw-space-x-reverse)))}:where(.space-x-3>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing)*3)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing)*3)*calc(1 - var(--tw-space-x-reverse)))}:where(.space-x-4>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing)*4)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing)*4)*calc(1 - var(--tw-space-x-reverse)))}.self-start{align-self:flex-start}.justify-self-end{justify-self:flex-end}.truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:var(--radius-2xl)}.rounded-3xl{border-radius:var(--radius-3xl)}.rounded-\[2px\]{border-radius:2px}.rounded-\[4px\]{border-radius:4px}.rounded-\[inherit\]{border-radius:inherit}.rounded-full{border-radius:3.40282e38px}.rounded-lg{border-radius:var(--radius)}.rounded-md{border-radius:calc(var(--radius) - 2px)}.rounded-xl{border-radius:calc(var(--radius) + 4px)}.rounded-xs{border-radius:var(--radius-xs)}.rounded-t-3xl{border-top-left-radius:var(--radius-3xl);border-top-right-radius:var(--radius-3xl)}.border{border-style:var(--tw-border-style);border-width:1px}.border-0{border-style:var(--tw-border-style);border-width:0}.border-1{border-style:var(--tw-border-style);border-width:1px}.border-2{border-style:var(--tw-border-style);border-width:2px}.border-t{border-top-style:var(--tw-border-style);border-top-width:1px}.border-r{border-right-style:var(--tw-border-style);border-right-width:1px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-l{border-left-style:var(--tw-border-style);border-left-width:1px}.border-dashed{--tw-border-style:dashed;border-style:dashed}.border-border,.border-border\/40{border-color:var(--border)}@supports (color:color-mix(in lab,red,red)){.border-border\/40{border-color:color-mix(in oklab,var(--border)40%,transparent)}}.border-input{border-color:var(--input)}.border-muted{border-color:var(--muted)}.border-muted-foreground\/25{border-color:var(--muted-foreground)}@supports (color:color-mix(in lab,red,red)){.border-muted-foreground\/25{border-color:color-mix(in oklab,var(--muted-foreground)25%,transparent)}}.border-primary{border-color:var(--primary)}.border-sidebar-border{border-color:var(--sidebar-border)}.border-transparent{border-color:#0000}.border-t-transparent{border-top-color:#0000}.border-l-transparent{border-left-color:#0000}.bg-accent{background-color:var(--accent)}.bg-background{background-color:var(--background)}.bg-black\/50{background-color:#00000080}@supports (color:color-mix(in lab,red,red)){.bg-black\/50{background-color:color-mix(in oklab,var(--color-black)50%,transparent)}}.bg-border{background-color:var(--border)}.bg-card{background-color:var(--card)}.bg-destructive{background-color:var(--destructive)}.bg-foreground\/3{background-color:var(--foreground)}@supports (color:color-mix(in lab,red,red)){.bg-foreground\/3{background-color:color-mix(in oklab,var(--foreground)3%,transparent)}}.bg-gray-500{background-color:var(--color-gray-500)}.bg-green-500{background-color:var(--color-green-500)}.bg-muted,.bg-muted\/30{background-color:var(--muted)}@supports (color:color-mix(in lab,red,red)){.bg-muted\/30{background-color:color-mix(in oklab,var(--muted)30%,transparent)}}.bg-primary,.bg-primary\/10{background-color:var(--primary)}@supports (color:color-mix(in lab,red,red)){.bg-primary\/10{background-color:color-mix(in oklab,var(--primary)10%,transparent)}}.bg-red-500{background-color:var(--color-red-500)}.bg-secondary{background-color:var(--secondary)}.bg-sidebar{background-color:var(--sidebar)}.bg-sidebar-border{background-color:var(--sidebar-border)}.bg-transparent{background-color:#0000}.bg-white\/20{background-color:#fff3}@supports (color:color-mix(in lab,red,red)){.bg-white\/20{background-color:color-mix(in oklab,var(--color-white)20%,transparent)}}.bg-yellow-500{background-color:var(--color-yellow-500)}.bg-gradient-to-t{--tw-gradient-position:to top in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.from-muted{--tw-gradient-from:var(--muted);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-transparent{--tw-gradient-to:transparent;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.object-contain{object-fit:contain}.object-cover{object-fit:cover}.p-0{padding:calc(var(--spacing)*0)}.p-2{padding:calc(var(--spacing)*2)}.p-3{padding:calc(var(--spacing)*3)}.p-4{padding:calc(var(--spacing)*4)}.p-6{padding:calc(var(--spacing)*6)}.p-8{padding:calc(var(--spacing)*8)}.p-12{padding:calc(var(--spacing)*12)}.p-px{padding:1px}.px-1{padding-inline:calc(var(--spacing)*1)}.px-2{padding-inline:calc(var(--spacing)*2)}.px-2\.5{padding-inline:calc(var(--spacing)*2.5)}.px-3{padding-inline:calc(var(--spacing)*3)}.px-4{padding-inline:calc(var(--spacing)*4)}.px-5{padding-inline:calc(var(--spacing)*5)}.px-6{padding-inline:calc(var(--spacing)*6)}.py-0{padding-block:calc(var(--spacing)*0)}.py-0\.5{padding-block:calc(var(--spacing)*.5)}.py-1{padding-block:calc(var(--spacing)*1)}.py-1\.5{padding-block:calc(var(--spacing)*1.5)}.py-2{padding-block:calc(var(--spacing)*2)}.py-3{padding-block:calc(var(--spacing)*3)}.py-4{padding-block:calc(var(--spacing)*4)}.py-6{padding-block:calc(var(--spacing)*6)}.pt-1\.5{padding-top:calc(var(--spacing)*1.5)}.pt-3{padding-top:calc(var(--spacing)*3)}.pt-5{padding-top:calc(var(--spacing)*5)}.pt-6{padding-top:calc(var(--spacing)*6)}.pt-16{padding-top:calc(var(--spacing)*16)}.pr-8{padding-right:calc(var(--spacing)*8)}.pb-2{padding-bottom:calc(var(--spacing)*2)}.pb-3{padding-bottom:calc(var(--spacing)*3)}.pb-4{padding-bottom:calc(var(--spacing)*4)}.pl-8{padding-left:calc(var(--spacing)*8)}.pl-10{padding-left:calc(var(--spacing)*10)}.text-center{text-align:center}.text-left{text-align:left}.font-mono{font-family:var(--font-mono)}.text-3xl{font-size:var(--text-3xl);line-height:var(--tw-leading,var(--text-3xl--line-height))}.text-base{font-size:var(--text-base);line-height:var(--tw-leading,var(--text-base--line-height))}.text-lg{font-size:var(--text-lg);line-height:var(--tw-leading,var(--text-lg--line-height))}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.text-xl{font-size:var(--text-xl);line-height:var(--tw-leading,var(--text-xl--line-height))}.text-xs{font-size:var(--text-xs);line-height:var(--tw-leading,var(--text-xs--line-height))}.leading-6{--tw-leading:calc(var(--spacing)*6);line-height:calc(var(--spacing)*6)}.leading-7\.5{--tw-leading:calc(var(--spacing)*7.5);line-height:calc(var(--spacing)*7.5)}.leading-none{--tw-leading:1;line-height:1}.leading-relaxed{--tw-leading:var(--leading-relaxed);line-height:var(--leading-relaxed)}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.font-normal{--tw-font-weight:var(--font-weight-normal);font-weight:var(--font-weight-normal)}.font-semibold{--tw-font-weight:var(--font-weight-semibold);font-weight:var(--font-weight-semibold)}.tracking-tight{--tw-tracking:var(--tracking-tight);letter-spacing:var(--tracking-tight)}.text-balance{text-wrap:balance}.break-words{overflow-wrap:break-word}.whitespace-nowrap{white-space:nowrap}.whitespace-pre-wrap{white-space:pre-wrap}.text-accent-foreground{color:var(--accent-foreground)}.text-card-foreground{color:var(--card-foreground)}.text-current{color:currentColor}.text-destructive{color:var(--destructive)}.text-foreground{color:var(--foreground)}.text-muted-foreground{color:var(--muted-foreground)}.text-primary{color:var(--primary)}.text-primary-foreground{color:var(--primary-foreground)}.text-secondary-foreground{color:var(--secondary-foreground)}.text-sidebar-foreground,.text-sidebar-foreground\/70{color:var(--sidebar-foreground)}@supports (color:color-mix(in lab,red,red)){.text-sidebar-foreground\/70{color:color-mix(in oklab,var(--sidebar-foreground)70%,transparent)}}.text-white{color:var(--color-white)}.tabular-nums{--tw-numeric-spacing:tabular-nums;font-variant-numeric:var(--tw-ordinal,)var(--tw-slashed-zero,)var(--tw-numeric-figure,)var(--tw-numeric-spacing,)var(--tw-numeric-fraction,)}.underline-offset-4{text-underline-offset:4px}.opacity-0{opacity:0}.opacity-70{opacity:.7}.shadow-\[0_0_0_1px_var\(--sidebar-border\)\]{--tw-shadow:0 0 0 1px var(--tw-shadow-color,var(--sidebar-border));box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-none{--tw-shadow:0 0 #0000;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-xs{--tw-shadow:0 1px 2px 0 var(--tw-shadow-color,#0000000d);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-ring\/10{--tw-ring-color:var(--ring)}@supports (color:color-mix(in lab,red,red)){.ring-ring\/10{--tw-ring-color:color-mix(in oklab,var(--ring)10%,transparent)}}.ring-sidebar-ring{--tw-ring-color:var(--sidebar-ring)}.ring-offset-background{--tw-ring-offset-color:var(--background)}.outline-hidden{--tw-outline-style:none;outline-style:none}@media (forced-colors:active){.outline-hidden{outline-offset:2px;outline:2px solid #0000}}.outline{outline-style:var(--tw-outline-style);outline-width:1px}.outline-ring\/50{outline-color:var(--ring)}@supports (color:color-mix(in lab,red,red)){.outline-ring\/50{outline-color:color-mix(in oklab,var(--ring)50%,transparent)}}.backdrop-blur-sm{--tw-backdrop-blur:blur(var(--blur-sm));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,visibility,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\[color\,box-shadow\]{transition-property:color,box-shadow;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\[left\,right\,width\]{transition-property:left,right,width;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\[margin\,opacity\]{transition-property:margin,opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\[width\,height\,padding\]{transition-property:width,height,padding;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\[width\]{transition-property:width;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-opacity{transition-property:opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-shadow{transition-property:box-shadow;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-none{transition-property:none}.duration-150{--tw-duration:.15s;transition-duration:.15s}.duration-200{--tw-duration:.2s;transition-duration:.2s}.ease-in-out{--tw-ease:var(--ease-in-out);transition-timing-function:var(--ease-in-out)}.ease-linear{--tw-ease:linear;transition-timing-function:linear}.fade-in-0{--tw-enter-opacity:0}.outline-none{--tw-outline-style:none;outline-style:none}.select-none{-webkit-user-select:none;user-select:none}.zoom-in-95{--tw-enter-scale:.95}.group-focus-within\/menu-item\:opacity-100:is(:where(.group\/menu-item):focus-within *){opacity:1}@media (hover:hover){.group-hover\:pointer-events-auto:is(:where(.group):hover *){pointer-events:auto}.group-hover\:pointer-events-none:is(:where(.group):hover *){pointer-events:none}.group-hover\:opacity-0:is(:where(.group):hover *){opacity:0}.group-hover\:opacity-100:is(:where(.group):hover *),.group-hover\/menu-item\:opacity-100:is(:where(.group\/menu-item):hover *){opacity:1}}.group-has-data-\[sidebar\=menu-action\]\/menu-item\:pr-8:is(:where(.group\/menu-item):has([data-sidebar=menu-action]) *){padding-right:calc(var(--spacing)*8)}.group-data-\[collapsible\=icon\]\:-mt-8:is(:where(.group)[data-collapsible=icon] *){margin-top:calc(var(--spacing)*-8)}.group-data-\[collapsible\=icon\]\:hidden:is(:where(.group)[data-collapsible=icon] *){display:none}.group-data-\[collapsible\=icon\]\:size-8\!:is(:where(.group)[data-collapsible=icon] *){width:calc(var(--spacing)*8)!important;height:calc(var(--spacing)*8)!important}.group-data-\[collapsible\=icon\]\:w-\(--sidebar-width-icon\):is(:where(.group)[data-collapsible=icon] *){width:var(--sidebar-width-icon)}.group-data-\[collapsible\=icon\]\:w-\[calc\(var\(--sidebar-width-icon\)\+\(--spacing\(4\)\)\+2px\)\]:is(:where(.group)[data-collapsible=icon] *){width:calc(var(--sidebar-width-icon) + (calc(var(--spacing)*4)) + 2px)}.group-data-\[collapsible\=icon\]\:overflow-hidden:is(:where(.group)[data-collapsible=icon] *){overflow:hidden}.group-data-\[collapsible\=icon\]\:p-0\!:is(:where(.group)[data-collapsible=icon] *){padding:calc(var(--spacing)*0)!important}.group-data-\[collapsible\=icon\]\:p-2\!:is(:where(.group)[data-collapsible=icon] *){padding:calc(var(--spacing)*2)!important}.group-data-\[collapsible\=icon\]\:opacity-0:is(:where(.group)[data-collapsible=icon] *){opacity:0}.group-data-\[collapsible\=offcanvas\]\:right-\[calc\(var\(--sidebar-width\)\*-1\)\]:is(:where(.group)[data-collapsible=offcanvas] *){right:calc(var(--sidebar-width)*-1)}.group-data-\[collapsible\=offcanvas\]\:left-\[calc\(var\(--sidebar-width\)\*-1\)\]:is(:where(.group)[data-collapsible=offcanvas] *){left:calc(var(--sidebar-width)*-1)}.group-data-\[collapsible\=offcanvas\]\:w-0:is(:where(.group)[data-collapsible=offcanvas] *){width:calc(var(--spacing)*0)}.group-data-\[collapsible\=offcanvas\]\:translate-x-0:is(:where(.group)[data-collapsible=offcanvas] *){--tw-translate-x:calc(var(--spacing)*0);translate:var(--tw-translate-x)var(--tw-translate-y)}.group-data-\[side\=left\]\:-right-4:is(:where(.group)[data-side=left] *){right:calc(var(--spacing)*-4)}.group-data-\[side\=left\]\:border-r:is(:where(.group)[data-side=left] *){border-right-style:var(--tw-border-style);border-right-width:1px}.group-data-\[side\=right\]\:left-0:is(:where(.group)[data-side=right] *){left:calc(var(--spacing)*0)}.group-data-\[side\=right\]\:rotate-180:is(:where(.group)[data-side=right] *){rotate:180deg}.group-data-\[side\=right\]\:border-l:is(:where(.group)[data-side=right] *){border-left-style:var(--tw-border-style);border-left-width:1px}.group-data-\[variant\=floating\]\:rounded-lg:is(:where(.group)[data-variant=floating] *){border-radius:var(--radius)}.group-data-\[variant\=floating\]\:border:is(:where(.group)[data-variant=floating] *){border-style:var(--tw-border-style);border-width:1px}.group-data-\[variant\=floating\]\:border-sidebar-border:is(:where(.group)[data-variant=floating] *){border-color:var(--sidebar-border)}.group-data-\[variant\=floating\]\:shadow-sm:is(:where(.group)[data-variant=floating] *){--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}@media (hover:hover){.peer-hover\/menu-button\:text-sidebar-accent-foreground:is(:where(.peer\/menu-button):hover~*){color:var(--sidebar-accent-foreground)}}.peer-data-\[active\=true\]\/menu-button\:text-sidebar-accent-foreground:is(:where(.peer\/menu-button)[data-active=true]~*){color:var(--sidebar-accent-foreground)}.peer-data-\[size\=default\]\/menu-button\:top-1\.5:is(:where(.peer\/menu-button)[data-size=default]~*){top:calc(var(--spacing)*1.5)}.peer-data-\[size\=lg\]\/menu-button\:top-2\.5:is(:where(.peer\/menu-button)[data-size=lg]~*){top:calc(var(--spacing)*2.5)}.peer-data-\[size\=sm\]\/menu-button\:top-1:is(:where(.peer\/menu-button)[data-size=sm]~*){top:calc(var(--spacing)*1)}.selection\:bg-primary ::selection{background-color:var(--primary)}.selection\:bg-primary::selection{background-color:var(--primary)}.selection\:text-primary-foreground ::selection{color:var(--primary-foreground)}.selection\:text-primary-foreground::selection{color:var(--primary-foreground)}.placeholder\:text-muted-foreground::placeholder{color:var(--muted-foreground)}.after\:absolute:after{content:var(--tw-content);position:absolute}.after\:-inset-2:after{content:var(--tw-content);inset:calc(var(--spacing)*-2)}.after\:inset-y-0:after{content:var(--tw-content);inset-block:calc(var(--spacing)*0)}.after\:left-\[calc\(1\/2\*100\%-1px\)\]:after{content:var(--tw-content);left:calc(50% - 1px)}.after\:w-\[2px\]:after{content:var(--tw-content);width:2px}.group-data-\[collapsible\=offcanvas\]\:after\:left-full:is(:where(.group)[data-collapsible=offcanvas] *):after{content:var(--tw-content);left:100%}.focus-within\:border-primary\/40:focus-within{border-color:var(--primary)}@supports (color:color-mix(in lab,red,red)){.focus-within\:border-primary\/40:focus-within{border-color:color-mix(in oklab,var(--primary)40%,transparent)}}.focus-within\:shadow-md:focus-within{--tw-shadow:0 4px 6px -1px var(--tw-shadow-color,#0000001a),0 2px 4px -2px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}@media (hover:hover){.hover\:border-accent-foreground\/25:hover{border-color:var(--accent-foreground)}@supports (color:color-mix(in lab,red,red)){.hover\:border-accent-foreground\/25:hover{border-color:color-mix(in oklab,var(--accent-foreground)25%,transparent)}}.hover\:bg-accent:hover{background-color:var(--accent)}.hover\:bg-destructive\/90:hover{background-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.hover\:bg-destructive\/90:hover{background-color:color-mix(in oklab,var(--destructive)90%,transparent)}}.hover\:bg-primary\/90:hover{background-color:var(--primary)}@supports (color:color-mix(in lab,red,red)){.hover\:bg-primary\/90:hover{background-color:color-mix(in oklab,var(--primary)90%,transparent)}}.hover\:bg-secondary\/80:hover{background-color:var(--secondary)}@supports (color:color-mix(in lab,red,red)){.hover\:bg-secondary\/80:hover{background-color:color-mix(in oklab,var(--secondary)80%,transparent)}}.hover\:bg-sidebar-accent:hover{background-color:var(--sidebar-accent)}.hover\:bg-white\/30:hover{background-color:#ffffff4d}@supports (color:color-mix(in lab,red,red)){.hover\:bg-white\/30:hover{background-color:color-mix(in oklab,var(--color-white)30%,transparent)}}.hover\:text-accent-foreground:hover{color:var(--accent-foreground)}.hover\:text-destructive:hover{color:var(--destructive)}.hover\:text-foreground:hover{color:var(--foreground)}.hover\:text-sidebar-accent-foreground:hover{color:var(--sidebar-accent-foreground)}.hover\:underline:hover{text-decoration-line:underline}.hover\:opacity-100:hover{opacity:1}.hover\:shadow-\[0_0_0_1px_var\(--sidebar-accent\)\]:hover{--tw-shadow:0 0 0 1px var(--tw-shadow-color,var(--sidebar-accent));box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.hover\:shadow-md:hover{--tw-shadow:0 4px 6px -1px var(--tw-shadow-color,#0000001a),0 2px 4px -2px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.hover\:group-data-\[collapsible\=offcanvas\]\:bg-sidebar:hover:is(:where(.group)[data-collapsible=offcanvas] *){background-color:var(--sidebar)}.hover\:after\:bg-sidebar-border:hover:after{content:var(--tw-content);background-color:var(--sidebar-border)}}.focus\:ring-1:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus\:ring-2:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus\:ring-primary:focus{--tw-ring-color:var(--primary)}.focus\:ring-ring:focus{--tw-ring-color:var(--ring)}.focus\:ring-offset-2:focus{--tw-ring-offset-width:2px;--tw-ring-offset-shadow:var(--tw-ring-inset,)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color)}.focus\:outline-hidden:focus{--tw-outline-style:none;outline-style:none}@media (forced-colors:active){.focus\:outline-hidden:focus{outline-offset:2px;outline:2px solid #0000}}.focus\:outline-none:focus{--tw-outline-style:none;outline-style:none}.focus-visible\:border-ring:focus-visible{border-color:var(--ring)}.focus-visible\:ring-0:focus-visible{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(0px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus-visible\:ring-2:focus-visible{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus-visible\:ring-4:focus-visible{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(4px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus-visible\:ring-\[3px\]:focus-visible{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(3px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus-visible\:ring-destructive\/20:focus-visible{--tw-ring-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.focus-visible\:ring-destructive\/20:focus-visible{--tw-ring-color:color-mix(in oklab,var(--destructive)20%,transparent)}}.focus-visible\:ring-ring:focus-visible,.focus-visible\:ring-ring\/50:focus-visible{--tw-ring-color:var(--ring)}@supports (color:color-mix(in lab,red,red)){.focus-visible\:ring-ring\/50:focus-visible{--tw-ring-color:color-mix(in oklab,var(--ring)50%,transparent)}}.focus-visible\:ring-offset-0:focus-visible{--tw-ring-offset-width:0px;--tw-ring-offset-shadow:var(--tw-ring-inset,)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color)}.focus-visible\:ring-offset-2:focus-visible{--tw-ring-offset-width:2px;--tw-ring-offset-shadow:var(--tw-ring-inset,)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color)}.focus-visible\:outline-hidden:focus-visible{--tw-outline-style:none;outline-style:none}@media (forced-colors:active){.focus-visible\:outline-hidden:focus-visible{outline-offset:2px;outline:2px solid #0000}}.focus-visible\:outline-1:focus-visible{outline-style:var(--tw-outline-style);outline-width:1px}.active\:bg-sidebar-accent:active{background-color:var(--sidebar-accent)}.active\:text-sidebar-accent-foreground:active{color:var(--sidebar-accent-foreground)}.disabled\:pointer-events-none:disabled{pointer-events:none}.disabled\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\:opacity-50:disabled{opacity:.5}:where([data-side=left]) .in-data-\[side\=left\]\:cursor-w-resize{cursor:w-resize}:where([data-side=right]) .in-data-\[side\=right\]\:cursor-e-resize{cursor:e-resize}.has-data-\[slot\=card-action\]\:grid-cols-\[1fr_auto\]:has([data-slot=card-action]){grid-template-columns:1fr auto}.has-data-\[variant\=inset\]\:bg-sidebar:has([data-variant=inset]){background-color:var(--sidebar)}.has-\[\>svg\]\:px-2\.5:has(>svg){padding-inline:calc(var(--spacing)*2.5)}.has-\[\>svg\]\:px-3:has(>svg){padding-inline:calc(var(--spacing)*3)}.has-\[\>svg\]\:px-4:has(>svg){padding-inline:calc(var(--spacing)*4)}.aria-disabled\:pointer-events-none[aria-disabled=true]{pointer-events:none}.aria-disabled\:opacity-50[aria-disabled=true]{opacity:.5}.aria-invalid\:border-destructive[aria-invalid=true]{border-color:var(--destructive)}.aria-invalid\:ring-destructive\/20[aria-invalid=true]{--tw-ring-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.aria-invalid\:ring-destructive\/20[aria-invalid=true]{--tw-ring-color:color-mix(in oklab,var(--destructive)20%,transparent)}}.data-\[active\=true\]\:bg-sidebar-accent[data-active=true]{background-color:var(--sidebar-accent)}.data-\[active\=true\]\:font-medium[data-active=true]{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.data-\[active\=true\]\:text-sidebar-accent-foreground[data-active=true]{color:var(--sidebar-accent-foreground)}.data-\[orientation\=horizontal\]\:h-px[data-orientation=horizontal]{height:1px}.data-\[orientation\=horizontal\]\:w-full[data-orientation=horizontal]{width:100%}.data-\[orientation\=vertical\]\:h-full[data-orientation=vertical]{height:100%}.data-\[orientation\=vertical\]\:w-px[data-orientation=vertical]{width:1px}.data-\[side\=bottom\]\:-translate-x-1\/2[data-side=bottom]{--tw-translate-x: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.data-\[side\=bottom\]\:-translate-y-\[calc\(-50\%_\+_1px\)\][data-side=bottom]{--tw-translate-y: calc((-50% + 1px)*-1) ;translate:var(--tw-translate-x)var(--tw-translate-y)}.data-\[side\=bottom\]\:slide-in-from-top-2[data-side=bottom]{--tw-enter-translate-y:calc(2*var(--spacing)*-1)}.data-\[side\=left\]\:-translate-y-\[calc\(50\%_-_3px\)\][data-side=left]{--tw-translate-y: calc((50% - 3px)*-1) ;translate:var(--tw-translate-x)var(--tw-translate-y)}.data-\[side\=left\]\:slide-in-from-right-2[data-side=left]{--tw-enter-translate-x:calc(2*var(--spacing))}.data-\[side\=right\]\:translate-x-\[calc\(50\%_\+_2px\)\][data-side=right]{--tw-translate-x: calc(50% + 2px) ;translate:var(--tw-translate-x)var(--tw-translate-y)}.data-\[side\=right\]\:translate-y-1\/2[data-side=right]{--tw-translate-y: 50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.data-\[side\=right\]\:slide-in-from-left-2[data-side=right]{--tw-enter-translate-x:calc(2*var(--spacing)*-1)}.data-\[side\=top\]\:translate-x-1\/2[data-side=top]{--tw-translate-x: 50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.data-\[side\=top\]\:translate-y-\[calc\(-50\%_\+_2px\)\][data-side=top]{--tw-translate-y: calc(-50% + 2px) ;translate:var(--tw-translate-x)var(--tw-translate-y)}.data-\[side\=top\]\:slide-in-from-bottom-2[data-side=top]{--tw-enter-translate-y:calc(2*var(--spacing))}.data-\[state\=checked\]\:border-primary[data-state=checked]{border-color:var(--primary)}.data-\[state\=checked\]\:bg-primary[data-state=checked]{background-color:var(--primary)}.data-\[state\=checked\]\:text-primary-foreground[data-state=checked]{color:var(--primary-foreground)}.data-\[state\=closed\]\:animate-out[data-state=closed]{animation:exit var(--tw-animation-duration,var(--tw-duration,.15s))var(--tw-ease,ease)var(--tw-animation-delay,0s)var(--tw-animation-iteration-count,1)var(--tw-animation-direction,normal)var(--tw-animation-fill-mode,none)}.data-\[state\=closed\]\:duration-300[data-state=closed]{--tw-duration:.3s;transition-duration:.3s}.data-\[state\=closed\]\:fade-out-0[data-state=closed]{--tw-exit-opacity:0}.data-\[state\=closed\]\:zoom-out-95[data-state=closed]{--tw-exit-scale:.95}.data-\[state\=closed\]\:slide-out-to-bottom[data-state=closed]{--tw-exit-translate-y:100%}.data-\[state\=closed\]\:slide-out-to-left[data-state=closed]{--tw-exit-translate-x:-100%}.data-\[state\=closed\]\:slide-out-to-right[data-state=closed]{--tw-exit-translate-x:100%}.data-\[state\=closed\]\:slide-out-to-top[data-state=closed]{--tw-exit-translate-y:-100%}.data-\[state\=open\]\:animate-in[data-state=open]{animation:enter var(--tw-animation-duration,var(--tw-duration,.15s))var(--tw-ease,ease)var(--tw-animation-delay,0s)var(--tw-animation-iteration-count,1)var(--tw-animation-direction,normal)var(--tw-animation-fill-mode,none)}.data-\[state\=open\]\:opacity-100[data-state=open]{opacity:1}.data-\[state\=open\]\:duration-500[data-state=open]{--tw-duration:.5s;transition-duration:.5s}.data-\[state\=open\]\:fade-in-0[data-state=open]{--tw-enter-opacity:0}.data-\[state\=open\]\:zoom-in-95[data-state=open]{--tw-enter-scale:.95}.data-\[state\=open\]\:slide-in-from-bottom[data-state=open]{--tw-enter-translate-y:100%}.data-\[state\=open\]\:slide-in-from-left[data-state=open]{--tw-enter-translate-x:-100%}.data-\[state\=open\]\:slide-in-from-right[data-state=open]{--tw-enter-translate-x:100%}.data-\[state\=open\]\:slide-in-from-top[data-state=open]{--tw-enter-translate-y:-100%}@media (hover:hover){.data-\[state\=open\]\:hover\:bg-sidebar-accent[data-state=open]:hover{background-color:var(--sidebar-accent)}.data-\[state\=open\]\:hover\:text-sidebar-accent-foreground[data-state=open]:hover{color:var(--sidebar-accent-foreground)}}@media (min-width:40rem){.sm\:flex{display:flex}.sm\:w-auto{width:auto}.sm\:max-w-6xl{max-width:var(--container-6xl)}.sm\:max-w-lg{max-width:var(--container-lg)}.sm\:max-w-sm{max-width:var(--container-sm)}.sm\:flex-row{flex-direction:row}.sm\:justify-end{justify-content:flex-end}.sm\:text-left{text-align:left}}@media (min-width:48rem){.md\:block{display:block}.md\:flex{display:flex}.md\:pt-24{padding-top:calc(var(--spacing)*24)}.md\:text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.md\:opacity-0{opacity:0}.md\:peer-data-\[variant\=inset\]\:m-2:is(:where(.peer)[data-variant=inset]~*){margin:calc(var(--spacing)*2)}.md\:peer-data-\[variant\=inset\]\:ml-0:is(:where(.peer)[data-variant=inset]~*){margin-left:calc(var(--spacing)*0)}.md\:peer-data-\[variant\=inset\]\:rounded-xl:is(:where(.peer)[data-variant=inset]~*){border-radius:calc(var(--radius) + 4px)}.md\:peer-data-\[variant\=inset\]\:shadow-sm:is(:where(.peer)[data-variant=inset]~*){--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.md\:peer-data-\[variant\=inset\]\:peer-data-\[state\=collapsed\]\:ml-2:is(:where(.peer)[data-variant=inset]~*):is(:where(.peer)[data-state=collapsed]~*){margin-left:calc(var(--spacing)*2)}.md\:after\:hidden:after{content:var(--tw-content);display:none}}.dark\:border-input:is(.dark *){border-color:var(--input)}.dark\:bg-destructive\/60:is(.dark *){background-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.dark\:bg-destructive\/60:is(.dark *){background-color:color-mix(in oklab,var(--destructive)60%,transparent)}}.dark\:bg-destructive\/70:is(.dark *){background-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.dark\:bg-destructive\/70:is(.dark *){background-color:color-mix(in oklab,var(--destructive)70%,transparent)}}.dark\:bg-input\/30:is(.dark *){background-color:var(--input)}@supports (color:color-mix(in lab,red,red)){.dark\:bg-input\/30:is(.dark *){background-color:color-mix(in oklab,var(--input)30%,transparent)}}.dark\:bg-muted:is(.dark *){background-color:var(--muted)}.dark\:ring-ring\/20:is(.dark *){--tw-ring-color:var(--ring)}@supports (color:color-mix(in lab,red,red)){.dark\:ring-ring\/20:is(.dark *){--tw-ring-color:color-mix(in oklab,var(--ring)20%,transparent)}}.dark\:outline-ring\/40:is(.dark *){outline-color:var(--ring)}@supports (color:color-mix(in lab,red,red)){.dark\:outline-ring\/40:is(.dark *){outline-color:color-mix(in oklab,var(--ring)40%,transparent)}}@media (hover:hover){.dark\:hover\:bg-accent\/50:is(.dark *):hover{background-color:var(--accent)}@supports (color:color-mix(in lab,red,red)){.dark\:hover\:bg-accent\/50:is(.dark *):hover{background-color:color-mix(in oklab,var(--accent)50%,transparent)}}.dark\:hover\:bg-input\/50:is(.dark *):hover{background-color:var(--input)}@supports (color:color-mix(in lab,red,red)){.dark\:hover\:bg-input\/50:is(.dark *):hover{background-color:color-mix(in oklab,var(--input)50%,transparent)}}}.dark\:focus-visible\:ring-destructive\/40:is(.dark *):focus-visible{--tw-ring-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.dark\:focus-visible\:ring-destructive\/40:is(.dark *):focus-visible{--tw-ring-color:color-mix(in oklab,var(--destructive)40%,transparent)}}.dark\:aria-invalid\:ring-destructive\/40:is(.dark *)[aria-invalid=true]{--tw-ring-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){.dark\:aria-invalid\:ring-destructive\/40:is(.dark *)[aria-invalid=true]{--tw-ring-color:color-mix(in oklab,var(--destructive)40%,transparent)}}.dark\:data-\[state\=checked\]\:bg-primary:is(.dark *)[data-state=checked]{background-color:var(--primary)}.\[\&_svg\]\:pointer-events-none svg{pointer-events:none}.\[\&_svg\]\:shrink-0 svg{flex-shrink:0}.\[\&_svg\:not\(\[class\*\=\'size-\'\]\)\]\:size-4 svg:not([class*=size-]){width:calc(var(--spacing)*4);height:calc(var(--spacing)*4)}.\[\.border-b\]\:pb-6.border-b{padding-bottom:calc(var(--spacing)*6)}.\[\.border-t\]\:pt-6.border-t{padding-top:calc(var(--spacing)*6)}.\[\&\>button\]\:hidden>button{display:none}.\[\&\>span\:last-child\]\:truncate>span:last-child{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.\[\&\>svg\]\:pointer-events-none>svg{pointer-events:none}.\[\&\>svg\]\:size-3>svg{width:calc(var(--spacing)*3);height:calc(var(--spacing)*3)}.\[\&\>svg\]\:size-4>svg{width:calc(var(--spacing)*4);height:calc(var(--spacing)*4)}.\[\&\>svg\]\:shrink-0>svg{flex-shrink:0}.\[\&\>svg\]\:text-sidebar-accent-foreground>svg{color:var(--sidebar-accent-foreground)}[data-side=left][data-collapsible=offcanvas] .\[\[data-side\=left\]\[data-collapsible\=offcanvas\]_\&\]\:-right-2{right:calc(var(--spacing)*-2)}[data-side=left][data-state=collapsed] .\[\[data-side\=left\]\[data-state\=collapsed\]_\&\]\:cursor-e-resize{cursor:e-resize}[data-side=right][data-collapsible=offcanvas] .\[\[data-side\=right\]\[data-collapsible\=offcanvas\]_\&\]\:-left-2{left:calc(var(--spacing)*-2)}[data-side=right][data-state=collapsed] .\[\[data-side\=right\]\[data-state\=collapsed\]_\&\]\:cursor-w-resize{cursor:w-resize}@media (hover:hover){a.\[a\&\]\:hover\:bg-accent:hover{background-color:var(--accent)}a.\[a\&\]\:hover\:bg-destructive\/90:hover{background-color:var(--destructive)}@supports (color:color-mix(in lab,red,red)){a.\[a\&\]\:hover\:bg-destructive\/90:hover{background-color:color-mix(in oklab,var(--destructive)90%,transparent)}}a.\[a\&\]\:hover\:bg-primary\/90:hover{background-color:var(--primary)}@supports (color:color-mix(in lab,red,red)){a.\[a\&\]\:hover\:bg-primary\/90:hover{background-color:color-mix(in oklab,var(--primary)90%,transparent)}}a.\[a\&\]\:hover\:bg-secondary\/90:hover{background-color:var(--secondary)}@supports (color:color-mix(in lab,red,red)){a.\[a\&\]\:hover\:bg-secondary\/90:hover{background-color:color-mix(in oklab,var(--secondary)90%,transparent)}}a.\[a\&\]\:hover\:text-accent-foreground:hover{color:var(--accent-foreground)}}}@property --tw-animation-delay{syntax:"*";inherits:false;initial-value:0s}@property --tw-animation-direction{syntax:"*";inherits:false;initial-value:normal}@property --tw-animation-duration{syntax:"*";inherits:false}@property --tw-animation-fill-mode{syntax:"*";inherits:false;initial-value:none}@property --tw-animation-iteration-count{syntax:"*";inherits:false;initial-value:1}@property --tw-enter-opacity{syntax:"*";inherits:false;initial-value:1}@property --tw-enter-rotate{syntax:"*";inherits:false;initial-value:0}@property --tw-enter-scale{syntax:"*";inherits:false;initial-value:1}@property --tw-enter-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-enter-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-exit-opacity{syntax:"*";inherits:false;initial-value:1}@property --tw-exit-rotate{syntax:"*";inherits:false;initial-value:0}@property --tw-exit-scale{syntax:"*";inherits:false;initial-value:1}@property --tw-exit-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-exit-translate-y{syntax:"*";inherits:false;initial-value:0}:root{--radius:.625rem;--background:oklch(100% 0 0);--foreground:oklch(14.5% 0 0);--card:oklch(100% 0 0);--card-foreground:oklch(14.5% 0 0);--popover:oklch(100% 0 0);--popover-foreground:oklch(14.5% 0 0);--primary:oklch(20.5% 0 0);--primary-foreground:oklch(98.5% 0 0);--secondary:oklch(97% 0 0);--secondary-foreground:oklch(20.5% 0 0);--muted:oklch(97% 0 0);--muted-foreground:oklch(55.6% 0 0);--accent:oklch(97% 0 0);--accent-foreground:oklch(20.5% 0 0);--destructive:oklch(57.7% .245 27.325);--border:oklch(87.5% 0 0);--input:oklch(92% 0 0);--ring:oklch(70.8% 0 0);--chart-1:oklch(64.6% .222 41.116);--chart-2:oklch(60% .118 184.704);--chart-3:oklch(39.8% .07 227.392);--chart-4:oklch(82.8% .189 84.429);--chart-5:oklch(76.9% .188 70.08);--sidebar:oklch(98.5% 0 0);--sidebar-foreground:oklch(14.5% 0 0);--sidebar-primary:oklch(20.5% 0 0);--sidebar-primary-foreground:oklch(98.5% 0 0);--sidebar-accent:oklch(97% 0 0);--sidebar-accent-foreground:oklch(20.5% 0 0);--sidebar-border:oklch(92.2% 0 0);--sidebar-ring:oklch(70.8% 0 0);--code-background:oklch(22.5% 0 0);--code-foreground:oklch(87.5% 0 0)}.dark{--background:oklch(15.5% 0 0);--foreground:oklch(98.5% 0 0);--card:oklch(20.5% 0 0);--card-foreground:oklch(98.5% 0 0);--popover:oklch(20.5% 0 0);--popover-foreground:oklch(98.5% 0 0);--primary:oklch(92.2% 0 0);--primary-foreground:oklch(20.5% 0 0);--secondary:oklch(26.9% 0 0);--secondary-foreground:oklch(98.5% 0 0);--muted:oklch(26.9% 0 0);--muted-foreground:oklch(70.8% 0 0);--accent:oklch(26.9% 0 0);--accent-foreground:oklch(98.5% 0 0);--destructive:oklch(70.4% .191 22.216);--border:oklch(100% 0 0/.3);--input:oklch(100% 0 0/.3);--ring:oklch(55.6% 0 0);--chart-1:oklch(48.8% .243 264.376);--chart-2:oklch(69.6% .17 162.48);--chart-3:oklch(76.9% .188 70.08);--chart-4:oklch(62.7% .265 303.9);--chart-5:oklch(64.5% .246 16.439);--sidebar:oklch(20.5% 0 0);--sidebar-foreground:oklch(98.5% 0 0);--sidebar-primary:oklch(48.8% .243 264.376);--sidebar-primary-foreground:oklch(98.5% 0 0);--sidebar-accent:oklch(26.9% 0 0);--sidebar-accent-foreground:oklch(98.5% 0 0);--sidebar-border:oklch(100% 0 0/.1);--sidebar-ring:oklch(55.6% 0 0)}@property --tw-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-z{syntax:"*";inherits:false;initial-value:0}@property --tw-rotate-x{syntax:"*";inherits:false}@property --tw-rotate-y{syntax:"*";inherits:false}@property --tw-rotate-z{syntax:"*";inherits:false}@property --tw-skew-x{syntax:"*";inherits:false}@property --tw-skew-y{syntax:"*";inherits:false}@property --tw-space-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-space-x-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-gradient-position{syntax:"*";inherits:false}@property --tw-gradient-from{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-via{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-to{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-stops{syntax:"*";inherits:false}@property --tw-gradient-via-stops{syntax:"*";inherits:false}@property --tw-gradient-from-position{syntax:"<length-percentage>";inherits:false;initial-value:0%}@property --tw-gradient-via-position{syntax:"<length-percentage>";inherits:false;initial-value:50%}@property --tw-gradient-to-position{syntax:"<length-percentage>";inherits:false;initial-value:100%}@property --tw-leading{syntax:"*";inherits:false}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-tracking{syntax:"*";inherits:false}@property --tw-ordinal{syntax:"*";inherits:false}@property --tw-slashed-zero{syntax:"*";inherits:false}@property --tw-numeric-figure{syntax:"*";inherits:false}@property --tw-numeric-spacing{syntax:"*";inherits:false}@property --tw-numeric-fraction{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-outline-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-backdrop-blur{syntax:"*";inherits:false}@property --tw-backdrop-brightness{syntax:"*";inherits:false}@property --tw-backdrop-contrast{syntax:"*";inherits:false}@property --tw-backdrop-grayscale{syntax:"*";inherits:false}@property --tw-backdrop-hue-rotate{syntax:"*";inherits:false}@property --tw-backdrop-invert{syntax:"*";inherits:false}@property --tw-backdrop-opacity{syntax:"*";inherits:false}@property --tw-backdrop-saturate{syntax:"*";inherits:false}@property --tw-backdrop-sepia{syntax:"*";inherits:false}@property --tw-duration{syntax:"*";inherits:false}@property --tw-ease{syntax:"*";inherits:false}@property --tw-content{syntax:"*";inherits:false;initial-value:""}@keyframes pulse{50%{opacity:.5}}@keyframes enter{0%{opacity:var(--tw-enter-opacity,1);transform:translate3d(var(--tw-enter-translate-x,0),var(--tw-enter-translate-y,0),0)scale3d(var(--tw-enter-scale,1),var(--tw-enter-scale,1),var(--tw-enter-scale,1))rotate(var(--tw-enter-rotate,0))}}@keyframes exit{to{opacity:var(--tw-exit-opacity,1);transform:translate3d(var(--tw-exit-translate-x,0),var(--tw-exit-translate-y,0),0)scale3d(var(--tw-exit-scale,1),var(--tw-exit-scale,1),var(--tw-exit-scale,1))rotate(var(--tw-exit-rotate,0))}}html[dir=ltr],[data-sonner-toaster][dir=ltr]{--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}html[dir=rtl],[data-sonner-toaster][dir=rtl]{--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}@media (hover: none) and (pointer: coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translate(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}[data-sonner-toast][data-y-position=top]{top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px #0006}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:#00000014}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:#ffffff4d}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]:before{content:"";position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]:before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]:before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]:before{content:"";position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]:after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y: translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y: translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y: translateY( calc(var(--lift) * var(--offset) + var(--lift) * -100%) );opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]:before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{-webkit-user-select:none;user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 87%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 93%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 84%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 43%, 17%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 9%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}[data-scroll-area-viewport]{scrollbar-width:none!important;-ms-overflow-style:none!important;-webkit-overflow-scrolling:touch!important}[data-scroll-area-viewport]::-webkit-scrollbar{display:none!important}:where([data-scroll-area-viewport]){display:flex;flex-direction:column;align-items:stretch}:where([data-scroll-area-content]){flex-grow:1}a.svelte-1fk696n,button.svelte-1fk696n{cursor:pointer}button:where(.svelte-11sul7w) .actions.svelte-11sul7w{width:0;opacity:0}button:where(.svelte-11sul7w):hover .actions.svelte-11sul7w{width:auto;opacity:1}pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}/*!
  Theme: GitHub Dark
  Description: Dark theme as seen on github.com
  Author: github.com
  Maintainer: @Hirse
  Updated: 2021-05-15

  Outdated base version: https://github.com/primer/github-syntax-dark
  Current colors taken from GitHub's CSS
*/.hljs{color:#c9d1d9;background:#0d1117}.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_{color:#ff7b72}.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#d2a8ff}.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-variable,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id{color:#79c0ff}.hljs-regexp,.hljs-string,.hljs-meta .hljs-string{color:#a5d6ff}.hljs-built_in,.hljs-symbol{color:#ffa657}.hljs-comment,.hljs-code,.hljs-formula{color:#8b949e}.hljs-name,.hljs-quote,.hljs-selector-tag,.hljs-selector-pseudo{color:#7ee787}.hljs-subst{color:#c9d1d9}.hljs-section{color:#1f6feb;font-weight:700}.hljs-bullet{color:#f2cc60}.hljs-emphasis{color:#c9d1d9;font-style:italic}.hljs-strong{color:#c9d1d9;font-weight:700}.hljs-addition{color:#aff5b4;background-color:#033a16}.hljs-deletion{color:#ffdcd7;background-color:#67060c}div.svelte-1t16r5w p{margin-bottom:1rem;line-height:1.75}div.svelte-1t16r5w h1{font-size:1.875rem;font-weight:700;margin:1.5rem 0 .75rem;line-height:1.2}div.svelte-1t16r5w h2{font-size:1.5rem;font-weight:600;margin:1.25rem 0 .5rem;line-height:1.3}div.svelte-1t16r5w h3{font-size:1.25rem;font-weight:600;margin:1.5rem 0 .5rem;line-height:1.4}div.svelte-1t16r5w h4{font-size:1.125rem;font-weight:600;margin:.75rem 0 .25rem}div.svelte-1t16r5w h5{font-size:1rem;font-weight:600;margin:.5rem 0 .25rem}div.svelte-1t16r5w h6{font-size:.875rem;font-weight:600;margin:.5rem 0 .25rem}div.svelte-1t16r5w strong{font-weight:600}div.svelte-1t16r5w em{font-style:italic}div.svelte-1t16r5w del{text-decoration:line-through;opacity:.7}div.svelte-1t16r5w code:not(pre code){background:var(--muted);color:var(--muted-foreground);padding:.125rem .375rem;border-radius:.375rem;font-size:.875rem;font-family:ui-monospace,SFMono-Regular,SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,Liberation Mono,Menlo,monospace}div.svelte-1t16r5w a{color:var(--primary);text-decoration:underline;text-underline-offset:2px;transition:color .2s ease}div.svelte-1t16r5w a:hover{color:var(--primary)}div.svelte-1t16r5w ul{list-style-type:disc;margin-left:1.5rem;margin-bottom:1rem}div.svelte-1t16r5w ol{list-style-type:decimal;margin-left:1.5rem;margin-bottom:1rem}div.svelte-1t16r5w li{margin-bottom:.25rem;padding-left:.5rem}div.svelte-1t16r5w li::marker{color:var(--muted-foreground)}div.svelte-1t16r5w ul ul{list-style-type:circle;margin-top:.25rem;margin-bottom:.25rem}div.svelte-1t16r5w ol ol{list-style-type:lower-alpha;margin-top:.25rem;margin-bottom:.25rem}div.svelte-1t16r5w .task-list-item{list-style:none;margin-left:0;padding-left:0}div.svelte-1t16r5w .task-list-item-checkbox{margin-right:.5rem;margin-top:.125rem}div.svelte-1t16r5w blockquote{border-left:4px solid var(--border);padding:.5rem 1rem;margin:1.5rem 0;font-style:italic;color:var(--muted-foreground);background:var(--muted);border-radius:0 .375rem .375rem 0}div.svelte-1t16r5w table{width:100%;margin:1.5rem 0;border-collapse:collapse;border:1px solid var(--border);border-radius:.375rem;overflow:hidden}div.svelte-1t16r5w th{background:hsl(var(--muted) / .3);border:1px solid var(--border);padding:.5rem .75rem;text-align:left;font-weight:600}div.svelte-1t16r5w td{border:1px solid var(--border);padding:.5rem .75rem}div.svelte-1t16r5w tr:nth-child(2n){background:hsl(var(--muted) / .1)}div.svelte-1t16r5w hr{border:none;border-top:1px solid var(--border);margin:1.5rem 0}div.svelte-1t16r5w img{border-radius:.5rem;box-shadow:0 1px 3px #0000001a,0 1px 2px -1px #0000001a;margin:1.5rem 0;max-width:100%;height:auto}div.svelte-1t16r5w .code-block-wrapper{margin:1.5rem 0;border-radius:.75rem;overflow:hidden;border:1px solid var(--border);background:var(--code-background)}div.svelte-1t16r5w .code-block-header{display:flex;justify-content:space-between;align-items:center;padding:.5rem 1rem;background:hsl(var(--muted) / .5);border-bottom:1px solid var(--border);font-size:.875rem}div.svelte-1t16r5w .code-language{color:var(--code-foreground);font-weight:500;font-family:ui-monospace,SFMono-Regular,SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,Liberation Mono,Menlo,monospace;text-transform:uppercase;font-size:.75rem;letter-spacing:.05em}div.svelte-1t16r5w .copy-code-btn{display:flex;align-items:center;justify-content:center;padding:0;background:transparent;color:var(--code-foreground);cursor:pointer;transition:all .2s ease}div.svelte-1t16r5w .copy-code-btn:hover{transform:scale(1.05)}div.svelte-1t16r5w .copy-code-btn:active{transform:scale(.95)}div.svelte-1t16r5w .code-block-wrapper pre{background:transparent;padding:1rem;margin:0;overflow-x:auto;border-radius:0;border:none;font-size:.875rem;line-height:1.5}div.svelte-1t16r5w pre{background:var(--muted);margin:1.5rem 0;overflow-x:auto;border-radius:1rem;border:none}div.svelte-1t16r5w code{background:transparent}div.svelte-1t16r5w .mention{color:hsl(var(--primary));font-weight:500;text-decoration:none}div.svelte-1t16r5w .mention:hover{text-decoration:underline}div.svelte-1t16r5w .hashtag{color:hsl(var(--primary));font-weight:500;text-decoration:none}div.svelte-1t16r5w .hashtag:hover{text-decoration:underline}div.svelte-1t16r5w table{transition:all .2s ease}div.svelte-1t16r5w table:hover{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -2px #0000001a}div.svelte-1t16r5w th:hover,div.svelte-1t16r5w td:hover{background:var(--muted)}div.svelte-1t16r5w blockquote{transition:all .2s ease;position:relative}div.svelte-1t16r5w blockquote:hover{border-left-width:6px;background:var(--muted);transform:translate(2px)}div.svelte-1t16r5w blockquote:before{content:'"';position:absolute;top:-.5rem;left:.5rem;font-size:3rem;color:var(--muted-foreground);font-family:serif;line-height:1}div.svelte-1t16r5w img{transition:all .3s ease;cursor:pointer}div.svelte-1t16r5w img:hover{transform:scale(1.02);box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a}div.svelte-1t16r5w .image-zoom-overlay{position:fixed;inset:0;background:#000c;display:flex;align-items:center;justify-content:center;z-index:1000;cursor:pointer}div.svelte-1t16r5w .image-zoom-overlay img{max-width:90vw;max-height:90vh;border-radius:.5rem;box-shadow:0 25px 50px -12px #00000040}div.svelte-1t16r5w hr{border:none;height:2px;background:linear-gradient(to right,transparent,var(--border),transparent);margin:2rem 0;position:relative}div.svelte-1t16r5w hr:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:1rem;height:1rem;background:var(--border);border-radius:50%}div.svelte-1t16r5w .table-wrapper{overflow-x:auto;margin:1.5rem 0;border-radius:.5rem;border:1px solid var(--border)}div.svelte-1t16r5w .table-wrapper table{margin:0;border:none}@media (max-width: 640px){div.svelte-1t16r5w h1{font-size:1.5rem}div.svelte-1t16r5w h2{font-size:1.25rem}div.svelte-1t16r5w h3{font-size:1.125rem}div.svelte-1t16r5w table{font-size:.875rem}div.svelte-1t16r5w th,div.svelte-1t16r5w td{padding:.375rem .5rem}div.svelte-1t16r5w .table-wrapper{margin:.5rem -1rem;border-radius:0;border-left:none;border-right:none}}@media (prefers-color-scheme: dark){div.svelte-1t16r5w blockquote:hover{background:var(--muted)}}
</style>
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">
			<script>
				{
					__sveltekit_19scbhb = {
						base: ""
					};

					const element = document.currentScript.parentElement;

					var mS=Fn=>{throw TypeError(Fn)};var jb=(Fn,Bt,Cr)=>Bt.has(Fn)||mS("Cannot "+Cr);var Vn=(Fn,Bt,Cr)=>(jb(Fn,Bt,"read from private field"),Cr?Cr.call(Fn):Bt.get(Fn)),xs=(Fn,Bt,Cr)=>Bt.has(Fn)?mS("Cannot add the same private member more than once"):Bt instanceof WeakSet?Bt.add(Fn):Bt.set(Fn,Cr),di=(Fn,Bt,Cr,_o)=>(jb(Fn,Bt,"write to private field"),_o?_o.call(Fn,Cr):Bt.set(Fn,Cr),Cr),Es=(Fn,Bt,Cr)=>(jb(Fn,Bt,"access private method"),Cr);var bS=(Fn,Bt,Cr,_o)=>({set _($s){di(Fn,Bt,$s,Cr)},get _(){return Vn(Fn,Bt,_o)}});this.__sveltekit_19scbhb=this.__sveltekit_19scbhb||{};this.__sveltekit_19scbhb.app=function(Fn){"use strict";var go,Yi,Gs,ta,yh,na,ra,$r,Lh,vS,yS,qc,ul,Fh;var Bt=typeof document<"u"?document.currentScript:null;const Cr=!0,_o=!1;var $s=Array.isArray,wS=Array.prototype.indexOf,Bh=Array.from,gl=Object.defineProperty,Ys=Object.getOwnPropertyDescriptor,qb=Object.getOwnPropertyDescriptors,Wb=Object.prototype,_S=Array.prototype,Wc=Object.getPrototypeOf,Kb=Object.isExtensible;function ca(n){return typeof n=="function"}const Te=()=>{};function xS(n){return n()}function Kc(n){for(var e=0;e<n.length;e++)n[e]()}function ES(){var n,e,t=new Promise((r,i)=>{n=r,e=i});return{promise:t,resolve:n,reject:e}}function AS(n,e){if(Array.isArray(n))return n;if(!(Symbol.iterator in n))return Array.from(n);const t=[];for(const r of n)if(t.push(r),t.length===e)break;return t}const hi=2,zh=4,$c=8,ua=16,As=32,xo=64,$b=128,ki=256,Yc=512,yr=1024,Qr=2048,Eo=4096,Hi=8192,Ao=16384,Xc=32768,So=65536,Yb=1<<17,Xb=1<<18,Uh=1<<19,Hh=1<<20,Gh=1<<21,Vh=1<<22,ko=1<<23,Qi=Symbol("$state"),jh=Symbol("legacy props"),SS=Symbol(""),qh=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"},kS=1,Wh=3,Xs=8;function CS(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function da(n){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function TS(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function NS(n){throw new Error("https://svelte.dev/e/effect_in_teardown")}function IS(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function PS(n){throw new Error("https://svelte.dev/e/effect_orphan")}function RS(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function OS(){throw new Error("https://svelte.dev/e/get_abort_signal_outside_reaction")}function MS(){throw new Error("https://svelte.dev/e/hydration_failed")}function Zb(n){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function DS(n){throw new Error("https://svelte.dev/e/props_invalid_value")}function LS(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function FS(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function BS(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const Zc=1,Qc=2,Qb=4,zS=8,US=16,HS=1,GS=2,VS=4,jS=8,qS=16,WS=1,KS=2,$S=4,YS=1,XS=2,Kh="[",$h="[!",Yh="]",Co={},pr=Symbol(),ZS="http://www.w3.org/1999/xhtml",QS="http://www.w3.org/2000/svg",Jb="@attach";function ml(n){console.warn("https://svelte.dev/e/hydration_mismatch")}function JS(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}let yt=!1;function Ur(n){yt=n}let Rt;function wr(n){if(n===null)throw ml(),Co;return Rt=n}function Ci(){return wr(Ti(Rt))}function ue(n){if(yt){if(Ti(Rt)!==null)throw ml(),Co;Rt=n}}function jn(n=1){if(yt){for(var e=n,t=Rt;e--;)t=Ti(t);Rt=t}}function Xh(){for(var n=0,e=Rt;;){if(e.nodeType===Xs){var t=e.data;if(t===Yh){if(n===0)return e;n-=1}else(t===Kh||t===$h)&&(n+=1)}var r=Ti(e);e.remove(),e=r}}function ev(n){if(!n||n.nodeType!==Xs)throw ml(),Co;return n.data}function tv(n){return n===this.v}function Zh(n,e){return n!=n?e==e:n!==e||n!==null&&typeof n=="object"||typeof n=="function"}function e1(n,e){return n!==e}function nv(n){return!Zh(n,this.v)}let ha=!1,t1=!1;function n1(){ha=!0}const r1=[];function rv(n,e=!1){return Jc(n,new Map,"",r1)}function Jc(n,e,t,r,i=null){if(typeof n=="object"&&n!==null){var s=e.get(n);if(s!==void 0)return s;if(n instanceof Map)return new Map(n);if(n instanceof Set)return new Set(n);if($s(n)){var o=Array(n.length);e.set(n,o),i!==null&&e.set(i,o);for(var a=0;a<n.length;a+=1){var l=n[a];a in n&&(o[a]=Jc(l,e,t,r))}return o}if(Wc(n)===Wb){o={},e.set(n,o),i!==null&&e.set(i,o);for(var c in n)o[c]=Jc(n[c],e,t,r);return o}if(n instanceof Date)return structuredClone(n);if(typeof n.toJSON=="function")return Jc(n.toJSON(),e,t,r,n)}if(n instanceof EventTarget)return n;try{return structuredClone(n)}catch{return n}}let gn=null;function eu(n){gn=n}function fa(n){return nu().get(n)}function tu(n,e){return nu().set(n,e),e}function Qh(n){return nu().has(n)}function iv(){return nu()}function be(n,e=!1,t){gn={p:gn,c:null,e:null,s:n,x:null,l:ha&&!e?{s:null,u:null,$:[]}:null}}function ve(n){var e=gn,t=e.e;if(t!==null){e.e=null;for(var r of t)xv(r)}return gn=e.p,{}}function To(){return!ha||gn!==null&&gn.l===null}function nu(n){return gn===null&&da(),gn.c??=new Map(i1(gn)||void 0)}function i1(n){let e=n.p;for(;e!==null;){const t=e.c;if(t!==null)return t;e=e.p}return null}const s1=new WeakMap;function o1(n){var e=Wt;if(e===null)return on.f|=ko,n;if((e.f&Xc)===0){if((e.f&$b)===0)throw!e.parent&&n instanceof Error&&sv(n),n;e.b.error(n)}else Jh(n,e)}function Jh(n,e){for(;e!==null;){if((e.f&$b)!==0)try{e.b.error(n);return}catch(t){n=t}e=e.parent}throw n instanceof Error&&sv(n),n}function sv(n){const e=s1.get(n);e&&(gl(n,"message",{value:e.message}),gl(n,"stack",{value:e.stack}))}const a1=typeof requestIdleCallback>"u"?n=>setTimeout(n,1):requestIdleCallback;let bl=[],vl=[];function ov(){var n=bl;bl=[],Kc(n)}function av(){var n=vl;vl=[],Kc(n)}function pa(n){bl.length===0&&queueMicrotask(ov),bl.push(n)}function l1(n){vl.length===0&&a1(av),vl.push(n)}function c1(){bl.length>0&&ov(),vl.length>0&&av()}function No(n){let e=0,t=Po(0),r;return()=>{b1()&&(w(t),uu(()=>(e===0&&(r=_n(()=>n(()=>Ss(t)))),e+=1,()=>{pa(()=>{e-=1,e===0&&(r?.(),r=void 0)})})))}}function u1(){for(var n=Wt.b;n!==null&&!n.has_pending_snippet();)n=n.parent;return n===null&&CS(),n}function yl(n){var e=hi|Qr,t=on!==null&&(on.f&hi)!==0?on:null;return Wt===null||t!==null&&(t.f&ki)!==0?e|=ki:Wt.f|=Uh,{ctx:gn,deps:null,effects:null,equals:tv,f:e,fn:n,reactions:null,rv:0,v:pr,wv:0,parent:t??Wt,ac:null}}function d1(n,e){let t=Wt;t===null&&TS();var r=t.b,i=void 0,s=Po(pr),o=null,a=!on;return y1(()=>{try{var l=n()}catch(f){l=Promise.reject(f)}var c=()=>l;i=o?.then(c,c)??Promise.resolve(l),o=i;var u=$n,d=r.pending;a&&(r.update_pending_count(1),d||u.increment());const h=(f,g=void 0)=>{o=null,d||u.activate(),g?g!==qh&&(s.f|=ko,wl(s,g)):((s.f&ko)!==0&&(s.f^=ko),wl(s,f)),a&&(r.update_pending_count(-1),d||u.decrement()),dv()};if(i.then(h,f=>h(null,f||"unknown")),u)return()=>{queueMicrotask(()=>u.neuter())}}),new Promise(l=>{function c(u){function d(){u===i?l(s):c(i)}u.then(d,d)}c(i)})}function q(n){const e=yl(n);return Pv(e),e}function ef(n){const e=yl(n);return e.equals=nv,e}function lv(n){var e=n.effects;if(e!==null){n.effects=null;for(var t=0;t<e.length;t+=1)Hr(e[t])}}function h1(n){for(var e=n.parent;e!==null;){if((e.f&hi)===0)return e;e=e.parent}return null}function tf(n){var e,t=Wt;Js(h1(n));try{lv(n),e=Dv(n)}finally{Js(t)}return e}function cv(n){var e=tf(n);if(n.equals(e)||(n.v=e,n.wv=Ov()),!Ro)if(ga!==null)ga.set(n,n.v);else{var t=(eo||(n.f&ki)!==0)&&n.deps!==null?Eo:yr;xr(n,t)}}function uv(n,e,t){const r=To()?yl:ef;if(e.length===0){t(n.map(r));return}var i=$n,s=Wt,o=f1(),a=u1();Promise.all(e.map(l=>d1(l))).then(l=>{i?.activate(),o();try{t([...n.map(r),...l])}catch(c){(s.f&Ao)===0&&Jh(c,s)}i?.deactivate(),dv()}).catch(l=>{a.error(l)})}function f1(){var n=Wt,e=on,t=gn;return function(){Js(n),Ji(e),eu(t)}}function dv(){Js(null),Ji(null),eu(null)}const ru=new Set;let $n=null,ga=null,hv=new Set,iu=[];function fv(){const n=iu.shift();iu.length>0&&queueMicrotask(fv),n()}let ma=[],su=null,nf=!1;class Zs{#e=new Map;#t=new Map;#n=new Set;#r=0;#s=null;#i=!1;#o=[];#a=[];#l=[];#c=[];#d=[];skipped_effects=new Set;#u(e){ma=[];var t=null;if(ru.size>1){t=new Map,ga=new Map;for(const[s,o]of this.#e)t.set(s,{v:s.v,wv:s.wv}),s.v=o;for(const s of ru)if(s!==this)for(const[o,a]of s.#t)t.has(o)||(t.set(o,{v:o.v,wv:o.wv}),o.v=a)}for(const s of e)this.#p(s);if(this.#o.length===0&&this.#r===0){var r=this.#l,i=this.#c;this.#l=[],this.#c=[],this.#d=[],this.#g(),pv(r),pv(i),this.#s?.resolve()}else{for(const s of this.#l)xr(s,yr);for(const s of this.#c)xr(s,yr);for(const s of this.#d)xr(s,yr)}if(t){for(const[s,{v:o,wv:a}]of t)s.wv<=a&&(s.v=o);ga=null}for(const s of this.#o)xl(s);for(const s of this.#a)xl(s);this.#o=[],this.#a=[]}#p(e){e.f^=yr;for(var t=e.first;t!==null;){var r=t.f,i=(r&(As|xo))!==0,s=i&&(r&yr)!==0,o=s||(r&Hi)!==0||this.skipped_effects.has(t);if(!o&&t.fn!==null){if(i)t.f^=yr;else if((r&zh)!==0)this.#c.push(t);else if(fu(t))if((r&Vh)!==0){var a=t.b?.pending?this.#a:this.#o;a.push(t)}else(t.f&ua)!==0&&this.#d.push(t),xl(t);var l=t.first;if(l!==null){t=l;continue}}var c=t.parent;for(t=t.next;t===null&&c!==null;)t=c.next,c=c.parent}}capture(e,t){this.#t.has(e)||this.#t.set(e,t),this.#e.set(e,e.v)}activate(){$n=this}deactivate(){$n=null;for(const e of hv)if(hv.delete(e),e(),$n!==null)break}neuter(){this.#i=!0}flush(){ma.length>0?this.flush_effects():this.#g(),$n===this&&(this.#r===0&&ru.delete(this),this.deactivate())}flush_effects(){var e=va;nf=!0;try{var t=0;for(Nv(!0);ma.length>0;){if(t++>1e3){var r,i;p1()}this.#u(ma),Io.clear()}}finally{nf=!1,Nv(e),su=null}}#g(){if(!this.#i)for(const e of this.#n)e();this.#n.clear()}increment(){this.#r+=1}decrement(){if(this.#r-=1,this.#r===0){for(const e of this.#l)xr(e,Qr),Qs(e);for(const e of this.#c)xr(e,Qr),Qs(e);for(const e of this.#d)xr(e,Qr),Qs(e);this.#l=[],this.#c=[],this.flush()}else this.deactivate()}add_callback(e){this.#n.add(e)}settled(){return(this.#s??=ES()).promise}static ensure(e=!0){if($n===null){const t=$n=new Zs;ru.add($n),e&&Zs.enqueue(()=>{$n===t&&t.flush()})}return $n}static enqueue(e){iu.length===0&&queueMicrotask(fv),iu.unshift(e)}}function rf(n){var e;const t=Zs.ensure(!1);for(n&&(t.flush_effects(),e=n());;){if(c1(),ma.length===0)return t===$n&&t.flush(),su=null,e;t.flush_effects()}}function p1(){try{RS()}catch(n){Jh(n,su)}}function pv(n){var e=n.length;if(e!==0){for(var t=0;t<e;t++){var r=n[t];if((r.f&(Ao|Hi))===0&&fu(r)){var i=hu;if(xl(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?kv(r):r.fn=null),hu>i&&(r.f&Hh)!==0)break}}for(;t<e;t+=1)Qs(n[t])}}function Qs(n){for(var e=su=n;e.parent!==null;){e=e.parent;var t=e.f;if(nf&&e===Wt&&(t&ua)!==0)return;if((t&(xo|As))!==0){if((t&yr)===0)return;e.f^=yr}}ma.push(e)}const Io=new Map;function Po(n,e){var t={f:0,v:n,reactions:null,equals:tv,rv:0,wv:0};return t}function _e(n,e){const t=Po(n);return Pv(t),t}function sf(n,e=!1,t=!0){const r=Po(n);return e||(r.equals=nv),ha&&t&&gn!==null&&gn.l!==null&&(gn.l.s??=[]).push(r),r}function G(n,e,t=!1){on!==null&&(!Vi||(on.f&Yb)!==0)&&To()&&(on.f&(hi|ua|Vh|Yb))!==0&&!Cs?.includes(n)&&BS();let r=t?Nn(e):e;return wl(n,r)}function wl(n,e){if(!n.equals(e)){var t=n.v;Ro?Io.set(n,e):Io.set(n,t),n.v=e,Zs.ensure().capture(n,t),(n.f&hi)!==0&&((n.f&Qr)!==0&&tf(n),xr(n,(n.f&ki)===0?yr:Eo)),n.wv=Ov(),mv(n,Qr),To()&&Wt!==null&&(Wt.f&yr)!==0&&(Wt.f&(As|xo))===0&&(Ii===null?_1([n]):Ii.push(n))}return e}function gv(n,e=1){var t=w(n),r=e===1?t++:t--;return G(n,t),r}function Ss(n){G(n,n.v+1)}function mv(n,e){var t=n.reactions;if(t!==null)for(var r=To(),i=t.length,s=0;s<i;s++){var o=t[s],a=o.f;!r&&o===Wt||((a&Qr)===0&&xr(o,e),(a&hi)!==0?mv(o,Eo):(a&Qr)===0&&Qs(o))}}function Nn(n){if(typeof n!="object"||n===null||Qi in n)return n;const e=Wc(n);if(e!==Wb&&e!==_S)return n;var t=new Map,r=$s(n),i=_e(0),s=Ts,o=a=>{if(Ts===s)return a();var l=on,c=Ts;Ji(null),Rv(s);var u=a();return Ji(l),Rv(c),u};return r&&t.set("length",_e(n.length)),new Proxy(n,{defineProperty(a,l,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&LS();var u=t.get(l);return u===void 0?u=o(()=>{var d=_e(c.value);return t.set(l,d),d}):G(u,c.value,!0),!0},deleteProperty(a,l){var c=t.get(l);if(c===void 0){if(l in a){const u=o(()=>_e(pr));t.set(l,u),Ss(i)}}else G(c,pr),Ss(i);return!0},get(a,l,c){if(l===Qi)return n;var u=t.get(l),d=l in a;if(u===void 0&&(!d||Ys(a,l)?.writable)&&(u=o(()=>{var f=Nn(d?a[l]:pr),g=_e(f);return g}),t.set(l,u)),u!==void 0){var h=w(u);return h===pr?void 0:h}return Reflect.get(a,l,c)},getOwnPropertyDescriptor(a,l){var c=Reflect.getOwnPropertyDescriptor(a,l);if(c&&"value"in c){var u=t.get(l);u&&(c.value=w(u))}else if(c===void 0){var d=t.get(l),h=d?.v;if(d!==void 0&&h!==pr)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return c},has(a,l){if(l===Qi)return!0;var c=t.get(l),u=c!==void 0&&c.v!==pr||Reflect.has(a,l);if(c!==void 0||Wt!==null&&(!u||Ys(a,l)?.writable)){c===void 0&&(c=o(()=>{var h=u?Nn(a[l]):pr,f=_e(h);return f}),t.set(l,c));var d=w(c);if(d===pr)return!1}return u},set(a,l,c,u){var d=t.get(l),h=l in a;if(r&&l==="length")for(var f=c;f<d.v;f+=1){var g=t.get(f+"");g!==void 0?G(g,pr):f in a&&(g=o(()=>_e(pr)),t.set(f+"",g))}if(d===void 0)(!h||Ys(a,l)?.writable)&&(d=o(()=>_e(void 0)),G(d,Nn(c)),t.set(l,d));else{h=d.v!==pr;var m=o(()=>Nn(c));G(d,m)}var y=Reflect.getOwnPropertyDescriptor(a,l);if(y?.set&&y.set.call(u,c),!h){if(r&&typeof l=="string"){var v=t.get("length"),A=Number(l);Number.isInteger(A)&&A>=v.v&&G(v,A+1)}Ss(i)}return!0},ownKeys(a){w(i);var l=Reflect.ownKeys(a).filter(d=>{var h=t.get(d);return h===void 0||h.v!==pr});for(var[c,u]of t)u.v!==pr&&!(c in a)&&l.push(c);return l},setPrototypeOf(){FS()}})}function bv(n){try{if(n!==null&&typeof n=="object"&&Qi in n)return n[Qi]}catch{}return n}function g1(n,e){return Object.is(bv(n),bv(e))}var of,af,vv,yv,wv;function lf(){if(of===void 0){of=window,af=document,vv=/Firefox/.test(navigator.userAgent);var n=Element.prototype,e=Node.prototype,t=Text.prototype;yv=Ys(e,"firstChild").get,wv=Ys(e,"nextSibling").get,Kb(n)&&(n.__click=void 0,n.__className=void 0,n.__attributes=null,n.__style=void 0,n.__e=void 0),Kb(t)&&(t.__t=void 0)}}function Jr(n=""){return document.createTextNode(n)}function _r(n){return yv.call(n)}function Ti(n){return wv.call(n)}function he(n,e){if(!yt)return _r(n);var t=_r(Rt);if(t===null)t=Rt.appendChild(Jr());else if(e&&t.nodeType!==Wh){var r=Jr();return t?.before(r),wr(r),r}return wr(t),t}function j(n,e){if(!yt){var t=_r(n);return t instanceof Comment&&t.data===""?Ti(t):t}return Rt}function Ne(n,e=1,t=!1){let r=yt?Rt:n;for(var i;e--;)i=r,r=Ti(r);if(!yt)return r;if(t&&r?.nodeType!==Wh){var s=Jr();return r===null?i?.after(s):r.before(s),wr(s),s}return wr(r),r}function cf(n){n.textContent=""}function ou(){return!1}function _v(n){Wt===null&&on===null&&PS(),on!==null&&(on.f&ki)!==0&&Wt===null&&IS(),Ro&&NS()}function m1(n,e){var t=e.last;t===null?e.last=e.first=n:(t.next=n,n.prev=t,e.last=n)}function Gi(n,e,t,r=!0){var i=Wt;i!==null&&(i.f&Hi)!==0&&(n|=Hi);var s={ctx:gn,deps:null,nodes_start:null,nodes_end:null,f:n|Qr,first:null,fn:e,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(t)try{xl(s),s.f|=Xc}catch(l){throw Hr(s),l}else e!==null&&Qs(s);var o=t&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&Uh)===0;if(!o&&r&&(i!==null&&m1(s,i),on!==null&&(on.f&hi)!==0)){var a=on;(a.effects??=[]).push(s)}return s}function b1(){return on!==null&&!Vi}function au(n){const e=Gi($c,null,!1);return xr(e,yr),e.teardown=n,e}function Tt(n){_v();var e=Wt.f,t=!on&&(e&As)!==0&&(e&Xc)===0;if(t){var r=gn;(r.e??=[]).push(n)}else return xv(n)}function xv(n){return Gi(zh|Hh,n,!1)}function ei(n){return _v(),Gi($c|Hh,n,!0)}function lu(n){Zs.ensure();const e=Gi(xo,n,!0);return()=>{Hr(e)}}function v1(n){Zs.ensure();const e=Gi(xo,n,!0);return(t={})=>new Promise(r=>{t.outro?ba(e,()=>{Hr(e),r(void 0)}):(Hr(e),r(void 0))})}function cu(n){return Gi(zh,n,!1)}function y1(n){return Gi(Vh|Uh,n,!0)}function uu(n,e=0){return Gi($c|e,n,!0)}function ft(n,e=[],t=[]){uv(e,t,r=>{Gi($c,()=>n(...r.map(w)),!0)})}function ks(n,e=0){var t=Gi(ua|e,n,!0);return t}function Ni(n,e=!0){return Gi(As,n,!0,e)}function Ev(n){var e=n.teardown;if(e!==null){const t=Ro,r=on;Iv(!0),Ji(null);try{e.call(null)}finally{Iv(t),Ji(r)}}}function Av(n,e=!1){var t=n.first;for(n.first=n.last=null;t!==null;){t.ac?.abort(qh);var r=t.next;(t.f&xo)!==0?t.parent=null:Hr(t,e),t=r}}function w1(n){for(var e=n.first;e!==null;){var t=e.next;(e.f&As)===0&&Hr(e),e=t}}function Hr(n,e=!0){var t=!1;(e||(n.f&Xb)!==0)&&n.nodes_start!==null&&n.nodes_end!==null&&(Sv(n.nodes_start,n.nodes_end),t=!0),Av(n,e&&!t),pu(n,0),xr(n,Ao);var r=n.transitions;if(r!==null)for(const s of r)s.stop();Ev(n);var i=n.parent;i!==null&&i.first!==null&&kv(n),n.next=n.prev=n.teardown=n.ctx=n.deps=n.fn=n.nodes_start=n.nodes_end=n.ac=null}function Sv(n,e){for(;n!==null;){var t=n===e?null:Ti(n);n.remove(),n=t}}function kv(n){var e=n.parent,t=n.prev,r=n.next;t!==null&&(t.next=r),r!==null&&(r.prev=t),e!==null&&(e.first===n&&(e.first=r),e.last===n&&(e.last=t))}function ba(n,e){var t=[];uf(n,t,!0),Cv(t,()=>{Hr(n),e&&e()})}function Cv(n,e){var t=n.length;if(t>0){var r=()=>--t||e();for(var i of n)i.out(r)}else e()}function uf(n,e,t){if((n.f&Hi)===0){if(n.f^=Hi,n.transitions!==null)for(const o of n.transitions)(o.is_global||t)&&e.push(o);for(var r=n.first;r!==null;){var i=r.next,s=(r.f&So)!==0||(r.f&As)!==0;uf(r,e,s?t:!1),r=i}}}function du(n){Tv(n,!0)}function Tv(n,e){if((n.f&Hi)!==0){n.f^=Hi,(n.f&yr)===0&&(xr(n,Qr),Qs(n));for(var t=n.first;t!==null;){var r=t.next,i=(t.f&So)!==0||(t.f&As)!==0;Tv(t,i?e:!1),t=r}if(n.transitions!==null)for(const s of n.transitions)(s.is_global||e)&&s.in()}}let va=!1;function Nv(n){va=n}let Ro=!1;function Iv(n){Ro=n}let on=null,Vi=!1;function Ji(n){on=n}let Wt=null;function Js(n){Wt=n}let Cs=null;function Pv(n){on!==null&&(Cs===null?Cs=[n]:Cs.push(n))}let Gr=null,fi=0,Ii=null;function _1(n){Ii=n}let hu=1,_l=0,Ts=_l;function Rv(n){Ts=n}let eo=!1;function Ov(){return++hu}function fu(n){var e=n.f;if((e&Qr)!==0)return!0;if((e&Eo)!==0){var t=n.deps,r=(e&ki)!==0;if(t!==null){var i,s,o=(e&Yc)!==0,a=r&&Wt!==null&&!eo,l=t.length;if((o||a)&&(Wt===null||(Wt.f&Ao)===0)){var c=n,u=c.parent;for(i=0;i<l;i++)s=t[i],(o||!s?.reactions?.includes(c))&&(s.reactions??=[]).push(c);o&&(c.f^=Yc),a&&u!==null&&(u.f&ki)===0&&(c.f^=ki)}for(i=0;i<l;i++)if(s=t[i],fu(s)&&cv(s),s.wv>n.wv)return!0}(!r||Wt!==null&&!eo)&&xr(n,yr)}return!1}function Mv(n,e,t=!0){var r=n.reactions;if(r!==null&&!Cs?.includes(n))for(var i=0;i<r.length;i++){var s=r[i];(s.f&hi)!==0?Mv(s,e,!1):e===s&&(t?xr(s,Qr):(s.f&yr)!==0&&xr(s,Eo),Qs(s))}}function Dv(n){var e=Gr,t=fi,r=Ii,i=on,s=eo,o=Cs,a=gn,l=Vi,c=Ts,u=n.f;Gr=null,fi=0,Ii=null,eo=(u&ki)!==0&&(Vi||!va||on===null),on=(u&(As|xo))===0?n:null,Cs=null,eu(n.ctx),Vi=!1,Ts=++_l,n.ac!==null&&(n.ac.abort(qh),n.ac=null);try{n.f|=Gh;var d=(0,n.fn)(),h=n.deps;if(Gr!==null){var f;if(pu(n,fi),h!==null&&fi>0)for(h.length=fi+Gr.length,f=0;f<Gr.length;f++)h[fi+f]=Gr[f];else n.deps=h=Gr;if(!eo||(u&hi)!==0&&n.reactions!==null)for(f=fi;f<h.length;f++)(h[f].reactions??=[]).push(n)}else h!==null&&fi<h.length&&(pu(n,fi),h.length=fi);if(To()&&Ii!==null&&!Vi&&h!==null&&(n.f&(hi|Eo|Qr))===0)for(f=0;f<Ii.length;f++)Mv(Ii[f],n);return i!==null&&i!==n&&(_l++,Ii!==null&&(r===null?r=Ii:r.push(...Ii))),(n.f&ko)!==0&&(n.f^=ko),d}catch(g){return o1(g)}finally{n.f^=Gh,Gr=e,fi=t,Ii=r,on=i,eo=s,Cs=o,eu(a),Vi=l,Ts=c}}function x1(n,e){let t=e.reactions;if(t!==null){var r=wS.call(t,n);if(r!==-1){var i=t.length-1;i===0?t=e.reactions=null:(t[r]=t[i],t.pop())}}t===null&&(e.f&hi)!==0&&(Gr===null||!Gr.includes(e))&&(xr(e,Eo),(e.f&(ki|Yc))===0&&(e.f^=Yc),lv(e),pu(e,0))}function pu(n,e){var t=n.deps;if(t!==null)for(var r=e;r<t.length;r++)x1(n,t[r])}function xl(n){var e=n.f;if((e&Ao)===0){xr(n,yr);var t=Wt,r=va;Wt=n,va=!0;try{(e&ua)!==0?w1(n):Av(n),Ev(n);var i=Dv(n);n.teardown=typeof i=="function"?i:null,n.wv=hu;var s;_o&&t1&&(n.f&Qr)!==0&&n.deps}finally{va=r,Wt=t}}}async function df(){await Promise.resolve(),rf()}function E1(){return Zs.ensure().settled()}function w(n){var e=n.f,t=(e&hi)!==0;if(on!==null&&!Vi){var r=Wt!==null&&(Wt.f&Ao)!==0;if(!r&&!Cs?.includes(n)){var i=on.deps;if((on.f&Gh)!==0)n.rv<_l&&(n.rv=_l,Gr===null&&i!==null&&i[fi]===n?fi++:Gr===null?Gr=[n]:(!eo||!Gr.includes(n))&&Gr.push(n));else{(on.deps??=[]).push(n);var s=n.reactions;s===null?n.reactions=[on]:s.includes(on)||s.push(on)}}}else if(t&&n.deps===null&&n.effects===null){var o=n,a=o.parent;a!==null&&(a.f&ki)===0&&(o.f^=ki)}if(Ro){if(Io.has(n))return Io.get(n);if(t){o=n;var l=o.v;return((o.f&yr)===0&&o.reactions!==null||Lv(o))&&(l=tf(o)),Io.set(o,l),l}}else if(t){if(o=n,ga?.has(o))return ga.get(o);fu(o)&&cv(o)}if((n.f&ko)!==0)throw n.v;return n.v}function Lv(n){if(n.v===pr)return!0;if(n.deps===null)return!1;for(const e of n.deps)if(Io.has(e)||(e.f&hi)!==0&&Lv(e))return!0;return!1}function _n(n){var e=Vi;try{return Vi=!0,n()}finally{Vi=e}}const A1=-7169;function xr(n,e){n.f=n.f&A1|e}function S1(n){if(!(typeof n!="object"||!n||n instanceof EventTarget)){if(Qi in n)hf(n);else if(!Array.isArray(n))for(let e in n){const t=n[e];typeof t=="object"&&t&&Qi in t&&hf(t)}}}function hf(n,e=new Set){if(typeof n=="object"&&n!==null&&!(n instanceof EventTarget)&&!e.has(n)){e.add(n),n instanceof Date&&n.getTime();for(let r in n)try{hf(n[r],e)}catch{}const t=Wc(n);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const r=qb(t);for(let i in r){const s=r[i].get;if(s)try{s.call(n)}catch{}}}}}function k1(){return Symbol(Jb)}function C1(n){return n.endsWith("capture")&&n!=="gotpointercapture"&&n!=="lostpointercapture"}const T1=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function N1(n){return T1.includes(n)}const I1={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function P1(n){return n=n.toLowerCase(),I1[n]??n}const R1=["touchstart","touchmove"];function O1(n){return R1.includes(n)}const M1=["textarea","script","style","title"];function D1(n){return M1.includes(n)}function L1(n,e){if(e){const t=document.body;n.autofocus=!0,pa(()=>{document.activeElement===t&&n.focus()})}}function ff(n){yt&&_r(n)!==null&&cf(n)}let Fv=!1;function Bv(){Fv||(Fv=!0,document.addEventListener("reset",n=>{Promise.resolve().then(()=>{if(!n.defaultPrevented)for(const e of n.target.elements)e.__on_r?.()})},{capture:!0}))}function gu(n){var e=on,t=Wt;Ji(null),Js(null);try{return n()}finally{Ji(e),Js(t)}}function zv(n,e,t,r=t){n.addEventListener(e,()=>gu(t));const i=n.__on_r;i?n.__on_r=()=>{i(),r(!0)}:n.__on_r=()=>r(!0),Bv()}const Uv=new Set,pf=new Set;function gf(n,e,t,r={}){function i(s){if(r.capture||El.call(e,s),!s.cancelBubble)return gu(()=>t?.call(this,s))}return n.startsWith("pointer")||n.startsWith("touch")||n==="wheel"?pa(()=>{e.addEventListener(n,i,r)}):e.addEventListener(n,i,r),i}function vn(n,e,t,r={}){var i=gf(e,n,t,r);return()=>{n.removeEventListener(e,i,r)}}function pi(n,e,t,r,i){var s={capture:r,passive:i},o=gf(n,e,t,s);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&au(()=>{e.removeEventListener(n,o,s)})}function to(n){for(var e=0;e<n.length;e++)Uv.add(n[e]);for(var t of pf)t(n)}function El(n){var e=this,t=e.ownerDocument,r=n.type,i=n.composedPath?.()||[],s=i[0]||n.target,o=0,a=n.__root;if(a){var l=i.indexOf(a);if(l!==-1&&(e===document||e===window)){n.__root=e;return}var c=i.indexOf(e);if(c===-1)return;l<=c&&(o=l)}if(s=i[o]||n.target,s!==e){gl(n,"currentTarget",{configurable:!0,get(){return s||t}});var u=on,d=Wt;Ji(null),Js(null);try{for(var h,f=[];s!==null;){var g=s.assignedSlot||s.parentNode||s.host||null;try{var m=s["__"+r];if(m!=null&&(!s.disabled||n.target===s))if($s(m)){var[y,...v]=m;y.apply(s,[n,...v])}else m.call(s,n)}catch(A){h?f.push(A):h=A}if(n.cancelBubble||g===e||g===null)break;s=g}if(h){for(let A of f)queueMicrotask(()=>{throw A});throw h}}finally{n.__root=e,delete n.currentTarget,Ji(u),Js(d)}}}let Pi;function F1(){Pi=void 0}function mf(n){let e=null,t=yt;var r;if(yt){for(e=Rt,Pi===void 0&&(Pi=_r(document.head));Pi!==null&&(Pi.nodeType!==Xs||Pi.data!==Kh);)Pi=Ti(Pi);Pi===null?Ur(!1):Pi=wr(Ti(Pi))}yt||(r=document.head.appendChild(Jr()));try{ks(()=>n(r),Xb)}finally{t&&(Ur(!0),Pi=Rt,wr(e))}}function mu(n){var e=document.createElement("template");return e.innerHTML=n.replaceAll("<!>","<!---->"),e.content}function ti(n,e){var t=Wt;t.nodes_start===null&&(t.nodes_start=n,t.nodes_end=e)}function de(n,e){var t=(e&YS)!==0,r=(e&XS)!==0,i,s=!n.startsWith("<!>");return()=>{if(yt)return ti(Rt,null),Rt;i===void 0&&(i=mu(s?n:"<!>"+n),t||(i=_r(i)));var o=r||vv?document.importNode(i,!0):i.cloneNode(!0);if(t){var a=_r(o),l=o.lastChild;ti(a,l)}else ti(o,o);return o}}function B1(n,e,t="svg"){var r=!n.startsWith("<!>"),i=`<${t}>${r?n:"<!>"+n}</${t}>`,s;return()=>{if(yt)return ti(Rt,null),Rt;if(!s){var o=mu(i),a=_r(o);s=_r(a)}var l=s.cloneNode(!0);return ti(l,l),l}}function Oo(n,e){return B1(n,e,"svg")}function Vr(n=""){if(!yt){var e=Jr(n+"");return ti(e,e),e}var t=Rt;return t.nodeType!==Wh&&(t.before(t=Jr()),wr(t)),ti(t,t),t}function te(){if(yt)return ti(Rt,null),Rt;var n=document.createDocumentFragment(),e=document.createComment(""),t=Jr();return n.append(e,t),ti(e,t),n}function I(n,e){if(yt){Wt.nodes_end=Rt,Ci();return}n!==null&&n.before(e)}function Er(){if(yt&&Rt&&Rt.nodeType===Xs&&Rt.textContent?.startsWith("#")){const n=Rt.textContent.substring(1);return Ci(),n}return(window.__svelte??={}).uid??=1,`c${window.__svelte.uid++}`}let bu=!0;function Hv(n){bu=n}function Xt(n,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(n.__t??=n.nodeValue)&&(n.__t=t,n.nodeValue=t+"")}function vu(n,e){return Vv(n,e)}function Gv(n,e){lf(),e.intro=e.intro??!1;const t=e.target,r=yt,i=Rt;try{for(var s=_r(t);s&&(s.nodeType!==Xs||s.data!==Kh);)s=Ti(s);if(!s)throw Co;Ur(!0),wr(s),Ci();const o=Vv(n,{...e,anchor:s});if(Rt===null||Rt.nodeType!==Xs||Rt.data!==Yh)throw ml(),Co;return Ur(!1),o}catch(o){if(o===Co)return e.recover===!1&&MS(),lf(),cf(t),Ur(!1),vu(n,e);throw o}finally{Ur(r),wr(i),F1()}}const ya=new Map;function Vv(n,{target:e,anchor:t,props:r={},events:i,context:s,intro:o=!0}){lf();var a=new Set,l=d=>{for(var h=0;h<d.length;h++){var f=d[h];if(!a.has(f)){a.add(f);var g=O1(f);e.addEventListener(f,El,{passive:g});var m=ya.get(f);m===void 0?(document.addEventListener(f,El,{passive:g}),ya.set(f,1)):ya.set(f,m+1)}}};l(Bh(Uv)),pf.add(l);var c=void 0,u=v1(()=>{var d=t??e.appendChild(Jr());return Ni(()=>{if(s){be({});var h=gn;h.c=s}i&&(r.$$events=i),yt&&ti(d,null),bu=o,c=n(d,r)||{},bu=!0,yt&&(Wt.nodes_end=Rt),s&&ve()}),()=>{for(var h of a){e.removeEventListener(h,El);var f=ya.get(h);--f===0?(document.removeEventListener(h,El),ya.delete(h)):ya.set(h,f)}pf.delete(l),d!==t&&d.parentNode?.removeChild(d)}});return bf.set(c,u),c}let bf=new WeakMap;function vf(n,e){const t=bf.get(n);return t?(bf.delete(n),t(e)):Promise.resolve()}function xe(n,e,t=!1){yt&&Ci();var r=n,i=null,s=null,o=pr,a=t?So:0,l=!1;const c=(f,g=!0)=>{l=!0,h(g,f)};var u=null;function d(){u!==null&&(u.lastChild.remove(),r.before(u),u=null);var f=o?i:s,g=o?s:i;f&&du(f),g&&ba(g,()=>{o?s=null:i=null})}const h=(f,g)=>{if(o===(o=f))return;let m=!1;if(yt){const C=ev(r)===$h;!!o===C&&(r=Xh(),wr(r),Ur(!1),m=!0)}var y=ou(),v=r;if(y&&(u=document.createDocumentFragment(),u.append(v=Jr())),o?i??=g&&Ni(()=>g(v)):s??=g&&Ni(()=>g(v)),y){var A=$n,E=o?i:s,S=o?s:i;E&&A.skipped_effects.delete(E),S&&A.skipped_effects.add(S),A.add_callback(d)}else d();m&&Ur(!0)};ks(()=>{l=!1,e(c),l||h(null,null)},a),yt&&(r=Rt)}function z1(n,e,t){yt&&Ci();var r=n,i=pr,s,o,a=null,l=To()?e1:Zh;function c(){s&&ba(s),a!==null&&(a.lastChild.remove(),r.before(a),a=null),s=o}ks(()=>{if(l(i,i=e())){var u=r,d=ou();d&&(a=document.createDocumentFragment(),a.append(u=Jr())),o=Ni(()=>t(u)),d?$n.add_callback(c):c()}}),yt&&(r=Rt)}function Al(n,e){return e}function U1(n,e,t){for(var r=n.items,i=[],s=e.length,o=0;o<s;o++)uf(e[o].e,i,!0);var a=s>0&&i.length===0&&t!==null;if(a){var l=t.parentNode;cf(l),l.append(t),r.clear(),ts(n,e[0].prev,e[s-1].next)}Cv(i,()=>{for(var c=0;c<s;c++){var u=e[c];a||(r.delete(u.k),ts(n,u.prev,u.next)),Hr(u.e,!a)}})}function es(n,e,t,r,i,s=null){var o=n,a={flags:e,items:new Map,first:null},l=(e&Qb)!==0;if(l){var c=n;o=yt?wr(_r(c)):c.appendChild(Jr())}yt&&Ci();var u=null,d=!1,h=new Map,f=ef(()=>{var v=t();return $s(v)?v:v==null?[]:Bh(v)}),g,m;function y(){H1(m,g,a,h,o,i,e,r,t),s!==null&&(g.length===0?u?du(u):u=Ni(()=>s(o)):u!==null&&ba(u,()=>{u=null}))}ks(()=>{m??=Wt,g=w(f);var v=g.length;if(d&&v===0)return;d=v===0;let A=!1;if(yt){var E=ev(o)===$h;E!==(v===0)&&(o=Xh(),wr(o),Ur(!1),A=!0)}if(yt){for(var S=null,C,x=0;x<v;x++){if(Rt.nodeType===Xs&&Rt.data===Yh){o=Rt,A=!0,Ur(!1);break}var N=g[x],D=r(N,x);C=yf(Rt,a,S,null,N,D,x,i,e,t),a.items.set(D,C),S=C}v>0&&wr(Xh())}if(yt)v===0&&s&&(u=Ni(()=>s(o)));else if(ou()){var V=new Set,O=$n;for(x=0;x<v;x+=1){N=g[x],D=r(N,x);var K=a.items.get(D)??h.get(D);K?(e&(Zc|Qc))!==0&&jv(K,N,x,e):(C=yf(null,a,null,null,N,D,x,i,e,t,!0),h.set(D,C)),V.add(D)}for(const[B,U]of a.items)V.has(B)||O.skipped_effects.add(U.e);O.add_callback(y)}else y();A&&Ur(!0),w(f)}),yt&&(o=Rt)}function H1(n,e,t,r,i,s,o,a,l){var c=(o&zS)!==0,u=(o&(Zc|Qc))!==0,d=e.length,h=t.items,f=t.first,g=f,m,y=null,v,A=[],E=[],S,C,x,N;if(c)for(N=0;N<d;N+=1)S=e[N],C=a(S,N),x=h.get(C),x!==void 0&&(x.a?.measure(),(v??=new Set).add(x));for(N=0;N<d;N+=1){if(S=e[N],C=a(S,N),x=h.get(C),x===void 0){var D=r.get(C);if(D!==void 0){r.delete(C),h.set(C,D);var V=y?y.next:g;ts(t,y,D),ts(t,D,V),wf(D,V,i),y=D}else{var O=g?g.e.nodes_start:i;y=yf(O,t,y,y===null?t.first:y.next,S,C,N,s,o,l)}h.set(C,y),A=[],E=[],g=y.next;continue}if(u&&jv(x,S,N,o),(x.e.f&Hi)!==0&&(du(x.e),c&&(x.a?.unfix(),(v??=new Set).delete(x))),x!==g){if(m!==void 0&&m.has(x)){if(A.length<E.length){var K=E[0],B;y=K.prev;var U=A[0],L=A[A.length-1];for(B=0;B<A.length;B+=1)wf(A[B],K,i);for(B=0;B<E.length;B+=1)m.delete(E[B]);ts(t,U.prev,L.next),ts(t,y,U),ts(t,L,K),g=K,y=L,N-=1,A=[],E=[]}else m.delete(x),wf(x,g,i),ts(t,x.prev,x.next),ts(t,x,y===null?t.first:y.next),ts(t,y,x),y=x;continue}for(A=[],E=[];g!==null&&g.k!==C;)(g.e.f&Hi)===0&&(m??=new Set).add(g),E.push(g),g=g.next;if(g===null)continue;x=g}A.push(x),y=x,g=x.next}if(g!==null||m!==void 0){for(var W=m===void 0?[]:Bh(m);g!==null;)(g.e.f&Hi)===0&&W.push(g),g=g.next;var H=W.length;if(H>0){var Q=(o&Qb)!==0&&d===0?i:null;if(c){for(N=0;N<H;N+=1)W[N].a?.measure();for(N=0;N<H;N+=1)W[N].a?.fix()}U1(t,W,Q)}}c&&pa(()=>{if(v!==void 0)for(x of v)x.a?.apply()}),n.first=t.first&&t.first.e,n.last=y&&y.e;for(var X of r.values())Hr(X.e);r.clear()}function jv(n,e,t,r){(r&Zc)!==0&&wl(n.v,e),(r&Qc)!==0?wl(n.i,t):n.i=t}function yf(n,e,t,r,i,s,o,a,l,c,u){var d=(l&Zc)!==0,h=(l&US)===0,f=d?h?sf(i,!1,!1):Po(i):i,g=(l&Qc)===0?o:Po(o),m={i:g,v:f,k:s,a:null,e:null,prev:t,next:r};try{if(n===null){var y=document.createDocumentFragment();y.append(n=Jr())}return m.e=Ni(()=>a(n,f,g,c),yt),m.e.prev=t&&t.e,m.e.next=r&&r.e,t===null?u||(e.first=m):(t.next=m,t.e.next=m.e),r!==null&&(r.prev=m,r.e.prev=m.e),m}finally{}}function wf(n,e,t){for(var r=n.next?n.next.e.nodes_start:t,i=e?e.e.nodes_start:t,s=n.e.nodes_start;s!==null&&s!==r;){var o=Ti(s);i.before(s),s=o}}function ts(n,e,t){e===null?n.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function qv(n,e,t=!1,r=!1,i=!1){var s=n,o="";ft(()=>{var a=Wt;if(o===(o=e()??"")){yt&&Ci();return}if(a.nodes_start!==null&&(Sv(a.nodes_start,a.nodes_end),a.nodes_start=a.nodes_end=null),o!==""){if(yt){Rt.data;for(var l=Ci(),c=l;l!==null&&(l.nodeType!==Xs||l.data!=="");)c=l,l=Ti(l);if(l===null)throw ml(),Co;ti(Rt,c),s=wr(l);return}var u=o+"";t?u=`<svg>${u}</svg>`:r&&(u=`<math>${u}</math>`);var d=mu(u);if((t||r)&&(d=_r(d)),ti(_r(d),d.lastChild),t||r)for(;_r(d);)s.before(_r(d));else s.before(d)}})}function Se(n,e,...t){var r=n,i=Te,s;ks(()=>{i!==(i=e())&&(s&&(Hr(s),s=null),s=Ni(()=>i(r,...t)))},So),yt&&(r=Rt)}function G1(n){return(e,...t)=>{var r=n(...t),i;if(yt)i=Rt,Ci();else{var s=r.render().trim(),o=mu(s);i=_r(o),e.before(i)}const a=r.setup?.(i);ti(i,i),typeof a=="function"&&au(a)}}function We(n,e,t){yt&&Ci();var r=n,i,s,o=null,a=null;function l(){s&&(ba(s),s=null),o&&(o.lastChild.remove(),r.before(o),o=null),s=a,a=null}ks(()=>{if(i!==(i=e())){var c=ou();if(i){var u=r;c&&(o=document.createDocumentFragment(),o.append(u=Jr())),a=Ni(()=>t(u,i))}c?$n.add_callback(l):l()}},So),yt&&(r=Rt)}function Wv(n,e,t,r,i,s){let o=yt;yt&&Ci();var a,l,c=null;yt&&Rt.nodeType===kS&&(c=Rt,Ci());var u=yt?Rt:n,d;ks(()=>{const h=e()||null;var f=t||h==="svg"?QS:null;h!==a&&(d&&(h===null?ba(d,()=>{d=null,l=null}):h===l?du(d):(Hr(d),Hv(!1))),h&&h!==l&&(d=Ni(()=>{if(c=yt?c:f?document.createElementNS(f,h):document.createElement(h),ti(c,c),r){yt&&D1(h)&&c.append(document.createComment(""));var g=yt?_r(c):c.appendChild(Jr());yt&&(g===null?Ur(!1):wr(g)),r(c,g)}Wt.nodes_end=c,u.before(c)})),a=h,a&&(l=a),Hv(!0))},So),o&&(Ur(!0),wr(u))}function V1(n,e){var t=void 0,r;ks(()=>{t!==(t=e())&&(r&&(Hr(r),r=null),t&&(r=Ni(()=>{cu(()=>t(n))})))})}function Kv(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=Kv(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Sl(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=Kv(n))&&(r&&(r+=" "),r+=e);return r}function Ri(n){return typeof n=="object"?Sl(n):n??""}const $v=[...` 	
\r\f\v\uFEFF`];function j1(n,e,t){var r=n==null?"":""+n;if(e&&(r=r?r+" "+e:e),t){for(var i in t)if(t[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,o=0;(o=r.indexOf(i,o))>=0;){var a=o+s;(o===0||$v.includes(r[o-1]))&&(a===r.length||$v.includes(r[a]))?r=(o===0?"":r.substring(0,o))+r.substring(a+1):o=a}}return r===""?null:r}function Yv(n,e=!1){var t=e?" !important;":";",r="";for(var i in n){var s=n[i];s!=null&&s!==""&&(r+=" "+i+": "+s+t)}return r}function _f(n){return n[0]!=="-"||n[1]!=="-"?n.toLowerCase():n}function q1(n,e){if(e){var t="",r,i;if(Array.isArray(e)?(r=e[0],i=e[1]):r=e,n){n=String(n).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var s=!1,o=0,a=!1,l=[];r&&l.push(...Object.keys(r).map(_f)),i&&l.push(...Object.keys(i).map(_f));var c=0,u=-1;const m=n.length;for(var d=0;d<m;d++){var h=n[d];if(a?h==="/"&&n[d-1]==="*"&&(a=!1):s?s===h&&(s=!1):h==="/"&&n[d+1]==="*"?a=!0:h==='"'||h==="'"?s=h:h==="("?o++:h===")"&&o--,!a&&s===!1&&o===0){if(h===":"&&u===-1)u=d;else if(h===";"||d===m-1){if(u!==-1){var f=_f(n.substring(c,u).trim());if(!l.includes(f)){h!==";"&&d++;var g=n.substring(c,d).trim();t+=" "+g+";"}}c=d+1,u=-1}}}}return r&&(t+=Yv(r)),i&&(t+=Yv(i,!0)),t=t.trim(),t===""?null:t}return n==null?null:String(n)}function Rn(n,e,t,r,i,s){var o=n.__className;if(yt||o!==t||o===void 0){var a=j1(t,r,s);(!yt||a!==n.getAttribute("class"))&&(a==null?n.removeAttribute("class"):e?n.className=a:n.setAttribute("class",a)),n.__className=t}else if(s&&i!==s)for(var l in s){var c=!!s[l];(i==null||c!==!!i[l])&&n.classList.toggle(l,c)}return s}function xf(n,e={},t,r){for(var i in t){var s=t[i];e[i]!==s&&(t[i]==null?n.style.removeProperty(i):n.style.setProperty(i,s,r))}}function yu(n,e,t,r){var i=n.__style;if(yt||i!==e){var s=q1(e,r);(!yt||s!==n.getAttribute("style"))&&(s==null?n.removeAttribute("style"):n.style.cssText=s),n.__style=e}else r&&(Array.isArray(r)?(xf(n,t?.[0],r[0]),xf(n,t?.[1],r[1],"important")):xf(n,t,r));return r}function Ef(n,e,t=!1){if(n.multiple){if(e==null)return;if(!$s(e))return JS();for(var r of n.options)r.selected=e.includes(Xv(r));return}for(r of n.options){var i=Xv(r);if(g1(i,e)){r.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function W1(n){var e=new MutationObserver(()=>{Ef(n,n.__value)});e.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),au(()=>{e.disconnect()})}function Xv(n){return"__value"in n?n.__value:n.value}const kl=Symbol("class"),wa=Symbol("style"),Zv=Symbol("is custom element"),Qv=Symbol("is html");function wu(n){if(yt){var e=!1,t=()=>{if(!e){if(e=!0,n.hasAttribute("value")){var r=n.value;Ct(n,"value",null),n.value=r}if(n.hasAttribute("checked")){var i=n.checked;Ct(n,"checked",null),n.checked=i}}};n.__on_r=t,l1(t),Bv()}}function K1(n,e){e?n.hasAttribute("selected")||n.setAttribute("selected",""):n.removeAttribute("selected")}function Ct(n,e,t,r){var i=Jv(n);yt&&(i[e]=n.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&n.nodeName==="LINK")||i[e]!==(i[e]=t)&&(e==="loading"&&(n[SS]=t),t==null?n.removeAttribute(e):typeof t!="string"&&ty(n).includes(e)?n[e]=t:n.setAttribute(e,t))}function $1(n,e,t,r,i=!1){var s=Jv(n),o=s[Zv],a=!s[Qv];let l=yt&&o;l&&Ur(!1);var c=e||{},u=n.tagName==="OPTION";for(var d in e)d in t||(t[d]=null);t.class?t.class=Ri(t.class):(r||t[kl])&&(t.class=null),t[wa]&&(t.style??=null);var h=ty(n);for(const E in t){let S=t[E];if(u&&E==="value"&&S==null){n.value=n.__value="",c[E]=S;continue}if(E==="class"){var f=n.namespaceURI==="http://www.w3.org/1999/xhtml";Rn(n,f,S,r,e?.[kl],t[kl]),c[E]=S,c[kl]=t[kl];continue}if(E==="style"){yu(n,S,e?.[wa],t[wa]),c[E]=S,c[wa]=t[wa];continue}var g=c[E];if(!(S===g&&!(S===void 0&&n.hasAttribute(E)))){c[E]=S;var m=E[0]+E[1];if(m!=="$$")if(m==="on"){const C={},x="$$"+E;let N=E.slice(2);var y=N1(N);if(C1(N)&&(N=N.slice(0,-7),C.capture=!0),!y&&g){if(S!=null)continue;n.removeEventListener(N,c[x],C),c[x]=null}if(S!=null)if(y)n[`__${N}`]=S,to([N]);else{let D=function(V){c[E].call(this,V)};c[x]=gf(N,n,D,C)}else y&&(n[`__${N}`]=void 0)}else if(E==="style")Ct(n,E,S);else if(E==="autofocus")L1(n,!!S);else if(!o&&(E==="__value"||E==="value"&&S!=null))n.value=n.__value=S;else if(E==="selected"&&u)K1(n,S);else{var v=E;a||(v=P1(v));var A=v==="defaultValue"||v==="defaultChecked";if(S==null&&!o&&!A)if(s[E]=null,v==="value"||v==="checked"){let C=n;const x=e===void 0;if(v==="value"){let N=C.defaultValue;C.removeAttribute(v),C.defaultValue=N,C.value=C.__value=x?N:null}else{let N=C.defaultChecked;C.removeAttribute(v),C.defaultChecked=N,C.checked=x?N:!1}}else n.removeAttribute(E);else A||h.includes(v)&&(o||typeof S!="string")?n[v]=S:typeof S!="function"&&Ct(n,v,S)}}}return l&&Ur(!0),c}function St(n,e,t=[],r=[],i,s=!1){uv(t,r,o=>{var a=void 0,l={},c=n.nodeName==="SELECT",u=!1;if(ks(()=>{var h=e(...o.map(w)),f=$1(n,a,h,i,s);u&&c&&"value"in h&&Ef(n,h.value);for(let m of Object.getOwnPropertySymbols(l))h[m]||Hr(l[m]);for(let m of Object.getOwnPropertySymbols(h)){var g=h[m];m.description===Jb&&(!a||g!==a[m])&&(l[m]&&Hr(l[m]),l[m]=Ni(()=>V1(n,()=>g))),f[m]=g}a=f}),c){var d=n;cu(()=>{Ef(d,a.value,!0),W1(d)})}u=!0})}function Jv(n){return n.__attributes??={[Zv]:n.nodeName.includes("-"),[Qv]:n.namespaceURI===ZS}}var ey=new Map;function ty(n){var e=ey.get(n.nodeName);if(e)return e;ey.set(n.nodeName,e=[]);for(var t,r=n,i=Element.prototype;i!==r;){t=qb(r);for(var s in t)t[s].set&&e.push(s);r=Wc(r)}return e}const Y1=()=>performance.now(),Ns={tick:n=>requestAnimationFrame(n),now:()=>Y1(),tasks:new Set};function ny(){const n=Ns.now();Ns.tasks.forEach(e=>{e.c(n)||(Ns.tasks.delete(e),e.f())}),Ns.tasks.size!==0&&Ns.tick(ny)}function X1(n){let e;return Ns.tasks.size===0&&Ns.tick(ny),{promise:new Promise(t=>{Ns.tasks.add(e={c:n,f:t})}),abort(){Ns.tasks.delete(e)}}}function _u(n,e){gu(()=>{n.dispatchEvent(new CustomEvent(e))})}function Z1(n){if(n==="float")return"cssFloat";if(n==="offset")return"cssOffset";if(n.startsWith("--"))return n;const e=n.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function ry(n){const e={},t=n.split(";");for(const r of t){const[i,s]=r.split(":");if(!i||s===void 0)break;const o=Z1(i.trim());e[o]=s.trim()}return e}const Q1=n=>n;function Cl(n,e,t,r){var i=(n&WS)!==0,s=(n&KS)!==0,o=i&&s,a=(n&$S)!==0,l=o?"both":i?"in":"out",c,u=e.inert,d=e.style.overflow,h,f;function g(){return gu(()=>c??=t()(e,r?.()??{},{direction:l}))}var m={is_global:a,in(){if(e.inert=u,!i){f?.abort(),f?.reset?.();return}s||h?.abort(),_u(e,"introstart"),h=Af(e,g(),f,1,()=>{_u(e,"introend"),h?.abort(),h=c=void 0,e.style.overflow=d})},out(E){if(!s){E?.(),c=void 0;return}e.inert=!0,_u(e,"outrostart"),f=Af(e,g(),h,0,()=>{_u(e,"outroend"),E?.()})},stop:()=>{h?.abort(),f?.abort()}},y=Wt;if((y.transitions??=[]).push(m),i&&bu){var v=a;if(!v){for(var A=y.parent;A&&(A.f&So)!==0;)for(;(A=A.parent)&&(A.f&ua)===0;);v=!A||(A.f&Xc)!==0}v&&cu(()=>{_n(()=>m.in())})}}function Af(n,e,t,r,i){var s=r===1;if(ca(e)){var o,a=!1;return pa(()=>{if(!a){var y=e({direction:s?"in":"out"});o=Af(n,y,t,r,i)}}),{abort:()=>{a=!0,o?.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(t?.deactivate(),!e?.duration)return i(),{abort:Te,deactivate:Te,reset:Te,t:()=>r};const{delay:l=0,css:c,tick:u,easing:d=Q1}=e;var h=[];if(s&&t===void 0&&(u&&u(0,1),c)){var f=ry(c(0,1));h.push(f,f)}var g=()=>1-r,m=n.animate(h,{duration:l,fill:"forwards"});return m.onfinish=()=>{m.cancel();var y=t?.t()??1-r;t?.abort();var v=r-y,A=e.duration*Math.abs(v),E=[];if(A>0){var S=!1;if(c)for(var C=Math.ceil(A/16.666666666666668),x=0;x<=C;x+=1){var N=y+v*d(x/C),D=ry(c(N,1-N));E.push(D),S||=D.overflow==="hidden"}S&&(n.style.overflow="hidden"),g=()=>{var V=m.currentTime;return y+v*d(V/A)},u&&X1(()=>{if(m.playState!=="running")return!1;var V=g();return u(V,1-V),!0})}m=n.animate(E,{duration:A,fill:"forwards"}),m.onfinish=()=>{g=()=>r,u?.(r,1-r),i()}},{abort:()=>{m&&(m.cancel(),m.effect=null,m.onfinish=Te)},deactivate:()=>{i=Te},reset:()=>{r===0&&u?.(1,0)},t:()=>g()}}function _a(n,e,t=e){var r=To(),i=new WeakSet;zv(n,"input",s=>{var o=s?n.defaultValue:n.value;if(o=Sf(n)?kf(o):o,t(o),$n!==null&&i.add($n),r&&o!==(o=e())){var a=n.selectionStart,l=n.selectionEnd;n.value=o??"",l!==null&&(n.selectionStart=a,n.selectionEnd=Math.min(l,n.value.length))}}),(yt&&n.defaultValue!==n.value||_n(e)==null&&n.value)&&(t(Sf(n)?kf(n.value):n.value),$n!==null&&i.add($n)),uu(()=>{var s=e();n===document.activeElement&&i.has($n)||Sf(n)&&s===kf(n.value)||n.type==="date"&&!s&&!n.value||s!==n.value&&(n.value=s??"")})}function Sf(n){var e=n.type;return e==="number"||e==="range"}function kf(n){return n===""?null:+n}function J1(n,e,t=e){zv(n,"change",()=>{t(n.files)}),yt&&n.files&&t(n.files),uu(()=>{n.files=e()})}function iy(n,e){return n===e||n?.[Qi]===e}function fn(n={},e,t,r){return cu(()=>{var i,s;return uu(()=>{i=s,s=[],_n(()=>{n!==t(...s)&&(e(n,...s),i&&iy(t(...i),n)&&e(null,...i))})}),()=>{pa(()=>{s&&iy(t(...s),n)&&e(null,...s)})}}),n}function Cf(n=!1){const e=gn,t=e.l.u;if(!t)return;let r=()=>S1(e.s);if(n){let i=0,s={};const o=yl(()=>{let a=!1;const l=e.s;for(const c in l)l[c]!==s[c]&&(s[c]=l[c],a=!0);return a&&i++,i});r=()=>w(o)}t.b.length&&ei(()=>{sy(e,r),Kc(t.b)}),Tt(()=>{const i=_n(()=>t.m.map(xS));return()=>{for(const s of i)typeof s=="function"&&s()}}),t.a.length&&Tt(()=>{sy(e,r),Kc(t.a)})}function sy(n,e){if(n.l.s)for(const t of n.l.s)w(t);e()}function oy(n,e,t){if(n==null)return e(void 0),Te;const r=_n(()=>n.subscribe(e,t));return r.unsubscribe?()=>r.unsubscribe():r}const xa=[];function Tf(n,e=Te){let t=null;const r=new Set;function i(a){if(Zh(n,a)&&(n=a,t)){const l=!xa.length;for(const c of r)c[1](),xa.push(c,n);if(l){for(let c=0;c<xa.length;c+=2)xa[c][0](xa[c+1]);xa.length=0}}}function s(a){i(a(n))}function o(a,l=Te){const c=[a,l];return r.add(c),r.size===1&&(t=e(i,s)||Te),a(n),()=>{r.delete(c),r.size===0&&t&&(t(),t=null)}}return{set:i,update:s,subscribe:o}}function ek(n){let e;return oy(n,t=>e=t)(),e}let xu=!1,Nf=Symbol();function tk(n,e,t){const r=t[e]??={store:null,source:sf(void 0),unsubscribe:Te};if(r.store!==n&&!(Nf in t))if(r.unsubscribe(),r.store=n??null,n==null)r.source.v=void 0,r.unsubscribe=Te;else{var i=!0;r.unsubscribe=oy(n,s=>{i?r.source.v=s:G(r.source,s)}),i=!1}return n&&Nf in t?ek(n):w(r.source)}function nk(){const n={};function e(){au(()=>{for(var t in n)n[t].unsubscribe();gl(n,Nf,{enumerable:!1,value:!0})})}return[n,e]}function rk(n){var e=xu;try{return xu=!1,[n(),xu]}finally{xu=e}}const ik={get(n,e){if(!n.exclude.includes(e))return n.props[e]},set(n,e){return!1},getOwnPropertyDescriptor(n,e){if(!n.exclude.includes(e)&&e in n.props)return{enumerable:!0,configurable:!0,value:n.props[e]}},has(n,e){return n.exclude.includes(e)?!1:e in n.props},ownKeys(n){return Reflect.ownKeys(n.props).filter(e=>!n.exclude.includes(e))}};function Re(n,e,t){return new Proxy({props:n,exclude:e},ik)}const sk={get(n,e){let t=n.props.length;for(;t--;){let r=n.props[t];if(ca(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r)return r[e]}},set(n,e,t){let r=n.props.length;for(;r--;){let i=n.props[r];ca(i)&&(i=i());const s=Ys(i,e);if(s&&s.set)return s.set(t),!0}return!1},getOwnPropertyDescriptor(n,e){let t=n.props.length;for(;t--;){let r=n.props[t];if(ca(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r){const i=Ys(r,e);return i&&!i.configurable&&(i.configurable=!0),i}}},has(n,e){if(e===Qi||e===jh)return!1;for(let t of n.props)if(ca(t)&&(t=t()),t!=null&&e in t)return!0;return!1},ownKeys(n){const e=[];for(let t of n.props)if(ca(t)&&(t=t()),!!t){for(const r in t)e.includes(r)||e.push(r);for(const r of Object.getOwnPropertySymbols(t))e.includes(r)||e.push(r)}return e}};function Ve(...n){return new Proxy({props:n},sk)}function F(n,e,t,r){var i=!ha||(t&GS)!==0,s=(t&jS)!==0,o=(t&qS)!==0,a=r,l=!0,c=()=>(l&&(l=!1,a=o?_n(r):r),a),u;if(s){var d=Qi in n||jh in n;u=Ys(n,e)?.set??(d&&e in n?E=>n[e]=E:void 0)}var h,f=!1;s?[h,f]=rk(()=>n[e]):h=n[e],h===void 0&&r!==void 0&&(h=c(),u&&(i&&DS(),u(h)));var g;if(i?g=()=>{var E=n[e];return E===void 0?c():(l=!0,E)}:g=()=>{var E=n[e];return E!==void 0&&(a=void 0),E===void 0?a:E},i&&(t&VS)===0)return g;if(u){var m=n.$$legacy;return function(E,S){return arguments.length>0?((!i||!S||m||f)&&u(S?g():E),E):g()}}var y=!1,v=((t&HS)!==0?yl:ef)(()=>(y=!1,g()));s&&w(v);var A=Wt;return function(E,S){if(arguments.length>0){const C=S?w(v):i&&s?Nn(E):E;return G(v,C),y=!0,a!==void 0&&(a=C),E}return Ro&&y||(A.f&Ao)!==0?v.v:w(v)}}function ok(n){return class extends ak{constructor(e){super({component:n,...e})}}}class ak{#e;#t;constructor(e){var t=new Map,r=(s,o)=>{var a=sf(o,!1,!1);return t.set(s,a),a};const i=new Proxy({...e.props||{},$$events:{}},{get(s,o){return w(t.get(o)??r(o,Reflect.get(s,o)))},has(s,o){return o===jh?!0:(w(t.get(o)??r(o,Reflect.get(s,o))),Reflect.has(s,o))},set(s,o,a){return G(t.get(o)??r(o,a),a),Reflect.set(s,o,a)}});this.#t=(e.hydrate?Gv:vu)(e.component,{target:e.target,anchor:e.anchor,props:i,context:e.context,intro:e.intro??!1,recover:e.recover}),(!e?.props?.$$host||e.sync===!1)&&rf(),this.#e=i.$$events;for(const s of Object.keys(this.#t))s==="$set"||s==="$destroy"||s==="$on"||gl(this,s,{get(){return this.#t[s]},set(o){this.#t[s]=o},enumerable:!0});this.#t.$set=s=>{Object.assign(i,s)},this.#t.$destroy=()=>{vf(this.#t)}}$set(e){this.#t.$set(e)}$on(e,t){this.#e[e]=this.#e[e]||[];const r=(...i)=>t.call(this,...i);return this.#e[e].push(r),()=>{this.#e[e]=this.#e[e].filter(i=>i!==r)}}$destroy(){this.#t.$destroy()}}function lk(){return on===null&&OS(),(on.ac??=new AbortController).signal}function ji(n){gn===null&&da(),ha&&gn.l!==null?If(gn).m.push(n):Tt(()=>{const e=_n(n);if(typeof e=="function")return e})}function ay(n){gn===null&&da(),ji(()=>()=>_n(n))}function ck(n,e,{bubbles:t=!1,cancelable:r=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:r})}function uk(){const n=gn;return n===null&&da(),(e,t,r)=>{const i=n.s.$$events?.[e];if(i){const s=$s(i)?i.slice():[i],o=ck(e,t,r);for(const a of s)a.call(n.x,o);return!o.defaultPrevented}return!0}}function dk(n){gn===null&&da(),gn.l===null&&Zb(),If(gn).b.push(n)}function hk(n){gn===null&&da(),gn.l===null&&Zb(),If(gn).a.push(n)}function If(n){var e=n.l;return e.u??={a:[],b:[],m:[]}}const fk=Object.freeze(Object.defineProperty({__proto__:null,afterUpdate:hk,beforeUpdate:dk,createEventDispatcher:uk,createRawSnippet:G1,flushSync:rf,getAbortSignal:lk,getAllContexts:iv,getContext:fa,hasContext:Qh,hydrate:Gv,mount:vu,onDestroy:ay,onMount:ji,setContext:tu,settled:E1,tick:df,unmount:vf,untrack:_n},Symbol.toStringTag,{value:"Module"}));class Eu{constructor(e,t){this.status=e,typeof t=="string"?this.body={message:t}:t?this.body=t:this.body={message:`Error: ${e}`}}toString(){return JSON.stringify(this.body)}}class Pf{constructor(e,t){this.status=e,this.location=t}}class Rf extends Error{constructor(e,t,r){super(r),this.status=e,this.text=t}}new URL("sveltekit-internal://");function pk(n,e){return n==="/"||e==="ignore"?n:e==="never"?n.endsWith("/")?n.slice(0,-1):n:e==="always"&&!n.endsWith("/")?n+"/":n}function gk(n){return n.split("%25").map(decodeURI).join("%25")}function mk(n){for(const e in n)n[e]=decodeURIComponent(n[e]);return n}function Of({href:n}){return n.split("#")[0]}function bk(n,e,t,r=!1){const i=new URL(n);Object.defineProperty(i,"searchParams",{value:new Proxy(i.searchParams,{get(o,a){if(a==="get"||a==="getAll"||a==="has")return c=>(t(c),o[a](c));e();const l=Reflect.get(o,a);return typeof l=="function"?l.bind(o):l}}),enumerable:!0,configurable:!0});const s=["href","pathname","search","toString","toJSON"];r&&s.push("hash");for(const o of s)Object.defineProperty(i,o,{get(){return e(),n[o]},enumerable:!0,configurable:!0});return i}function vk(...n){let e=5381;for(const t of n)if(typeof t=="string"){let r=t.length;for(;r;)e=e*33^t.charCodeAt(--r)}else if(ArrayBuffer.isView(t)){const r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);let i=r.length;for(;i;)e=e*33^r[--i]}else throw new TypeError("value must be a string or TypedArray");return(e>>>0).toString(36)}function yk(n){const e=atob(n),t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t.buffer}const wk=window.fetch;window.fetch=(n,e)=>((n instanceof Request?n.method:e?.method||"GET")!=="GET"&&Tl.delete(Mf(n)),wk(n,e));const Tl=new Map;function _k(n,e){const t=Mf(n,e),r=document.querySelector(t);if(r?.textContent){let{body:i,...s}=JSON.parse(r.textContent);const o=r.getAttribute("data-ttl");return o&&Tl.set(t,{body:i,init:s,ttl:1e3*Number(o)}),r.getAttribute("data-b64")!==null&&(i=yk(i)),Promise.resolve(new Response(i,s))}return window.fetch(n,e)}function xk(n,e,t){if(Tl.size>0){const r=Mf(n,t),i=Tl.get(r);if(i){if(performance.now()<i.ttl&&["default","force-cache","only-if-cached",void 0].includes(t?.cache))return new Response(i.body,i.init);Tl.delete(r)}}return window.fetch(e,t)}function Mf(n,e){let r=`script[data-sveltekit-fetched][data-url=${JSON.stringify(n instanceof Request?n.url:n)}]`;if(e?.headers||e?.body){const i=[];e.headers&&i.push([...new Headers(e.headers)].join(",")),e.body&&(typeof e.body=="string"||ArrayBuffer.isView(e.body))&&i.push(e.body),r+=`[data-hash="${vk(...i)}"]`}return r}const Ek=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function Ak(n){const e=[];return{pattern:n==="/"?/^\/$/:new RegExp(`^${kk(n).map(r=>{const i=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(r);if(i)return e.push({name:i[1],matcher:i[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const s=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(r);if(s)return e.push({name:s[1],matcher:s[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!r)return;const o=r.split(/\[(.+?)\](?!\])/);return"/"+o.map((l,c)=>{if(c%2){if(l.startsWith("x+"))return Df(String.fromCharCode(parseInt(l.slice(2),16)));if(l.startsWith("u+"))return Df(String.fromCharCode(...l.slice(2).split("-").map(m=>parseInt(m,16))));const u=Ek.exec(l),[,d,h,f,g]=u;return e.push({name:f,matcher:g,optional:!!d,rest:!!h,chained:h?c===1&&o[0]==="":!1}),h?"(.*?)":d?"([^/]*)?":"([^/]+?)"}return Df(l)}).join("")}).join("")}/?$`),params:e}}function Sk(n){return!/^\([^)]+\)$/.test(n)}function kk(n){return n.slice(1).split("/").filter(Sk)}function Ck(n,e,t){const r={},i=n.slice(1),s=i.filter(a=>a!==void 0);let o=0;for(let a=0;a<e.length;a+=1){const l=e[a];let c=i[a-o];if(l.chained&&l.rest&&o&&(c=i.slice(a-o,a+1).filter(u=>u).join("/"),o=0),c===void 0){l.rest&&(r[l.name]="");continue}if(!l.matcher||t[l.matcher](c)){r[l.name]=c;const u=e[a+1],d=i[a+1];u&&!u.rest&&u.optional&&d&&l.chained&&(o=0),!u&&!d&&Object.keys(r).length===s.length&&(o=0);continue}if(l.optional&&l.chained){o++;continue}return}if(!o)return r}function Df(n){return n.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}function Tk({nodes:n,server_loads:e,dictionary:t,matchers:r}){const i=new Set(e);return Object.entries(t).map(([a,[l,c,u]])=>{const{pattern:d,params:h}=Ak(a),f={id:a,exec:g=>{const m=d.exec(g);if(m)return Ck(m,h,r)},errors:[1,...u||[]].map(g=>n[g]),layouts:[0,...c||[]].map(o),leaf:s(l)};return f.errors.length=f.layouts.length=Math.max(f.errors.length,f.layouts.length),f});function s(a){const l=a<0;return l&&(a=~a),[l,n[a]]}function o(a){return a===void 0?a:[i.has(a),n[a]]}}function ly(n,e=JSON.parse){try{return e(sessionStorage[n])}catch{}}function cy(n,e,t=JSON.stringify){const r=t(e);try{sessionStorage[n]=r}catch{}}const Oi=globalThis.__sveltekit_19scbhb?.base??"",Nk=globalThis.__sveltekit_19scbhb?.assets??Oi,Ik="1754302858339",uy="sveltekit:snapshot",dy="sveltekit:scroll",hy="sveltekit:states",Pk="sveltekit:pageurl",Ea="sveltekit:history",Nl="sveltekit:navigation",Mo={tap:1,hover:2,viewport:3,eager:4,off:-1,false:-1},Il=location.origin;function Lf(n){if(n instanceof URL)return n;let e=document.baseURI;if(!e){const t=document.getElementsByTagName("base");e=t.length?t[0].href:document.URL}return new URL(n,e)}function Au(){return{x:pageXOffset,y:pageYOffset}}function Aa(n,e){return n.getAttribute(`data-sveltekit-${e}`)}const fy={...Mo,"":Mo.hover};function py(n){let e=n.assignedSlot??n.parentNode;return e?.nodeType===11&&(e=e.host),e}function gy(n,e){for(;n&&n!==e;){if(n.nodeName.toUpperCase()==="A"&&n.hasAttribute("href"))return n;n=py(n)}}function Ff(n,e,t){let r;try{if(r=new URL(n instanceof SVGAElement?n.href.baseVal:n.href,document.baseURI),t&&r.hash.match(/^#[^/]/)){const a=location.hash.split("#")[1]||"/";r.hash=`#${a}${r.hash}`}}catch{}const i=n instanceof SVGAElement?n.target.baseVal:n.target,s=!r||!!i||ku(r,e,t)||(n.getAttribute("rel")||"").split(/\s+/).includes("external"),o=r?.origin===Il&&n.hasAttribute("download");return{url:r,external:s,target:i,download:o}}function Su(n){let e=null,t=null,r=null,i=null,s=null,o=null,a=n;for(;a&&a!==document.documentElement;)r===null&&(r=Aa(a,"preload-code")),i===null&&(i=Aa(a,"preload-data")),e===null&&(e=Aa(a,"keepfocus")),t===null&&(t=Aa(a,"noscroll")),s===null&&(s=Aa(a,"reload")),o===null&&(o=Aa(a,"replacestate")),a=py(a);function l(c){switch(c){case"":case"true":return!0;case"off":case"false":return!1;default:return}}return{preload_code:fy[r??"off"],preload_data:fy[i??"off"],keepfocus:l(e),noscroll:l(t),reload:l(s),replace_state:l(o)}}function my(n){const e=Tf(n);let t=!0;function r(){t=!0,e.update(o=>o)}function i(o){t=!1,e.set(o)}function s(o){let a;return e.subscribe(l=>{(a===void 0||t&&l!==a)&&o(a=l)})}return{notify:r,set:i,subscribe:s}}const by={v:()=>{}};function Rk(){const{set:n,subscribe:e}=Tf(!1);let t;async function r(){clearTimeout(t);try{const i=await fetch(`${Nk}/_app/version.json`,{headers:{pragma:"no-cache","cache-control":"no-cache"}});if(!i.ok)return!1;const o=(await i.json()).version!==Ik;return o&&(n(!0),by.v(),clearTimeout(t)),o}catch{return!1}}return{subscribe:e,check:r}}function ku(n,e,t){return n.origin!==Il||!n.pathname.startsWith(e)?!0:t?!(n.pathname===e+"/"||n.pathname===e+"/index.html"||n.protocol==="file:"&&n.pathname.replace(/\/[^/]+\.html?$/,"")===e):!1}function vy(n){const e=Mk(n),t=new ArrayBuffer(e.length),r=new DataView(t);for(let i=0;i<t.byteLength;i++)r.setUint8(i,e.charCodeAt(i));return t}const Ok="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function Mk(n){n.length%4===0&&(n=n.replace(/==?$/,""));let e="",t=0,r=0;for(let i=0;i<n.length;i++)t<<=6,t|=Ok.indexOf(n[i]),r+=6,r===24&&(e+=String.fromCharCode((t&16711680)>>16),e+=String.fromCharCode((t&65280)>>8),e+=String.fromCharCode(t&255),t=r=0);return r===12?(t>>=4,e+=String.fromCharCode(t)):r===18&&(t>>=2,e+=String.fromCharCode((t&65280)>>8),e+=String.fromCharCode(t&255)),e}const Dk=-1,Lk=-2,Fk=-3,Bk=-4,zk=-5,Uk=-6;function Hk(n,e){if(typeof n=="number")return i(n,!0);if(!Array.isArray(n)||n.length===0)throw new Error("Invalid input");const t=n,r=Array(t.length);function i(s,o=!1){if(s===Dk)return;if(s===Fk)return NaN;if(s===Bk)return 1/0;if(s===zk)return-1/0;if(s===Uk)return-0;if(o)throw new Error("Invalid input");if(s in r)return r[s];const a=t[s];if(!a||typeof a!="object")r[s]=a;else if(Array.isArray(a))if(typeof a[0]=="string"){const l=a[0],c=e?.[l];if(c)return r[s]=c(i(a[1]));switch(l){case"Date":r[s]=new Date(a[1]);break;case"Set":const u=new Set;r[s]=u;for(let f=1;f<a.length;f+=1)u.add(i(a[f]));break;case"Map":const d=new Map;r[s]=d;for(let f=1;f<a.length;f+=2)d.set(i(a[f]),i(a[f+1]));break;case"RegExp":r[s]=new RegExp(a[1],a[2]);break;case"Object":r[s]=Object(a[1]);break;case"BigInt":r[s]=BigInt(a[1]);break;case"null":const h=Object.create(null);r[s]=h;for(let f=1;f<a.length;f+=2)h[a[f]]=i(a[f+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const f=globalThis[l],g=a[1],m=vy(g),y=new f(m);r[s]=y;break}case"ArrayBuffer":{const f=a[1],g=vy(f);r[s]=g;break}default:throw new Error(`Unknown type ${l}`)}}else{const l=new Array(a.length);r[s]=l;for(let c=0;c<a.length;c+=1){const u=a[c];u!==Lk&&(l[c]=i(u))}}else{const l={};r[s]=l;for(const c in a){const u=a[c];l[c]=i(u)}}return r[s]}return i(0)}const yy=new Set(["load","prerender","csr","ssr","trailingSlash","config"]);[...yy],[...new Set([...yy])];function Gk(n){return n.filter(e=>e!=null)}const Vk="x-sveltekit-invalidated",jk="x-sveltekit-trailing-slash";function Cu(n){return n instanceof Eu||n instanceof Rf?n.status:500}function qk(n){return n instanceof Rf?n.text:"Internal Error"}let cr,Pl,Bf;ji.toString().includes("$$")||/function \w+\(\) \{\}/.test(ji.toString())?(cr={data:{},form:null,error:null,params:{},route:{id:null},state:{},status:-1,url:new URL("https://example.com")},Pl={current:null},Bf={current:!1}):(cr=new class{#e=_e({});get data(){return w(this.#e)}set data(e){G(this.#e,e)}#t=_e(null);get form(){return w(this.#t)}set form(e){G(this.#t,e)}#n=_e(null);get error(){return w(this.#n)}set error(e){G(this.#n,e)}#r=_e({});get params(){return w(this.#r)}set params(e){G(this.#r,e)}#s=_e({id:null});get route(){return w(this.#s)}set route(e){G(this.#s,e)}#i=_e({});get state(){return w(this.#i)}set state(e){G(this.#i,e)}#o=_e(-1);get status(){return w(this.#o)}set status(e){G(this.#o,e)}#a=_e(new URL("https://example.com"));get url(){return w(this.#a)}set url(e){G(this.#a,e)}},Pl=new class{#e=_e(null);get current(){return w(this.#e)}set current(e){G(this.#e,e)}},Bf=new class{#e=_e(!1);get current(){return w(this.#e)}set current(e){G(this.#e,e)}},by.v=()=>Bf.current=!0);function Wk(n){Object.assign(cr,n)}const Kk="/__data.json",$k=".html__data.json";function Yk(n){return n.endsWith(".html")?n.replace(/\.html$/,$k):n.replace(/\/$/,"")+Kk}const{onMount:Xk,tick:Zk}=fk,Qk=new Set(["icon","shortcut icon","apple-touch-icon"]),Do=ly(dy)??{},Rl=ly(uy)??{},ns={url:my({}),page:my({}),navigating:Tf(null),updated:Rk()};function zf(n){Do[n]=Au()}function Jk(n,e){let t=n+1;for(;Do[t];)delete Do[t],t+=1;for(t=e+1;Rl[t];)delete Rl[t],t+=1}function Sa(n){return location.href=n.href,new Promise(()=>{})}async function wy(){if("serviceWorker"in navigator){const n=await navigator.serviceWorker.getRegistration(Oi||"/");n&&await n.update()}}function _y(){}let Uf,Hf,Tu,Is,Gf,Yn;const Nu=[],Iu=[];let no=null;const Pu=new Map,Vf=new Set,eC=new Set,ka=new Set;let Ln={branch:[],error:null,url:null},jf=!1,Ru=!1,xy=!0,Ol=!1,Ml=!1,Ey=!1,qf=!1,Ay,Tr,Mi,Lo;const Dl=new Set;async function tC(n,e,t){document.URL!==location.href&&(location.href=location.href),Yn=n,await n.hooks.init?.(),Uf=Tk(n),Is=document.documentElement,Gf=e,Hf=n.nodes[0],Tu=n.nodes[1],Hf(),Tu(),Tr=history.state?.[Ea],Mi=history.state?.[Nl],Tr||(Tr=Mi=Date.now(),history.replaceState({...history.state,[Ea]:Tr,[Nl]:Mi},""));const r=Do[Tr];function i(){r&&(history.scrollRestoration="manual",scrollTo(r.x,r.y))}t?(i(),await fC(Gf,t)):(await Ll({type:"enter",url:Lf(Yn.hash?gC(new URL(location.href)):location.href),replace_state:!0}),i()),hC()}function nC(){Nu.length=0,qf=!1}function Sy(n){Iu.some(e=>e?.snapshot)&&(Rl[n]=Iu.map(e=>e?.snapshot?.capture()))}function ky(n){Rl[n]?.forEach((e,t)=>{Iu[t]?.snapshot?.restore(e)})}function Cy(){zf(Tr),cy(dy,Do),Sy(Mi),cy(uy,Rl)}async function Wf(n,e,t,r){return Ll({type:"goto",url:Lf(n),keepfocus:e.keepFocus,noscroll:e.noScroll,replace_state:e.replaceState,state:e.state,redirect_count:t,nav_token:r,accept:()=>{e.invalidateAll&&(qf=!0),e.invalidate&&e.invalidate.forEach(dC)}})}async function rC(n){if(n.id!==no?.id){const e={};Dl.add(e),no={id:n.id,token:e,promise:Ry({...n,preload:e}).then(t=>(Dl.delete(e),t.type==="loaded"&&t.state.error&&(no=null),t))}}return no.promise}async function Kf(n){const e=(await Du(n,!1))?.route;e&&await Promise.all([...e.layouts,e.leaf].map(t=>t?.[1]()))}function Ty(n,e,t){Ln=n.state;const r=document.querySelector("style[data-sveltekit]");if(r&&r.remove(),Object.assign(cr,n.props.page),Ay=new Yn.root({target:e,props:{...n.props,stores:ns,components:Iu},hydrate:t,sync:!1}),ky(Mi),t){const i={from:null,to:{params:Ln.params,route:{id:Ln.route?.id??null},url:new URL(location.href)},willUnload:!1,type:"enter",complete:Promise.resolve()};ka.forEach(s=>s(i))}Ru=!0}function Ou({url:n,params:e,branch:t,status:r,error:i,route:s,form:o}){let a="never";if(Oi&&(n.pathname===Oi||n.pathname===Oi+"/"))a="always";else for(const f of t)f?.slash!==void 0&&(a=f.slash);n.pathname=pk(n.pathname,a),n.search=n.search;const l={type:"loaded",state:{url:n,params:e,branch:t,error:i,route:s},props:{constructors:Gk(t).map(f=>f.node.component),page:Qf(cr)}};o!==void 0&&(l.props.form=o);let c={},u=!cr,d=0;for(let f=0;f<Math.max(t.length,Ln.branch.length);f+=1){const g=t[f],m=Ln.branch[f];g?.data!==m?.data&&(u=!0),g&&(c={...c,...g.data},u&&(l.props[`data_${d}`]=c),d+=1)}return(!Ln.url||n.href!==Ln.url.href||Ln.error!==i||o!==void 0&&o!==cr.form||u)&&(l.props.page={error:i,params:e,route:{id:s?.id??null},state:{},status:r,url:new URL(n),form:o??null,data:u?c:cr.data}),l}async function $f({loader:n,parent:e,url:t,params:r,route:i,server_data_node:s}){let o=null,a=!0;const l={dependencies:new Set,params:new Set,parent:!1,route:!1,url:!1,search_params:new Set},c=await n();if(c.universal?.load){let u=function(...h){for(const f of h){const{href:g}=new URL(f,t);l.dependencies.add(g)}};const d={route:new Proxy(i,{get:(h,f)=>(a&&(l.route=!0),h[f])}),params:new Proxy(r,{get:(h,f)=>(a&&l.params.add(f),h[f])}),data:s?.data??null,url:bk(t,()=>{a&&(l.url=!0)},h=>{a&&l.search_params.add(h)},Yn.hash),async fetch(h,f){h instanceof Request&&(f={body:h.method==="GET"||h.method==="HEAD"?void 0:await h.blob(),cache:h.cache,credentials:h.credentials,headers:[...h.headers].length>0?h?.headers:void 0,integrity:h.integrity,keepalive:h.keepalive,method:h.method,mode:h.mode,redirect:h.redirect,referrer:h.referrer,referrerPolicy:h.referrerPolicy,signal:h.signal,...f});const{resolved:g,promise:m}=Ny(h,f,t);return a&&u(g.href),m},setHeaders:()=>{},depends:u,parent(){return a&&(l.parent=!0),e()},untrack(h){a=!1;try{return h()}finally{a=!0}}};o=await c.universal.load.call(null,d)??null}return{node:c,loader:n,server:s,universal:c.universal?.load?{type:"data",data:o,uses:l}:null,data:o??s?.data??null,slash:c.universal?.trailingSlash??s?.slash}}function Ny(n,e,t){let r=n instanceof Request?n.url:n;const i=new URL(r,t);i.origin===t.origin&&(r=i.href.slice(t.origin.length));const s=Ru?xk(r,i.href,e):_k(r,e);return{resolved:i,promise:s}}function Iy(n,e,t,r,i,s){if(qf)return!0;if(!i)return!1;if(i.parent&&n||i.route&&e||i.url&&t)return!0;for(const o of i.search_params)if(r.has(o))return!0;for(const o of i.params)if(s[o]!==Ln.params[o])return!0;for(const o of i.dependencies)if(Nu.some(a=>a(new URL(o))))return!0;return!1}function Yf(n,e){return n?.type==="data"?n:n?.type==="skip"?e??null:null}function iC(n,e){if(!n)return new Set(e.searchParams.keys());const t=new Set([...n.searchParams.keys(),...e.searchParams.keys()]);for(const r of t){const i=n.searchParams.getAll(r),s=e.searchParams.getAll(r);i.every(o=>s.includes(o))&&s.every(o=>i.includes(o))&&t.delete(r)}return t}function Py({error:n,url:e,route:t,params:r}){return{type:"loaded",state:{error:n,url:e,route:t,params:r,branch:[]},props:{page:Qf(cr),constructors:[]}}}async function Ry({id:n,invalidating:e,url:t,params:r,route:i,preload:s}){if(no?.id===n)return Dl.delete(no.token),no.promise;const{errors:o,layouts:a,leaf:l}=i,c=[...a,l];o.forEach(S=>S?.().catch(()=>{})),c.forEach(S=>S?.[1]().catch(()=>{}));let u=null;const d=Ln.url?n!==Lu(Ln.url):!1,h=Ln.route?i.id!==Ln.route.id:!1,f=iC(Ln.url,t);let g=!1;const m=c.map((S,C)=>{const x=Ln.branch[C],N=!!S?.[0]&&(x?.loader!==S[1]||Iy(g,h,d,f,x.server?.uses,r));return N&&(g=!0),N});if(m.some(Boolean)){try{u=await Ly(t,m)}catch(S){const C=await Ca(S,{url:t,params:r,route:{id:n}});return Dl.has(s)?Py({error:C,url:t,params:r,route:i}):Mu({status:Cu(S),error:C,url:t,route:i})}if(u.type==="redirect")return u}const y=u?.nodes;let v=!1;const A=c.map(async(S,C)=>{if(!S)return;const x=Ln.branch[C],N=y?.[C];if((!N||N.type==="skip")&&S[1]===x?.loader&&!Iy(v,h,d,f,x.universal?.uses,r))return x;if(v=!0,N?.type==="error")throw N;return $f({loader:S[1],url:t,params:r,route:i,parent:async()=>{const V={};for(let O=0;O<C;O+=1)Object.assign(V,(await A[O])?.data);return V},server_data_node:Yf(N===void 0&&S[0]?{type:"skip"}:N??null,S[0]?x?.server:void 0)})});for(const S of A)S.catch(()=>{});const E=[];for(let S=0;S<c.length;S+=1)if(c[S])try{E.push(await A[S])}catch(C){if(C instanceof Pf)return{type:"redirect",location:C.location};if(Dl.has(s))return Py({error:await Ca(C,{params:r,url:t,route:{id:i.id}}),url:t,params:r,route:i});let x=Cu(C),N;if(y?.includes(C))x=C.status??x,N=C.error;else if(C instanceof Eu)N=C.body;else{if(await ns.updated.check())return await wy(),await Sa(t);N=await Ca(C,{params:r,url:t,route:{id:i.id}})}const D=await sC(S,E,o);return D?Ou({url:t,params:r,branch:E.slice(0,D.idx).concat(D.node),status:x,error:N,route:i}):await My(t,{id:i.id},N,x)}else E.push(void 0);return Ou({url:t,params:r,branch:E,status:200,error:null,route:i,form:e?void 0:null})}async function sC(n,e,t){for(;n--;)if(t[n]){let r=n;for(;!e[r];)r-=1;try{return{idx:r+1,node:{node:await t[n](),loader:t[n],data:{},server:null,universal:null}}}catch{continue}}}async function Mu({status:n,error:e,url:t,route:r}){const i={};let s=null;if(Yn.server_loads[0]===0)try{const a=await Ly(t,[!0]);if(a.type!=="data"||a.nodes[0]&&a.nodes[0].type!=="data")throw 0;s=a.nodes[0]??null}catch{(t.origin!==Il||t.pathname!==location.pathname||jf)&&await Sa(t)}try{const a=await $f({loader:Hf,url:t,params:i,route:r,parent:()=>Promise.resolve({}),server_data_node:Yf(s)}),l={node:await Tu(),loader:Tu,universal:null,server:null,data:null};return Ou({url:t,params:i,branch:[a,l],status:n,error:e,route:null})}catch(a){if(a instanceof Pf)return Wf(new URL(a.location,location.href),{},0);throw a}}async function oC(n){const e=n.href;if(Pu.has(e))return Pu.get(e);let t;try{const r=(async()=>{let i=await Yn.hooks.reroute({url:new URL(n),fetch:async(s,o)=>Ny(s,o,n).promise})??n;if(typeof i=="string"){const s=new URL(n);Yn.hash?s.hash=i:s.pathname=i,i=s}return i})();Pu.set(e,r),t=await r}catch{Pu.delete(e);return}return t}async function Du(n,e){if(n&&!ku(n,Oi,Yn.hash)){const t=await oC(n);if(!t)return;const r=aC(t);for(const i of Uf){const s=i.exec(r);if(s)return{id:Lu(n),invalidating:e,route:i,params:mk(s),url:n}}}}function aC(n){return gk(Yn.hash?n.hash.replace(/^#/,"").replace(/[?#].+/,""):n.pathname.slice(Oi.length))||"/"}function Lu(n){return(Yn.hash?n.hash.replace(/^#/,""):n.pathname)+n.search}function Oy({url:n,type:e,intent:t,delta:r}){let i=!1;const s=Zf(Ln,t,n,e);r!==void 0&&(s.navigation.delta=r);const o={...s.navigation,cancel:()=>{i=!0,s.reject(new Error("navigation cancelled"))}};return Ol||Vf.forEach(a=>a(o)),i?null:s}async function Ll({type:n,url:e,popped:t,keepfocus:r,noscroll:i,replace_state:s,state:o={},redirect_count:a=0,nav_token:l={},accept:c=_y,block:u=_y}){const d=Lo;Lo=l;const h=await Du(e,!1),f=n==="enter"?Zf(Ln,h,e,n):Oy({url:e,type:n,delta:t?.delta,intent:h});if(!f){u(),Lo===l&&(Lo=d);return}const g=Tr,m=Mi;c(),Ol=!0,Ru&&f.navigation.type!=="enter"&&ns.navigating.set(Pl.current=f.navigation);let y=h&&await Ry(h);if(!y){if(ku(e,Oi,Yn.hash))return await Sa(e);y=await My(e,{id:null},await Ca(new Rf(404,"Not Found",`Not found: ${e.pathname}`),{url:e,params:{},route:{id:null}}),404)}if(e=h?.url||e,Lo!==l)return f.reject(new Error("navigation aborted")),!1;if(y.type==="redirect")if(a>=20)y=await Mu({status:500,error:await Ca(new Error("Redirect loop"),{url:e,params:{},route:{id:null}}),url:e,route:{id:null}});else return await Wf(new URL(y.location,e).href,{},a+1,l),!1;else y.props.page.status>=400&&await ns.updated.check()&&(await wy(),await Sa(e));if(nC(),zf(g),Sy(m),y.props.page.url.pathname!==e.pathname&&(e.pathname=y.props.page.url.pathname),o=t?t.state:o,!t){const S=s?0:1,C={[Ea]:Tr+=S,[Nl]:Mi+=S,[hy]:o};(s?history.replaceState:history.pushState).call(history,C,"",e),s||Jk(Tr,Mi)}if(no=null,y.props.page.state=o,Ru){Ln=y.state,y.props.page&&(y.props.page.url=e);const S=(await Promise.all(Array.from(eC,C=>C(f.navigation)))).filter(C=>typeof C=="function");if(S.length>0){let C=function(){S.forEach(x=>{ka.delete(x)})};S.push(C),S.forEach(x=>{ka.add(x)})}Ay.$set(y.props),Wk(y.props.page),Ey=!0}else Ty(y,Gf,!1);const{activeElement:v}=document;await Zk();const A=t?t.scroll:i?Au():null;if(xy){const S=e.hash&&document.getElementById(By(e));A?scrollTo(A.x,A.y):S?S.scrollIntoView():scrollTo(0,0)}const E=document.activeElement!==v&&document.activeElement!==document.body;!r&&!E&&pC(e),xy=!0,y.props.page&&Object.assign(cr,y.props.page),Ol=!1,n==="popstate"&&ky(Mi),f.fulfil(void 0),ka.forEach(S=>S(f.navigation)),ns.navigating.set(Pl.current=null)}async function My(n,e,t,r){return n.origin===Il&&n.pathname===location.pathname&&!jf?await Mu({status:r,error:t,url:n,route:e}):await Sa(n)}function lC(){let n,e,t;Is.addEventListener("mousemove",a=>{const l=a.target;clearTimeout(n),n=setTimeout(()=>{s(l,Mo.hover)},20)});function r(a){a.defaultPrevented||s(a.composedPath()[0],Mo.tap)}Is.addEventListener("mousedown",r),Is.addEventListener("touchstart",r,{passive:!0});const i=new IntersectionObserver(a=>{for(const l of a)l.isIntersecting&&(Kf(new URL(l.target.href)),i.unobserve(l.target))},{threshold:0});async function s(a,l){const c=gy(a,Is),u=c===e&&l>=t;if(!c||u)return;const{url:d,external:h,download:f}=Ff(c,Oi,Yn.hash);if(h||f)return;const g=Su(c),m=d&&Lu(Ln.url)===Lu(d);if(!(g.reload||m))if(l<=g.preload_data){e=c,t=Mo.tap;const y=await Du(d,!1);if(!y)return;rC(y)}else l<=g.preload_code&&(e=c,t=l,Kf(d))}function o(){i.disconnect();for(const a of Is.querySelectorAll("a")){const{url:l,external:c,download:u}=Ff(a,Oi,Yn.hash);if(c||u)continue;const d=Su(a);d.reload||(d.preload_code===Mo.viewport&&i.observe(a),d.preload_code===Mo.eager&&Kf(l))}}ka.add(o),o()}function Ca(n,e){if(n instanceof Eu)return n.body;const t=Cu(n),r=qk(n);return Yn.hooks.handleError({error:n,event:e,status:t,message:r})??{message:r}}function Dy(n,e){Xk(()=>(n.add(e),()=>{n.delete(e)}))}function cC(n){Dy(ka,n)}function uC(n){Dy(Vf,n)}function Fl(n,e={}){return n=new URL(Lf(n)),n.origin!==Il?Promise.reject(new Error("goto: invalid URL")):Wf(n,e,0)}function dC(n){if(typeof n=="function")Nu.push(n);else{const{href:e}=new URL(n,location.href);Nu.push(t=>t.href===e)}}function hC(){history.scrollRestoration="manual",addEventListener("beforeunload",e=>{let t=!1;if(Cy(),!Ol){const r=Zf(Ln,void 0,null,"leave"),i={...r.navigation,cancel:()=>{t=!0,r.reject(new Error("navigation cancelled"))}};Vf.forEach(s=>s(i))}t?(e.preventDefault(),e.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&Cy()}),navigator.connection?.saveData||lC(),Is.addEventListener("click",async e=>{if(e.button||e.which!==1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.defaultPrevented)return;const t=gy(e.composedPath()[0],Is);if(!t)return;const{url:r,external:i,target:s,download:o}=Ff(t,Oi,Yn.hash);if(!r)return;if(s==="_parent"||s==="_top"){if(window.parent!==window)return}else if(s&&s!=="_self")return;const a=Su(t);if(!(t instanceof SVGAElement)&&r.protocol!==location.protocol&&!(r.protocol==="https:"||r.protocol==="http:")||o)return;const[c,u]=(Yn.hash?r.hash.replace(/^#/,""):r.href).split("#"),d=c===Of(location);if(i||a.reload&&(!d||!u)){Oy({url:r,type:"link"})?Ol=!0:e.preventDefault();return}if(u!==void 0&&d){const[,h]=Ln.url.href.split("#");if(h===u){if(e.preventDefault(),u===""||u==="top"&&t.ownerDocument.getElementById("top")===null)window.scrollTo({top:0});else{const f=t.ownerDocument.getElementById(decodeURIComponent(u));f&&(f.scrollIntoView(),f.focus())}return}if(Ml=!0,zf(Tr),n(r),!a.replace_state)return;Ml=!1}e.preventDefault(),await new Promise(h=>{requestAnimationFrame(()=>{setTimeout(h,0)}),setTimeout(h,100)}),await Ll({type:"link",url:r,keepfocus:a.keepfocus,noscroll:a.noscroll,replace_state:a.replace_state??r.href===location.href})}),Is.addEventListener("submit",e=>{if(e.defaultPrevented)return;const t=HTMLFormElement.prototype.cloneNode.call(e.target),r=e.submitter;if((r?.formTarget||t.target)==="_blank"||(r?.formMethod||t.method)!=="get")return;const o=new URL(r?.hasAttribute("formaction")&&r?.formAction||t.action);if(ku(o,Oi,!1))return;const a=e.target,l=Su(a);if(l.reload)return;e.preventDefault(),e.stopPropagation();const c=new FormData(a),u=r?.getAttribute("name");u&&c.append(u,r?.getAttribute("value")??""),o.search=new URLSearchParams(c).toString(),Ll({type:"form",url:o,keepfocus:l.keepfocus,noscroll:l.noscroll,replace_state:l.replace_state??o.href===location.href})}),addEventListener("popstate",async e=>{if(!Xf){if(e.state?.[Ea]){const t=e.state[Ea];if(Lo={},t===Tr)return;const r=Do[t],i=e.state[hy]??{},s=new URL(e.state[Pk]??location.href),o=e.state[Nl],a=Ln.url?Of(location)===Of(Ln.url):!1;if(o===Mi&&(Ey||a)){i!==cr.state&&(cr.state=i),n(s),Do[Tr]=Au(),r&&scrollTo(r.x,r.y),Tr=t;return}const c=t-Tr;await Ll({type:"popstate",url:s,popped:{state:i,scroll:r,delta:c},accept:()=>{Tr=t,Mi=o},block:()=>{history.go(-c)},nav_token:Lo})}else if(!Ml){const t=new URL(location.href);n(t),Yn.hash&&location.reload()}}}),addEventListener("hashchange",()=>{Ml&&(Ml=!1,history.replaceState({...history.state,[Ea]:++Tr,[Nl]:Mi},"",location.href))});for(const e of document.querySelectorAll("link"))Qk.has(e.rel)&&(e.href=e.href);addEventListener("pageshow",e=>{e.persisted&&ns.navigating.set(Pl.current=null)});function n(e){Ln.url=cr.url=e,ns.page.set(Qf(cr)),ns.page.notify()}}async function fC(n,{status:e=200,error:t,node_ids:r,params:i,route:s,server_route:o,data:a,form:l}){jf=!0;const c=new URL(location.href);let u;({params:i={},route:s={id:null}}=await Du(c,!1)||{}),u=Uf.find(({id:f})=>f===s.id);let d,h=!0;try{const f=r.map(async(m,y)=>{const v=a[y];return v?.uses&&(v.uses=Fy(v.uses)),$f({loader:Yn.nodes[m],url:c,params:i,route:s,parent:async()=>{const A={};for(let E=0;E<y;E+=1)Object.assign(A,(await f[E]).data);return A},server_data_node:Yf(v)})}),g=await Promise.all(f);if(u){const m=u.layouts;for(let y=0;y<m.length;y++)m[y]||g.splice(y,0,void 0)}d=Ou({url:c,params:i,branch:g,status:e,error:t,form:l,route:u??null})}catch(f){if(f instanceof Pf){await Sa(new URL(f.location,location.href));return}d=await Mu({status:Cu(f),error:await Ca(f,{url:c,params:i,route:s}),url:c,route:s}),n.textContent="",h=!1}d.props.page&&(d.props.page.state={}),Ty(d,n,h)}async function Ly(n,e){const t=new URL(n);t.pathname=Yk(n.pathname),n.pathname.endsWith("/")&&t.searchParams.append(jk,"1"),t.searchParams.append(Vk,e.map(s=>s?"1":"0").join(""));const r=window.fetch,i=await r(t.href,{});if(!i.ok){let s;throw i.headers.get("content-type")?.includes("application/json")?s=await i.json():i.status===404?s="Not Found":i.status===500&&(s="Internal Error"),new Eu(i.status,s)}return new Promise(async s=>{const o=new Map,a=i.body.getReader(),l=new TextDecoder;function c(d){return Hk(d,{...Yn.decoders,Promise:h=>new Promise((f,g)=>{o.set(h,{fulfil:f,reject:g})})})}let u="";for(;;){const{done:d,value:h}=await a.read();if(d&&!u)break;for(u+=!h&&u?`
`:l.decode(h,{stream:!0});;){const f=u.indexOf(`
`);if(f===-1)break;const g=JSON.parse(u.slice(0,f));if(u=u.slice(f+1),g.type==="redirect")return s(g);if(g.type==="data")g.nodes?.forEach(m=>{m?.type==="data"&&(m.uses=Fy(m.uses),m.data=c(m.data))}),s(g);else if(g.type==="chunk"){const{id:m,data:y,error:v}=g,A=o.get(m);o.delete(m),v?A.reject(c(v)):A.fulfil(c(y))}}}})}function Fy(n){return{dependencies:new Set(n?.dependencies??[]),params:new Set(n?.params??[]),parent:!!n?.parent,route:!!n?.route,url:!!n?.url,search_params:new Set(n?.search_params??[])}}let Xf=!1;function pC(n){const e=document.querySelector("[autofocus]");if(e)e.focus();else{const t=By(n);if(t&&document.getElementById(t)){const{x:i,y:s}=Au();setTimeout(()=>{const o=history.state;Xf=!0,location.replace(`#${t}`),Yn.hash&&location.replace(n.hash),history.replaceState(o,"",n.hash),scrollTo(i,s),Xf=!1})}else{const i=document.body,s=i.getAttribute("tabindex");i.tabIndex=-1,i.focus({preventScroll:!0,focusVisible:!1}),s!==null?i.setAttribute("tabindex",s):i.removeAttribute("tabindex")}const r=getSelection();if(r&&r.type!=="None"){const i=[];for(let s=0;s<r.rangeCount;s+=1)i.push(r.getRangeAt(s));setTimeout(()=>{if(r.rangeCount===i.length){for(let s=0;s<r.rangeCount;s+=1){const o=i[s],a=r.getRangeAt(s);if(o.commonAncestorContainer!==a.commonAncestorContainer||o.startContainer!==a.startContainer||o.endContainer!==a.endContainer||o.startOffset!==a.startOffset||o.endOffset!==a.endOffset)return}r.removeAllRanges()}})}}}function Zf(n,e,t,r){let i,s;const o=new Promise((l,c)=>{i=l,s=c});return o.catch(()=>{}),{navigation:{from:{params:n.params,route:{id:n.route?.id??null},url:n.url},to:t&&{params:e?.params??null,route:{id:e?.route?.id??null},url:t},willUnload:!e,type:r,complete:o},fulfil:i,reject:s}}function Qf(n){return{data:n.data,error:n.error,form:n.form,params:n.params,route:n.route,state:n.state,status:n.status,url:n.url}}function gC(n){const e=new URL(n);return e.hash=decodeURIComponent(n.hash),e}function By(n){let e;if(Yn.hash){const[,,t]=n.hash.split("#",3);e=t??""}else e=n.hash.slice(1);return decodeURIComponent(e)}const h6="modulepreload",f6=function(n,e){return new URL(n,e).href},p6={},Ta=function(e,t,r){let i=Promise.resolve();function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},mC={},bC="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(bC);var vC=de('<div id="svelte-announcer" aria-live="assertive" aria-atomic="true" style="position: absolute; left: 0; top: 0; clip: rect(0 0 0 0); clip-path: inset(50%); overflow: hidden; white-space: nowrap; width: 1px; height: 1px"><!></div>'),yC=de("<!> <!>",1);function wC(n,e){be(e,!0);let t=F(e,"components",23,()=>[]),r=F(e,"data_0",3,null),i=F(e,"data_1",3,null);ei(()=>e.stores.page.set(e.page)),Tt(()=>{e.stores,e.page,e.constructors,t(),e.form,r(),i(),e.stores.page.notify()});let s=_e(!1),o=_e(!1),a=_e(null);ji(()=>{const m=e.stores.page.subscribe(()=>{w(s)&&(G(o,!0),df().then(()=>{G(a,document.title||"untitled page",!0)}))});return G(s,!0),m});const l=q(()=>e.constructors[1]);var c=yC(),u=j(c);{var d=m=>{var y=te();const v=q(()=>e.constructors[0]);var A=j(y);We(A,()=>w(v),(E,S)=>{fn(S(E,{get data(){return r()},get form(){return e.form},get params(){return e.page.params},children:(C,x)=>{var N=te(),D=j(N);We(D,()=>w(l),(V,O)=>{fn(O(V,{get data(){return i()},get form(){return e.form},get params(){return e.page.params}}),K=>t()[1]=K,()=>t()?.[1])}),I(C,N)},$$slots:{default:!0}}),C=>t()[0]=C,()=>t()?.[0])}),I(m,y)},h=m=>{var y=te();const v=q(()=>e.constructors[0]);var A=j(y);We(A,()=>w(v),(E,S)=>{fn(S(E,{get data(){return r()},get form(){return e.form},get params(){return e.page.params}}),C=>t()[0]=C,()=>t()?.[0])}),I(m,y)};xe(u,m=>{e.constructors[1]?m(d):m(h,!1)})}var f=Ne(u,2);{var g=m=>{var y=vC(),v=he(y);{var A=E=>{var S=Vr();ft(()=>Xt(S,w(a))),I(E,S)};xe(v,E=>{w(o)&&E(A)})}ue(y),I(m,y)};xe(f,m=>{w(s)&&m(g)})}I(n,c),ve()}const _C=ok(wC),xC=[()=>Ta(()=>Promise.resolve().then(()=>c2),void 0,Bt&&Bt.tagName.toUpperCase()==="SCRIPT"&&Bt.src||new URL("_app/immutable/bundle.CS9QXApz.js",document.baseURI).href),()=>Ta(()=>Promise.resolve().then(()=>h2),void 0,Bt&&Bt.tagName.toUpperCase()==="SCRIPT"&&Bt.src||new URL("_app/immutable/bundle.CS9QXApz.js",document.baseURI).href),()=>Ta(()=>Promise.resolve().then(()=>ij),void 0,Bt&&Bt.tagName.toUpperCase()==="SCRIPT"&&Bt.src||new URL("_app/immutable/bundle.CS9QXApz.js",document.baseURI).href),()=>Ta(()=>Promise.resolve().then(()=>cj),void 0,Bt&&Bt.tagName.toUpperCase()==="SCRIPT"&&Bt.src||new URL("_app/immutable/bundle.CS9QXApz.js",document.baseURI).href)],EC=[],AC={"/":[2],"/chat/[id]":[3]},zy={handleError:({error:n})=>{console.error(n)},reroute:()=>{},transport:{}},Uy=Object.fromEntries(Object.entries(zy.transport).map(([n,e])=>[n,e.decode])),SC=Object.freeze(Object.defineProperty({__proto__:null,decode:(n,e)=>Uy[n](e),decoders:Uy,dictionary:AC,hash:!1,hooks:zy,matchers:mC,nodes:xC,root:_C,server_loads:EC},Symbol.toStringTag,{value:"Module"}));function kC(n,e){tC(SC,n,e)}const Hy=typeof window<"u"?window:void 0;function CC(n){let e=n.activeElement;for(;e?.shadowRoot;){const t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}class TC extends Map{#e=new Map;#t=_e(0);#n=_e(0);#r=Ts||-1;constructor(e){if(super(),e){for(var[t,r]of e)super.set(t,r);this.#n.v=super.size}}#s(e){return Ts===this.#r?_e(e):Po(e)}has(e){var t=this.#e,r=t.get(e);if(r===void 0){var i=super.get(e);if(i!==void 0)r=this.#s(0),t.set(e,r);else return w(this.#t),!1}return w(r),!0}forEach(e,t){this.#i(),super.forEach(e,t)}get(e){var t=this.#e,r=t.get(e);if(r===void 0){var i=super.get(e);if(i!==void 0)r=this.#s(0),t.set(e,r);else{w(this.#t);return}}return w(r),super.get(e)}set(e,t){var r=this.#e,i=r.get(e),s=super.get(e),o=super.set(e,t),a=this.#t;if(i===void 0)i=this.#s(0),r.set(e,i),G(this.#n,super.size),Ss(a);else if(s!==t){Ss(i);var l=a.reactions===null?null:new Set(a.reactions),c=l===null||!i.reactions?.every(u=>l.has(u));c&&Ss(a)}return o}delete(e){var t=this.#e,r=t.get(e),i=super.delete(e);return r!==void 0&&(t.delete(e),G(this.#n,super.size),G(r,-1),Ss(this.#t)),i}clear(){if(super.size!==0){super.clear();var e=this.#e;G(this.#n,0);for(var t of e.values())G(t,-1);Ss(this.#t),e.clear()}}#i(){w(this.#t);var e=this.#e;if(this.#n.v!==e.size){for(var t of super.keys())if(!e.has(t)){var r=this.#s(0);e.set(t,r)}}for([,r]of this.#e)w(r)}keys(){return w(this.#t),super.keys()}values(){return this.#i(),super.values()}entries(){return this.#i(),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return w(this.#n),super.size}}class NC{#e;#t;constructor(e,t){this.#e=e,this.#t=No(t)}get current(){return this.#t(),this.#e()}}const IC=/\(.+\)/,PC=new Set(["all","print","screen","and","or","not","only"]);class Gy extends NC{constructor(e,t){let r=IC.test(e)||e.split(/[\s,]+/).some(s=>PC.has(s.trim()))?e:`(${e})`;const i=window.matchMedia(r);super(()=>i.matches,s=>vn(i,"change",s))}}let RC=class{#e;#t;constructor(e={}){const{window:t=Hy,document:r=t?.document}=e;t!==void 0&&(this.#e=r,this.#t=No(i=>{const s=vn(t,"focusin",i),o=vn(t,"focusout",i);return()=>{s(),o()}}))}get current(){return this.#t?.(),this.#e?CC(this.#e):null}};new RC;function OC(n,e){switch(n){case"post":Tt(e);break;case"pre":ei(e);break}}function Vy(n,e,t,r={}){const{lazy:i=!1}=r;let s=!i,o=Array.isArray(n)?[]:void 0;OC(e,()=>{const a=Array.isArray(n)?n.map(c=>c()):n();if(!s){s=!0,o=a;return}const l=_n(()=>t(a,o));return o=a,l})}function Jf(n,e,t){Vy(n,"post",e,t)}function MC(n,e,t){Vy(n,"pre",e,t)}Jf.pre=MC;function DC(n,e){switch(n){case"local":return e.localStorage;case"session":return e.sessionStorage}}class jy{#e;#t;#n;#r;#s;#i=_e(0);constructor(e,t,r={}){const{storage:i="local",serializer:s={serialize:JSON.stringify,deserialize:JSON.parse},syncTabs:o=!0,window:a=Hy}=r;if(this.#e=t,this.#t=e,this.#n=s,a===void 0)return;const l=DC(i,a);this.#r=l;const c=l.getItem(e);c!==null?this.#e=this.#a(c):this.#l(t),o&&i==="local"&&(this.#s=No(()=>vn(a,"storage",this.#o)))}get current(){this.#s?.(),w(this.#i);const e=this.#a(this.#r?.getItem(this.#t))??this.#e,t=new WeakMap,r=i=>{if(i===null||i?.constructor.name==="Date"||typeof i!="object")return i;let s=t.get(i);return s||(s=new Proxy(i,{get:(o,a)=>(w(this.#i),r(Reflect.get(o,a))),set:(o,a,l)=>(G(this.#i,w(this.#i)+1),Reflect.set(o,a,l),this.#l(e),!0)}),t.set(i,s)),s};return r(e)}set current(e){this.#l(e),G(this.#i,w(this.#i)+1)}#o=e=>{e.key!==this.#t||e.newValue===null||(this.#e=this.#a(e.newValue),G(this.#i,w(this.#i)+1))};#a(e){try{return this.#n.deserialize(e)}catch(t){console.error(`Error when parsing "${e}" from persisted store "${this.#t}"`,t);return}}#l(e){try{e!=null&&this.#r?.setItem(this.#t,this.#n.serialize(e))}catch(t){console.error(`Error when writing value from persisted store "${this.#t}" to ${this.#r}`,t)}}}function qy(n){return n.filter(e=>e.length>0)}const Wy={getItem:n=>null,setItem:(n,e)=>{}},Bl=typeof document<"u";function LC(n){return typeof n=="function"}function FC(n){return n!==null&&typeof n=="object"}const zl=Symbol("box"),ep=Symbol("is-writable");function BC(n){return FC(n)&&zl in n}function zC(n){return rr.isBox(n)&&ep in n}function rr(n){let e=_e(Nn(n));return{[zl]:!0,[ep]:!0,get current(){return w(e)},set current(t){G(e,t,!0)}}}function UC(n,e){const t=q(n);return e?{[zl]:!0,[ep]:!0,get current(){return w(t)},set current(r){e(r)}}:{[zl]:!0,get current(){return n()}}}function HC(n){return rr.isBox(n)?n:LC(n)?rr.with(n):rr(n)}function GC(n){return Object.entries(n).reduce((e,[t,r])=>rr.isBox(r)?(rr.isWritableBox(r)?Object.defineProperty(e,t,{get(){return r.current},set(i){r.current=i}}):Object.defineProperty(e,t,{get(){return r.current}}),e):Object.assign(e,{[t]:r}),{})}function VC(n){return rr.isWritableBox(n)?{[zl]:!0,get current(){return n.current}}:n}rr.from=HC,rr.with=UC,rr.flatten=GC,rr.readonly=VC,rr.isBox=BC,rr.isWritableBox=zC;var jC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Na={},tp,Ky;function qC(){if(Ky)return tp;Ky=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,c="/",u="*",d="",h="comment",f="declaration";tp=function(m,y){if(typeof m!="string")throw new TypeError("First argument must be a string");if(!m)return[];y=y||{};var v=1,A=1;function E(U){var L=U.match(e);L&&(v+=L.length);var W=U.lastIndexOf(l);A=~W?U.length-W:A+U.length}function S(){var U={line:v,column:A};return function(L){return L.position=new C(U),D(),L}}function C(U){this.start=U,this.end={line:v,column:A},this.source=y.source}C.prototype.content=m;function x(U){var L=new Error(y.source+":"+v+":"+A+": "+U);if(L.reason=U,L.filename=y.source,L.line=v,L.column=A,L.source=m,!y.silent)throw L}function N(U){var L=U.exec(m);if(L){var W=L[0];return E(W),m=m.slice(W.length),L}}function D(){N(t)}function V(U){var L;for(U=U||[];L=O();)L!==!1&&U.push(L);return U}function O(){var U=S();if(!(c!=m.charAt(0)||u!=m.charAt(1))){for(var L=2;d!=m.charAt(L)&&(u!=m.charAt(L)||c!=m.charAt(L+1));)++L;if(L+=2,d===m.charAt(L-1))return x("End of comment missing");var W=m.slice(2,L-2);return A+=2,E(W),m=m.slice(L),A+=2,U({type:h,comment:W})}}function K(){var U=S(),L=N(r);if(L){if(O(),!N(i))return x("property missing ':'");var W=N(s),H=U({type:f,property:g(L[0].replace(n,d)),value:W?g(W[0].replace(n,d)):d});return N(o),H}}function B(){var U=[];V(U);for(var L;L=K();)L!==!1&&(U.push(L),V(U));return U}return D(),B()};function g(m){return m?m.replace(a,d):d}return tp}var $y;function WC(){if($y)return Na;$y=1;var n=Na&&Na.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Na,"__esModule",{value:!0}),Na.default=t;var e=n(qC());function t(r,i){var s=null;if(!r||typeof r!="string")return s;var o=(0,e.default)(r),a=typeof i=="function";return o.forEach(function(l){if(l.type==="declaration"){var c=l.property,u=l.value;a?i(c,u,l):u&&(s=s||{},s[c]=u)}}),s}return Na}var KC=WC();const Yy=Fu(KC),$C=Yy.default||Yy;function YC(n,e){const t=RegExp(n,"g");return r=>{if(typeof r!="string")throw new TypeError(`expected an argument of type string, but got ${typeof r}`);return r.match(t)?r.replace(t,e):r}}const XC=YC(/[A-Z]/,n=>`-${n.toLowerCase()}`);function ZC(n){if(!n||typeof n!="object"||Array.isArray(n))throw new TypeError(`expected an argument of type object, but got ${typeof n}`);return Object.keys(n).map(e=>`${XC(e)}: ${n[e]};`).join(`
`)}function QC(n={}){return ZC(n).replace(`
`," ")}QC({position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",transform:"translateX(-100%)"});const JC=typeof window<"u"?window:void 0;function eT(n){let e=n.activeElement;for(;e?.shadowRoot;){const t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}let tT=class{#e;#t;constructor(e={}){const{window:t=JC,document:r=t?.document}=e;t!==void 0&&(this.#e=r,this.#t=No(i=>{const s=vn(t,"focusin",i),o=vn(t,"focusout",i);return()=>{s(),o()}}))}get current(){return this.#t?.(),this.#e?eT(this.#e):null}};new tT;const Fo=rr("mode-watcher-mode"),Bo=rr("mode-watcher-theme"),nT=["dark","light","system"];function np(n){return typeof n!="string"?!1:nT.includes(n)}class rT{#e="system";#t=Bl?localStorage:Wy;#n=this.#t.getItem(Fo.current);#r=np(this.#n)?this.#n:this.#e;#s=_e(Nn(this.#i()));#i(e=this.#r){return new jy(Fo.current,e,{serializer:{serialize:t=>t,deserialize:t=>np(t)?t:this.#e}})}constructor(){lu(()=>Jf.pre(()=>Fo.current,(e,t)=>{const r=w(this.#s).current;G(this.#s,this.#i(r),!0),t&&localStorage.removeItem(t)}))}get current(){return w(this.#s).current}set current(e){w(this.#s).current=e}}class iT{#e=void 0;#t=!0;#n=_e(Nn(this.#e));#r=typeof window<"u"&&typeof window.matchMedia=="function"?new Gy("prefers-color-scheme: light"):{current:!1};query(){Bl&&G(this.#n,this.#r.current?"light":"dark",!0)}tracking(e){this.#t=e}constructor(){lu(()=>{ei(()=>{this.#t&&this.query()})}),this.query=this.query.bind(this),this.tracking=this.tracking.bind(this)}get current(){return w(this.#n)}}const rp=new rT,ip=new iT;class sT{#e=Bl?localStorage:Wy;#t=this.#e.getItem(Bo.current);#n=this.#t===null||this.#t===void 0?"":this.#t;#r=_e(Nn(this.#s()));#s(e=this.#n){return new jy(Bo.current,e,{serializer:{serialize:t=>typeof t!="string"?"":t,deserialize:t=>t}})}constructor(){lu(()=>Jf.pre(()=>Bo.current,(e,t)=>{const r=w(this.#r).current;G(this.#r,this.#s(r),!0),t&&localStorage.removeItem(t)}))}get current(){return w(this.#r).current}set current(e){w(this.#r).current=e}}const Bu=new sT;let Xy,Zy,Qy=!1,Ul=null;function oT(){return Ul||(Ul=document.createElement("style"),Ul.appendChild(document.createTextNode(`* {
		-webkit-transition: none !important;
		-moz-transition: none !important;
		-o-transition: none !important;
		-ms-transition: none !important;
		transition: none !important;
	}`)),Ul)}function Jy(n,e=!1){if(typeof document>"u")return;if(!Qy){Qy=!0,n();return}if(typeof window<"u"&&window.__vitest_worker__){n();return}clearTimeout(Xy),clearTimeout(Zy);const r=oT(),i=()=>document.head.appendChild(r),s=()=>{r.parentNode&&document.head.removeChild(r)};function o(){n(),window.requestAnimationFrame(s)}if(typeof window.requestAnimationFrame<"u"){i(),e?o():window.requestAnimationFrame(()=>{o()});return}i(),Xy=window.setTimeout(()=>{n(),Zy=window.setTimeout(s,16)},16)}const ro=rr(void 0),zu=rr(!0),Uu=rr(!1),sp=rr([]),op=rr([]);function aT(){const n=q(()=>{if(!Bl)return;const e=rp.current==="system"?ip.current:rp.current,t=qy(sp.current),r=qy(op.current);function i(){const s=document.documentElement,o=document.querySelector('meta[name="theme-color"]');e==="light"?(t.length&&s.classList.remove(...t),r.length&&s.classList.add(...r),s.style.colorScheme="light",o&&ro.current&&o.setAttribute("content",ro.current.light)):(r.length&&s.classList.remove(...r),t.length&&s.classList.add(...t),s.style.colorScheme="dark",o&&ro.current&&o.setAttribute("content",ro.current.dark))}return zu.current?Jy(i,Uu.current):i(),e});return{get current(){return w(n)}}}function lT(){const n=q(()=>{if(Bu.current,!Bl)return;function e(){document.documentElement.setAttribute("data-theme",Bu.current)}return zu.current?Jy(e,_n(()=>Uu.current)):e(),Bu.current});return{get current(){return w(n)}}}const cT=aT(),uT=lT();function dT(n){rp.current=n}function hT(n){Bu.current=n}function v6(n){return n}function fT({defaultMode:n="system",themeColors:e,darkClassNames:t=["dark"],lightClassNames:r=[],defaultTheme:i="",modeStorageKey:s="mode-watcher-mode",themeStorageKey:o="mode-watcher-theme"}){const a=document.documentElement,l=localStorage.getItem(s)??n,c=localStorage.getItem(o)??i,u=l==="light"||l==="system"&&window.matchMedia("(prefers-color-scheme: light)").matches;if(u?(t.length&&a.classList.remove(...t.filter(Boolean)),r.length&&a.classList.add(...r.filter(Boolean))):(r.length&&a.classList.remove(...r.filter(Boolean)),t.length&&a.classList.add(...t.filter(Boolean))),a.style.colorScheme=u?"light":"dark",e){const d=document.querySelector('meta[name="theme-color"]');d&&d.setAttribute("content",l==="light"?e.light:e.dark)}c&&(a.setAttribute("data-theme",c),localStorage.setItem(o,c)),localStorage.setItem(s,l)}var pT=de('<meta name="theme-color"/>');function gT(n,e){be(e,!0);var t=te(),r=j(t);{var i=s=>{var o=pT();ft(()=>Ct(o,"content",e.themeColors.dark)),I(s,o)};xe(r,s=>{e.themeColors&&s(i)})}I(n,t),ve()}var mT=de('<meta name="theme-color"/>'),bT=de("<!> <!>",1);function vT(n,e){be(e,!0);let t=F(e,"trueNonce",3,"");mf(r=>{var i=bT(),s=j(i);{var o=l=>{var c=mT();ft(()=>Ct(c,"content",e.themeColors.dark)),I(l,c)};xe(s,l=>{e.themeColors&&l(o)})}var a=Ne(s,2);qv(a,()=>`<script${t()?` nonce=${t()}`:""}>(`+fT.toString()+")("+JSON.stringify(e.initConfig)+");<\/script>"),I(r,i)}),ve()}function yT(n,e){be(e,!0);let t=F(e,"track",3,!0),r=F(e,"defaultMode",3,"system"),i=F(e,"disableTransitions",3,!0),s=F(e,"darkClassNames",19,()=>["dark"]),o=F(e,"lightClassNames",19,()=>[]),a=F(e,"defaultTheme",3,""),l=F(e,"nonce",3,""),c=F(e,"themeStorageKey",3,"mode-watcher-theme"),u=F(e,"modeStorageKey",3,"mode-watcher-mode"),d=F(e,"disableHeadScriptInjection",3,!1),h=F(e,"synchronousModeChanges",3,!1);Fo.current=u(),Bo.current=c(),sp.current=s(),op.current=o(),zu.current=i(),ro.current=e.themeColors,Uu.current=h(),ei(()=>{Uu.current=h()}),ei(()=>{zu.current=i()}),ei(()=>{ro.current=e.themeColors}),ei(()=>{sp.current=s()}),ei(()=>{op.current=o()}),ei(()=>{Fo.current=u()}),ei(()=>{Bo.current=c()}),ei(()=>{cT.current,Fo.current,Bo.current,uT.current}),ji(()=>{ip.tracking(t()),ip.query();const E=localStorage.getItem(Fo.current);dT(np(E)?E:r());const S=localStorage.getItem(Bo.current);hT(S||a())});const f={defaultMode:r(),themeColors:e.themeColors,darkClassNames:s(),lightClassNames:o(),defaultTheme:a(),modeStorageKey:u(),themeStorageKey:c()},g=q(()=>typeof window>"u"?l():"");var m=te(),y=j(m);{var v=E=>{gT(E,{get themeColors(){return ro.current}})},A=E=>{vT(E,{get trueNonce(){return w(g)},get initConfig(){return f},get themeColors(){return ro.current}})};xe(y,E=>{d()?E(v):E(A,!1)})}I(n,m),ve()}const wT=Array(12).fill(0);var _T=de('<div class="sonner-loading-bar"></div>'),xT=de('<div><div class="sonner-spinner"></div></div>');function ET(n,e){be(e,!0);var t=xT(),r=he(t);es(r,23,()=>wT,(i,s)=>`spinner-bar-${s}`,(i,s)=>{var o=_T();I(i,o)}),ue(r),ue(t),ft(i=>{Rn(t,1,i),Ct(t,"data-visible",e.visible)},[()=>Ri(["sonner-loading-wrapper",e.class].filter(Boolean).join(" "))]),I(n,t),ve()}function Ps(...n){return n.filter(Boolean).join(" ")}const AT=typeof document<"u",ST=typeof window<"u"?window:void 0;function kT(n){let e=n.activeElement;for(;e?.shadowRoot;){const t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}let CT=class{#e;#t;constructor(e={}){const{window:t=ST,document:r=t?.document}=e;t!==void 0&&(this.#e=r,this.#t=No(i=>{const s=vn(t,"focusin",i),o=vn(t,"focusout",i);return()=>{s(),o()}}))}get current(){return this.#t?.(),this.#e?kT(this.#e):null}};new CT;let TT=class{#e;#t;constructor(e){this.#e=e,this.#t=Symbol(e)}get key(){return this.#t}exists(){return Qh(this.#t)}get(){const e=fa(this.#t);if(e===void 0)throw new Error(`Context "${this.#e}" not found`);return e}getOr(e){const t=fa(this.#t);return t===void 0?e:t}set(e){return tu(this.#t,e)}};const NT=new TT("<Toaster/>");let ew=0;class IT{#e=_e(Nn([]));get toasts(){return w(this.#e)}set toasts(e){G(this.#e,e,!0)}#t=_e(Nn([]));get heights(){return w(this.#t)}set heights(e){G(this.#t,e,!0)}#n=e=>{const t=this.toasts.findIndex(r=>r.id===e);return t===-1?null:t};addToast=e=>{AT&&this.toasts.unshift(e)};updateToast=({id:e,data:t,type:r,message:i})=>{const s=this.toasts.findIndex(a=>a.id===e),o=this.toasts[s];this.toasts[s]={...o,...t,id:e,title:i,type:r,updated:!0}};create=e=>{const{message:t,...r}=e,i=typeof e?.id=="number"||e.id&&e.id?.length>0?e.id:ew++,s=e.dismissable===void 0?!0:e.dismissable,o=e.type===void 0?"default":e.type;return _n(()=>{this.toasts.find(l=>l.id===i)?this.updateToast({id:i,data:e,type:o,message:t,dismissable:s}):this.addToast({...r,id:i,title:t,dismissable:s,type:o})}),i};dismiss=e=>(_n(()=>{if(e===void 0){this.toasts=this.toasts.map(r=>({...r,dismiss:!0}));return}const t=this.toasts.findIndex(r=>r.id===e);this.toasts[t]&&(this.toasts[t]={...this.toasts[t],dismiss:!0})}),e);remove=e=>{if(e===void 0){this.toasts=[];return}const t=this.#n(e);if(t!==null)return this.toasts.splice(t,1),e};message=(e,t)=>this.create({...t,type:"default",message:e});error=(e,t)=>this.create({...t,type:"error",message:e});success=(e,t)=>this.create({...t,type:"success",message:e});info=(e,t)=>this.create({...t,type:"info",message:e});warning=(e,t)=>this.create({...t,type:"warning",message:e});loading=(e,t)=>this.create({...t,type:"loading",message:e});promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:typeof t.loading=="string"?t.loading:t.loading()}));const i=e instanceof Promise?e:e();let s=r!==void 0;return i.then(o=>{if(typeof o=="object"&&o&&"ok"in o&&typeof o.ok=="boolean"&&!o.ok){s=!1;const a=PT(o);this.create({id:r,type:"error",message:a})}else if(t.success!==void 0){s=!1;const a=typeof t.success=="function"?t.success(o):t.success;this.create({id:r,type:"success",message:a})}}).catch(o=>{if(t.error!==void 0){s=!1;const a=typeof t.error=="function"?t.error(o):t.error;this.create({id:r,type:"error",message:a})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),t.finally?.()}),r};custom=(e,t)=>{const r=t?.id||ew++;return this.create({component:e,id:r,...t}),r};removeHeight=e=>{this.heights=this.heights.filter(t=>t.toastId!==e)};setHeight=e=>{const t=this.#n(e.toastId);if(t===null){this.heights.push(e);return}this.heights[t]=e};reset=()=>{this.toasts=[],this.heights=[]}}function PT(n){return n&&typeof n=="object"&&"status"in n?`HTTP error! Status: ${n.status}`:`Error! ${n}`}const yn=new IT;function RT(n,e){return yn.create({message:n,...e})}class OT{#e=q(()=>yn.toasts.filter(e=>!e.dismiss));get toasts(){return w(this.#e)}}const tw=Object.assign(RT,{success:yn.success,info:yn.info,warning:yn.warning,error:yn.error,custom:yn.custom,message:yn.message,promise:yn.promise,dismiss:yn.dismiss,loading:yn.loading,getActiveToasts:()=>yn.toasts.filter(n=>!n.dismiss)});function Hu(n){return n.label!==void 0}function MT(){let n=_e(Nn(typeof document<"u"?document.hidden:!1));return Tt(()=>vn(document,"visibilitychange",()=>{G(n,document.hidden,!0)})),{get current(){return w(n)}}}const nw=4e3,DT=14,LT=45,FT=200,BT=.05,zT={toast:"",title:"",description:"",loader:"",closeButton:"",cancelButton:"",actionButton:"",action:"",warning:"",error:"",success:"",default:"",info:"",loading:""};function UT(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}function rw(n){return 1/(1.5+Math.abs(n)/20)}var HT=de("<div><!></div>"),GT=(n,e,t,r,i)=>{w(e)||!w(t)||(r(),i.toast.onDismiss?.(i.toast))},VT=de('<button data-close-button=""><!></button>'),jT=de('<div data-icon=""><!> <!></div>'),qT=de('<div data-description=""><!></div>'),WT=(n,e,t,r)=>{Hu(e.toast.cancel)&&w(t)&&(e.toast.cancel?.onClick?.(n),r())},KT=de('<button data-button="" data-cancel=""> </button>'),$T=(n,e,t)=>{Hu(e.toast.action)&&(e.toast.action?.onClick(n),!n.defaultPrevented&&t())},YT=de('<button data-button=""> </button>'),XT=de('<!> <div data-content=""><div data-title=""><!></div> <!></div> <!> <!>',1),ZT=de('<li data-sonner-toast=""><!> <!></li>');function QT(n,e){be(e,!0);const t=pt=>{var At=te(),Nt=j(At);{var Pt=Ee=>{var Je=HT(),_t=he(Je);Se(_t,()=>e.loadingIcon),ue(Je),ft(Mt=>{Rn(Je,1,Mt),Ct(Je,"data-visible",w(x)==="loading")},[()=>Ri(Ps(w(le)?.loader,e.toast?.classes?.loader,"sonner-loader"))]),I(Ee,Je)},ce=Ee=>{{let Je=q(()=>Ps(w(le)?.loader,e.toast.classes?.loader)),_t=q(()=>w(x)==="loading");ET(Ee,{get class(){return w(Je)},get visible(){return w(_t)}})}};xe(Nt,Ee=>{e.loadingIcon?Ee(Pt):Ee(ce,!1)})}I(pt,At)};let r=F(e,"cancelButtonStyle",3,""),i=F(e,"actionButtonStyle",3,""),s=F(e,"descriptionClass",3,""),o=F(e,"unstyled",3,!1),a=F(e,"defaultRichColors",3,!1);const l={...zT};let c=_e(!1),u=_e(!1),d=_e(!1),h=_e(!1),f=_e(!1),g=_e(0),m=_e(0),y=e.toast.duration||e.duration||nw,v=_e(void 0),A=_e(null),E=_e(null);const S=q(()=>e.index===0),C=q(()=>e.index+1<=e.visibleToasts),x=q(()=>e.toast.type),N=q(()=>e.toast.dismissable!==!1),D=q(()=>e.toast.class||""),V=q(()=>e.toast.descriptionClass||""),O=q(()=>yn.heights.findIndex(pt=>pt.toastId===e.toast.id)||0),K=q(()=>e.toast.closeButton??e.closeButton),B=q(()=>e.toast.duration??e.duration??nw);let U=null;const L=q(()=>e.position.split("-")),W=q(()=>yn.heights.reduce((pt,At,Nt)=>Nt>=w(O)?pt:pt+At.height,0)),H=MT(),Q=q(()=>e.toast.invert||e.invert),X=q(()=>w(x)==="loading"),le=q(()=>({...l,...e.classes})),R=q(()=>e.toast.title),Ae=q(()=>e.toast.description);let ke=_e(0),M=_e(0);const fe=q(()=>Math.round(w(O)*DT+w(W)));Tt(()=>{w(R),w(Ae);let pt;e.expanded||e.expandByDefault?pt=1:pt=1-e.index*BT;const At=_n(()=>w(v));if(At===void 0)return;At.style.setProperty("height","auto");const Nt=At.offsetHeight,Pt=At.getBoundingClientRect().height,ce=Math.round(Pt/pt+Number.EPSILON&100)/100;At.style.removeProperty("height");let Ee;Math.abs(ce-Nt)<1?Ee=ce:Ee=Nt,G(m,Ee,!0),_n(()=>{yn.setHeight({toastId:e.toast.id,height:Ee})})});function Oe(){G(u,!0),G(g,w(fe),!0),yn.removeHeight(e.toast.id),setTimeout(()=>{yn.remove(e.toast.id)},FT)}let Le;const Pe=q(()=>e.toast.promise&&w(x)==="loading"||e.toast.duration===Number.POSITIVE_INFINITY);function $e(){G(ke,new Date().getTime(),!0),Le=setTimeout(()=>{e.toast.onAutoClose?.(e.toast),Oe()},y)}function Fe(){if(w(M)<w(ke)){const pt=new Date().getTime()-w(ke);y=y-pt}G(M,new Date().getTime(),!0)}Tt(()=>{e.toast.updated&&(clearTimeout(Le),y=w(B),$e())}),Tt(()=>(w(Pe)||(e.expanded||e.interacting||H.current?Fe():$e()),()=>clearTimeout(Le))),ji(()=>{G(c,!0);const pt=w(v)?.getBoundingClientRect().height;return G(m,pt,!0),yn.setHeight({toastId:e.toast.id,height:pt}),()=>{yn.removeHeight(e.toast.id)}}),Tt(()=>{e.toast.delete&&_n(()=>{Oe(),e.toast.onDismiss?.(e.toast)})});const nn=pt=>{if(w(X))return;G(g,w(fe),!0);const At=pt.target;At.setPointerCapture(pt.pointerId),At.tagName!=="BUTTON"&&(G(d,!0),U={x:pt.clientX,y:pt.clientY})},wt=()=>{if(w(h)||!w(N))return;U=null;const pt=Number(w(v)?.style.getPropertyValue("--swipe-amount-x").replace("px","")||0),At=Number(w(v)?.style.getPropertyValue("--swipe-amount-y").replace("px","")||0),Nt=new Date().getTime()-0,Pt=w(A)==="x"?pt:At,ce=Math.abs(Pt)/Nt;if(Math.abs(Pt)>=LT||ce>.11){G(g,w(fe),!0),e.toast.onDismiss?.(e.toast),w(A)==="x"?G(E,pt>0?"right":"left",!0):G(E,At>0?"down":"up",!0),Oe(),G(h,!0);return}else w(v)?.style.setProperty("--swipe-amount-x","0px"),w(v)?.style.setProperty("--swipe-amount-y","0px");G(f,!1),G(d,!1),G(A,null)},ut=pt=>{if(!U||!w(N)||(window.getSelection()?.toString().length??-1)>0)return;const Nt=pt.clientY-U.y,Pt=pt.clientX-U.x,ce=e.swipeDirections??UT(e.position);!w(A)&&(Math.abs(Pt)>1||Math.abs(Nt)>1)&&G(A,Math.abs(Pt)>Math.abs(Nt)?"x":"y",!0);let Ee={x:0,y:0};if(w(A)==="y"){if(ce.includes("top")||ce.includes("bottom"))if(ce.includes("top")&&Nt<0||ce.includes("bottom")&&Nt>0)Ee.y=Nt;else{const Je=Nt*rw(Nt);Ee.y=Math.abs(Je)<Math.abs(Nt)?Je:Nt}}else if(w(A)==="x"&&(ce.includes("left")||ce.includes("right")))if(ce.includes("left")&&Pt<0||ce.includes("right")&&Pt>0)Ee.x=Pt;else{const Je=Pt*rw(Pt);Ee.x=Math.abs(Je)<Math.abs(Pt)?Je:Pt}(Math.abs(Ee.x)>0||Math.abs(Ee.y)>0)&&G(f,!0),w(v)?.style.setProperty("--swipe-amount-x",`${Ee.x}px`),w(v)?.style.setProperty("--swipe-amount-y",`${Ee.y}px`)},Vt=()=>{G(d,!1),G(A,null),U=null},rn=q(()=>e.toast.icon?e.toast.icon:w(x)==="success"?e.successIcon:w(x)==="error"?e.errorIcon:w(x)==="warning"?e.warningIcon:w(x)==="info"?e.infoIcon:w(x)==="loading"?e.loadingIcon:null);var it=ZT();Ct(it,"tabindex",0);let Ut;it.__pointermove=ut,it.__pointerup=wt,it.__pointerdown=nn;var ar=he(it);{var Un=pt=>{var At=VT();At.__click=[GT,X,N,Oe,e];var Nt=he(At);Se(Nt,()=>e.closeIcon??Te),ue(At),ft(Pt=>{Ct(At,"aria-label",e.closeButtonAriaLabel),Ct(At,"data-disabled",w(X)),Rn(At,1,Pt)},[()=>Ri(Ps(w(le)?.closeButton,e.toast?.classes?.closeButton))]),I(pt,At)};xe(ar,pt=>{w(K)&&!e.toast.component&&w(x)!=="loading"&&e.closeIcon!==null&&pt(Un)})}var lr=Ne(ar,2);{var Mn=pt=>{var At=te();const Nt=q(()=>e.toast.component);var Pt=j(At);We(Pt,()=>w(Nt),(ce,Ee)=>{Ee(ce,Ve(()=>e.toast.componentProps,{closeToast:Oe}))}),I(pt,At)},An=pt=>{var At=XT(),Nt=j(At);{var Pt=Ie=>{var tt=jT(),dt=he(tt);{var sn=Yt=>{var Cn=te(),Y=j(Cn);{var we=at=>{var jt=te(),dn=j(jt);We(dn,()=>e.toast.icon,(et,Xe)=>{Xe(et,{})}),I(at,jt)},Me=at=>{t(at)};xe(Y,at=>{e.toast.icon?at(we):at(Me,!1)})}I(Yt,Cn)};xe(dt,Yt=>{(e.toast.promise||w(x)==="loading")&&Yt(sn)})}var De=Ne(dt,2);{var bt=Yt=>{var Cn=te(),Y=j(Cn);{var we=at=>{var jt=te(),dn=j(jt);We(dn,()=>e.toast.icon,(et,Xe)=>{Xe(et,{})}),I(at,jt)},Me=at=>{var jt=te(),dn=j(jt);{var et=Ke=>{var Lt=te(),Dn=j(Lt);Se(Dn,()=>e.successIcon??Te),I(Ke,Lt)},Xe=Ke=>{var Lt=te(),Dn=j(Lt);{var Fi=Yr=>{var Vs=te(),Mr=j(Vs);Se(Mr,()=>e.errorIcon??Te),I(Yr,Vs)},ms=Yr=>{var Vs=te(),Mr=j(Vs);{var bs=Ei=>{var vs=te(),kr=j(vs);Se(kr,()=>e.warningIcon??Te),I(Ei,vs)},Bi=Ei=>{var vs=te(),kr=j(vs);{var dl=Ai=>{var ia=te(),ci=j(ia);Se(ci,()=>e.infoIcon??Te),I(Ai,ia)};xe(kr,Ai=>{w(x)==="info"&&Ai(dl)},!0)}I(Ei,vs)};xe(Mr,Ei=>{w(x)==="warning"?Ei(bs):Ei(Bi,!1)},!0)}I(Yr,Vs)};xe(Dn,Yr=>{w(x)==="error"?Yr(Fi):Yr(ms,!1)},!0)}I(Ke,Lt)};xe(dn,Ke=>{w(x)==="success"?Ke(et):Ke(Xe,!1)},!0)}I(at,jt)};xe(Y,at=>{e.toast.icon?at(we):at(Me,!1)})}I(Yt,Cn)};xe(De,Yt=>{e.toast.type!=="loading"&&Yt(bt)})}ue(tt),ft(Yt=>Rn(tt,1,Yt),[()=>Ri(Ps(w(le)?.icon,e.toast?.classes?.icon))]),I(Ie,tt)};xe(Nt,Ie=>{(w(x)||e.toast.icon||e.toast.promise)&&e.toast.icon!==null&&(w(rn)!==null||e.toast.icon)&&Ie(Pt)})}var ce=Ne(Nt,2),Ee=he(ce),Je=he(Ee);{var _t=Ie=>{var tt=te(),dt=j(tt);{var sn=bt=>{var Yt=te();const Cn=q(()=>e.toast.title);var Y=j(Yt);We(Y,()=>w(Cn),(we,Me)=>{Me(we,Ve(()=>e.toast.componentProps))}),I(bt,Yt)},De=bt=>{var Yt=Vr();ft(()=>Xt(Yt,e.toast.title)),I(bt,Yt)};xe(dt,bt=>{typeof e.toast.title!="string"?bt(sn):bt(De,!1)})}I(Ie,tt)};xe(Je,Ie=>{e.toast.title&&Ie(_t)})}ue(Ee);var Mt=Ne(Ee,2);{var Sn=Ie=>{var tt=qT(),dt=he(tt);{var sn=bt=>{var Yt=te();const Cn=q(()=>e.toast.description);var Y=j(Yt);We(Y,()=>w(Cn),(we,Me)=>{Me(we,Ve(()=>e.toast.componentProps))}),I(bt,Yt)},De=bt=>{var Yt=Vr();ft(()=>Xt(Yt,e.toast.description)),I(bt,Yt)};xe(dt,bt=>{typeof e.toast.description!="string"?bt(sn):bt(De,!1)})}ue(tt),ft(bt=>Rn(tt,1,bt),[()=>Ri(Ps(s(),w(V),w(le)?.description,e.toast.classes?.description))]),I(Ie,tt)};xe(Mt,Ie=>{e.toast.description&&Ie(Sn)})}ue(ce);var pn=Ne(ce,2);{var hn=Ie=>{var tt=te(),dt=j(tt);{var sn=bt=>{var Yt=te(),Cn=j(Yt);We(Cn,()=>e.toast.cancel,(Y,we)=>{we(Y,{})}),I(bt,Yt)},De=bt=>{var Yt=te(),Cn=j(Yt);{var Y=we=>{var Me=KT();Me.__click=[WT,e,N,Oe];var at=he(Me,!0);ue(Me),ft(jt=>{yu(Me,e.toast.cancelButtonStyle??r()),Rn(Me,1,jt),Xt(at,e.toast.cancel.label)},[()=>Ri(Ps(w(le)?.cancelButton,e.toast?.classes?.cancelButton))]),I(we,Me)};xe(Cn,we=>{Hu(e.toast.cancel)&&we(Y)},!0)}I(bt,Yt)};xe(dt,bt=>{typeof e.toast.cancel=="function"?bt(sn):bt(De,!1)})}I(Ie,tt)};xe(pn,Ie=>{e.toast.cancel&&Ie(hn)})}var Hn=Ne(pn,2);{var kn=Ie=>{var tt=te(),dt=j(tt);{var sn=bt=>{var Yt=te(),Cn=j(Yt);We(Cn,()=>e.toast.action,(Y,we)=>{we(Y,{})}),I(bt,Yt)},De=bt=>{var Yt=te(),Cn=j(Yt);{var Y=we=>{var Me=YT();Me.__click=[$T,e,Oe];var at=he(Me,!0);ue(Me),ft(jt=>{yu(Me,e.toast.actionButtonStyle??i()),Rn(Me,1,jt),Xt(at,e.toast.action.label)},[()=>Ri(Ps(w(le)?.actionButton,e.toast?.classes?.actionButton))]),I(we,Me)};xe(Cn,we=>{Hu(e.toast.action)&&we(Y)},!0)}I(bt,Yt)};xe(dt,bt=>{typeof e.toast.action=="function"?bt(sn):bt(De,!1)})}I(Ie,tt)};xe(Hn,Ie=>{e.toast.action&&Ie(kn)})}ft(Ie=>Rn(Ee,1,Ie),[()=>Ri(Ps(w(le)?.title,e.toast?.classes?.title))]),I(pt,At)};xe(lr,pt=>{e.toast.component?pt(Mn):pt(An,!1)})}ue(it),fn(it,pt=>G(v,pt),()=>w(v)),ft((pt,At,Nt,Pt)=>{Rn(it,1,pt),Ct(it,"data-rich-colors",e.toast.richColors??a()),Ct(it,"data-styled",!(e.toast.component||e.toast.unstyled||o())),Ct(it,"data-mounted",w(c)),Ct(it,"data-promise",At),Ct(it,"data-swiped",w(f)),Ct(it,"data-removed",w(u)),Ct(it,"data-visible",w(C)),Ct(it,"data-y-position",w(L)[0]),Ct(it,"data-x-position",w(L)[1]),Ct(it,"data-index",e.index),Ct(it,"data-front",w(S)),Ct(it,"data-swiping",w(d)),Ct(it,"data-dismissable",w(N)),Ct(it,"data-type",w(x)),Ct(it,"data-invert",w(Q)),Ct(it,"data-swipe-out",w(h)),Ct(it,"data-swipe-direction",w(E)),Ct(it,"data-expanded",Nt),Ut=yu(it,`${e.style} ${e.toast.style}`,Ut,Pt)},[()=>Ri(Ps(e.class,w(D),w(le)?.toast,e.toast?.classes?.toast,w(le)?.[w(x)],e.toast?.classes?.[w(x)])),()=>!!e.toast.promise,()=>!!(e.expanded||e.expandByDefault&&w(c)),()=>({"--index":e.index,"--toasts-before":e.index,"--z-index":yn.toasts.length-e.index,"--offset":`${w(u)?w(g):w(fe)}px`,"--initial-height":e.expandByDefault?"auto":`${w(m)}px`})]),pi("dragend",it,Vt),I(n,it),ve()}to(["pointermove","pointerup","pointerdown","click"]),n1();var JT=Oo('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" height="20" width="20" data-sonner-success-icon=""><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z" clip-rule="evenodd"></path></svg>');function eN(n){var e=JT();I(n,e)}var tN=Oo('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" height="20" width="20" data-sonner-error-icon=""><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"></path></svg>');function nN(n){var e=tN();I(n,e)}var rN=Oo('<svg viewBox="0 0 64 64" fill="currentColor" height="20" width="20" data-sonner-warning-icon="" xmlns="http://www.w3.org/2000/svg"><path d="M32.427,7.987c2.183,0.124 4,1.165 5.096,3.281l17.936,36.208c1.739,3.66 -0.954,8.585 -5.373,8.656l-36.119,0c-4.022,-0.064 -7.322,-4.631 -5.352,-8.696l18.271,-36.207c0.342,-0.65 0.498,-0.838 0.793,-1.179c1.186,-1.375 2.483,-2.111 4.748,-2.063Zm-0.295,3.997c-0.687,0.034 -1.316,0.419 -1.659,1.017c-6.312,11.979 -12.397,24.081 -18.301,36.267c-0.546,1.225 0.391,2.797 1.762,2.863c12.06,0.195 24.125,0.195 36.185,0c1.325,-0.064 2.321,-1.584 1.769,-2.85c-5.793,-12.184 -11.765,-24.286 -17.966,-36.267c-0.366,-0.651 -0.903,-1.042 -1.79,-1.03Z"></path><path d="M33.631,40.581l-3.348,0l-0.368,-16.449l4.1,0l-0.384,16.449Zm-3.828,5.03c0,-0.609 0.197,-1.113 0.592,-1.514c0.396,-0.4 0.935,-0.601 1.618,-0.601c0.684,0 1.223,0.201 1.618,0.601c0.395,0.401 0.593,0.905 0.593,1.514c0,0.587 -0.193,1.078 -0.577,1.473c-0.385,0.395 -0.929,0.593 -1.634,0.593c-0.705,0 -1.249,-0.198 -1.634,-0.593c-0.384,-0.395 -0.576,-0.886 -0.576,-1.473Z"></path></svg>');function iN(n){var e=rN();I(n,e)}var sN=Oo('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" height="20" width="20" data-sonner-info-icon=""><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z" clip-rule="evenodd"></path></svg>');function oN(n){var e=sN();I(n,e)}var aN=Oo('<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-sonner-close-icon=""><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>');function lN(n){var e=aN();I(n,e)}const cN=3,iw="24px",sw="16px",uN=4e3,dN=356,hN=14,ap="dark",Gu="light";function fN(n,e){const t={};return[n,e].forEach((r,i)=>{const s=i===1,o=s?"--mobile-offset":"--offset",a=s?sw:iw;function l(c){["top","right","bottom","left"].forEach(u=>{t[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{const u=r[c];u===void 0?t[`${o}-${c}`]=a:t[`${o}-${c}`]=typeof u=="number"?`${u}px`:u}):l(a)}),t}var pN=de("<ol></ol>"),gN=de('<section aria-live="polite" aria-relevant="additions text" aria-atomic="false" class="svelte-tppj9g"><!></section>');function mN(n,e){be(e,!0);function t(fe){return fe!=="system"?fe:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ap:Gu}let r=F(e,"invert",3,!1),i=F(e,"position",3,"bottom-right"),s=F(e,"hotkey",19,()=>["altKey","KeyT"]),o=F(e,"expand",3,!1),a=F(e,"closeButton",3,!1),l=F(e,"offset",3,iw),c=F(e,"mobileOffset",3,sw),u=F(e,"theme",3,"light"),d=F(e,"richColors",3,!1),h=F(e,"duration",3,uN),f=F(e,"visibleToasts",3,cN),g=F(e,"toastOptions",19,()=>({})),m=F(e,"dir",7,"auto"),y=F(e,"gap",3,hN),v=F(e,"containerAriaLabel",3,"Notifications"),A=F(e,"closeButtonAriaLabel",3,"Close toast"),E=Re(e,["$$slots","$$events","$$legacy","invert","position","hotkey","expand","closeButton","offset","mobileOffset","theme","richColors","duration","visibleToasts","toastOptions","dir","gap","loadingIcon","successIcon","errorIcon","warningIcon","closeIcon","infoIcon","containerAriaLabel","class","closeButtonAriaLabel","onblur","onfocus","onmouseenter","onmousemove","onmouseleave","ondragend","onpointerdown","onpointerup"]);function S(){if(m()!=="auto")return m();if(typeof window>"u"||typeof document>"u")return"ltr";const fe=document.documentElement.getAttribute("dir");return fe==="auto"||!fe?(_n(()=>m(window.getComputedStyle(document.documentElement).direction??"ltr")),m()):(_n(()=>m(fe)),fe)}const C=q(()=>Array.from(new Set([i(),...yn.toasts.filter(fe=>fe.position).map(fe=>fe.position)].filter(Boolean))));let x=_e(!1),N=_e(!1),D=_e(Nn(t(u()))),V=_e(void 0),O=_e(null),K=_e(!1);const B=q(()=>s().join("+").replace(/Key/g,"").replace(/Digit/g,""));Tt(()=>{yn.toasts.length<=1&&G(x,!1)}),Tt(()=>{const fe=yn.toasts.filter(Oe=>Oe.dismiss&&!Oe.delete);if(fe.length>0){const Oe=yn.toasts.map(Le=>fe.find($e=>$e.id===Le.id)?{...Le,delete:!0}:Le);yn.toasts=Oe}}),Tt(()=>()=>{w(V)&&w(O)&&(w(O).focus({preventScroll:!0}),G(O,null),G(K,!1))}),ji(()=>(yn.reset(),vn(document,"keydown",Oe=>{s().every(Pe=>Oe[Pe]||Oe.code===Pe)&&(G(x,!0),w(V)?.focus()),Oe.code==="Escape"&&(document.activeElement===w(V)||w(V)?.contains(document.activeElement))&&G(x,!1)}))),Tt(()=>{if(u()!=="system"&&G(D,u()),typeof window<"u"){u()==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G(D,ap):G(D,Gu));const fe=window.matchMedia("(prefers-color-scheme: dark)"),Oe=({matches:Le})=>{G(D,Le?ap:Gu,!0)};"addEventListener"in fe?fe.addEventListener("change",Oe):fe.addListener(Oe)}});const U=fe=>{e.onblur?.(fe),w(K)&&!fe.currentTarget.contains(fe.relatedTarget)&&(G(K,!1),w(O)&&(w(O).focus({preventScroll:!0}),G(O,null)))},L=fe=>{e.onfocus?.(fe),!(fe.target instanceof HTMLElement&&fe.target.dataset.dismissable==="false")&&(w(K)||(G(K,!0),G(O,fe.relatedTarget,!0)))},W=fe=>{e.onpointerdown?.(fe),!(fe.target instanceof HTMLElement&&fe.target.dataset.dismissable==="false")&&G(N,!0)},H=fe=>{e.onmouseenter?.(fe),G(x,!0)},Q=fe=>{e.onmouseleave?.(fe),w(N)||G(x,!1)},X=fe=>{e.onmousemove?.(fe),G(x,!0)},le=fe=>{e.ondragend?.(fe),G(x,!1)},R=fe=>{e.onpointerup?.(fe),G(N,!1)};NT.set(new OT);var Ae=gN();Ct(Ae,"tabindex",-1);var ke=he(Ae);{var M=fe=>{var Oe=te(),Le=j(Oe);es(Le,18,()=>w(C),Pe=>Pe,(Pe,$e,Fe,nn)=>{var wt=pN();const ut=q(()=>{const[rn,it]=$e.split("-");return{y:rn,x:it}}),Vt=q(()=>fN(l(),c()));St(wt,(rn,it)=>({tabindex:-1,dir:rn,class:e.class,"data-sonner-toaster":!0,"data-sonner-theme":w(D),"data-y-position":w(ut).y,"data-x-position":w(ut).x,style:e.style,onblur:U,onfocus:L,onmouseenter:H,onmousemove:X,onmouseleave:Q,ondragend:le,onpointerdown:W,onpointerup:R,...E,[wa]:it}),[S,()=>({"--front-toast-height":`${yn.heights[0]?.height}px`,"--width":`${dN}px`,"--gap":`${y()}px`,"--offset-top":w(Vt)["--offset-top"],"--offset-right":w(Vt)["--offset-right"],"--offset-bottom":w(Vt)["--offset-bottom"],"--offset-left":w(Vt)["--offset-left"],"--mobile-offset-top":w(Vt)["--mobile-offset-top"],"--mobile-offset-right":w(Vt)["--mobile-offset-right"],"--mobile-offset-bottom":w(Vt)["--mobile-offset-bottom"],"--mobile-offset-left":w(Vt)["--mobile-offset-left"]})],void 0,"svelte-tppj9g"),es(wt,23,()=>yn.toasts.filter(rn=>!rn.position&&w(Fe)===0||rn.position===$e),rn=>rn.id,(rn,it,Ut,ar)=>{{const Un=pn=>{var hn=te(),Hn=j(hn);{var kn=tt=>{var dt=te(),sn=j(dt);Se(sn,()=>e.successIcon??Te),I(tt,dt)},Ie=tt=>{var dt=te(),sn=j(dt);{var De=bt=>{eN(bt)};xe(sn,bt=>{e.successIcon!==null&&bt(De)},!0)}I(tt,dt)};xe(Hn,tt=>{e.successIcon?tt(kn):tt(Ie,!1)})}I(pn,hn)},lr=pn=>{var hn=te(),Hn=j(hn);{var kn=tt=>{var dt=te(),sn=j(dt);Se(sn,()=>e.errorIcon??Te),I(tt,dt)},Ie=tt=>{var dt=te(),sn=j(dt);{var De=bt=>{nN(bt)};xe(sn,bt=>{e.errorIcon!==null&&bt(De)},!0)}I(tt,dt)};xe(Hn,tt=>{e.errorIcon?tt(kn):tt(Ie,!1)})}I(pn,hn)},Mn=pn=>{var hn=te(),Hn=j(hn);{var kn=tt=>{var dt=te(),sn=j(dt);Se(sn,()=>e.warningIcon??Te),I(tt,dt)},Ie=tt=>{var dt=te(),sn=j(dt);{var De=bt=>{iN(bt)};xe(sn,bt=>{e.warningIcon!==null&&bt(De)},!0)}I(tt,dt)};xe(Hn,tt=>{e.warningIcon?tt(kn):tt(Ie,!1)})}I(pn,hn)},An=pn=>{var hn=te(),Hn=j(hn);{var kn=tt=>{var dt=te(),sn=j(dt);Se(sn,()=>e.infoIcon??Te),I(tt,dt)},Ie=tt=>{var dt=te(),sn=j(dt);{var De=bt=>{oN(bt)};xe(sn,bt=>{e.infoIcon!==null&&bt(De)},!0)}I(tt,dt)};xe(Hn,tt=>{e.infoIcon?tt(kn):tt(Ie,!1)})}I(pn,hn)},pt=pn=>{var hn=te(),Hn=j(hn);{var kn=tt=>{var dt=te(),sn=j(dt);Se(sn,()=>e.closeIcon??Te),I(tt,dt)},Ie=tt=>{var dt=te(),sn=j(dt);{var De=bt=>{lN(bt)};xe(sn,bt=>{e.closeIcon!==null&&bt(De)},!0)}I(tt,dt)};xe(Hn,tt=>{e.closeIcon?tt(kn):tt(Ie,!1)})}I(pn,hn)};let At=q(()=>g()?.duration??h()),Nt=q(()=>g()?.class??""),Pt=q(()=>g()?.descriptionClass||""),ce=q(()=>g()?.style??""),Ee=q(()=>g().classes||{}),Je=q(()=>g().unstyled??!1),_t=q(()=>g()?.cancelButtonStyle??""),Mt=q(()=>g()?.actionButtonStyle??""),Sn=q(()=>g()?.closeButtonAriaLabel??A());QT(rn,{get index(){return w(Ut)},get toast(){return w(it)},get defaultRichColors(){return d()},get duration(){return w(At)},get class(){return w(Nt)},get descriptionClass(){return w(Pt)},get invert(){return r()},get visibleToasts(){return f()},get closeButton(){return a()},get interacting(){return w(N)},get position(){return $e},get style(){return w(ce)},get classes(){return w(Ee)},get unstyled(){return w(Je)},get cancelButtonStyle(){return w(_t)},get actionButtonStyle(){return w(Mt)},get closeButtonAriaLabel(){return w(Sn)},get expandByDefault(){return o()},get expanded(){return w(x)},get loadingIcon(){return e.loadingIcon},successIcon:Un,errorIcon:lr,warningIcon:Mn,infoIcon:An,closeIcon:pt,$$slots:{successIcon:!0,errorIcon:!0,warningIcon:!0,infoIcon:!0,closeIcon:!0}})}}),ue(wt),fn(wt,rn=>G(V,rn),()=>w(V)),ft(()=>wt.dir=wt.dir),I(Pe,wt)}),I(fe,Oe)};xe(ke,fe=>{yn.toasts.length>0&&fe(M)})}ue(Ae),ft(()=>Ct(Ae,"aria-label",`${v()??""} ${w(B)??""}`)),I(n,Ae),ve()}const bN=768;class vN extends Gy{constructor(e=bN){super(`max-width: ${e-1}px`)}}const yN="sidebar:state",wN=3600*24*7,_N="18rem",xN="18rem",EN="3rem",AN="b";class SN{props;#e=q(()=>this.props.open());get open(){return w(this.#e)}set open(e){G(this.#e,e)}#t=_e(!1);get openMobile(){return w(this.#t)}set openMobile(e){G(this.#t,e,!0)}setOpen;#n;#r=q(()=>this.open?"expanded":"collapsed");get state(){return w(this.#r)}set state(e){G(this.#r,e)}constructor(e){this.setOpen=e.setOpen,this.#n=new vN,this.props=e}get isMobile(){return this.#n.current}handleShortcutKeydown=e=>{e.key===AN&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),this.toggle())};setOpenMobile=e=>{this.openMobile=e};toggle=()=>this.#n.current?this.openMobile=!this.openMobile:this.setOpen(!this.open)}const ow="scn-sidebar";function kN(n){return tu(Symbol.for(ow),new SN(n))}function aw(){return fa(Symbol.for(ow))}const lp="-",CN=n=>{const e=NN(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{const a=o.split(lp);return a[0]===""&&a.length!==1&&a.shift(),lw(a,e)||TN(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},lw=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?lw(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=n.join(lp);return e.validators.find(({validator:o})=>o(s))?.classGroupId},cw=/^\[(.+)\]$/,TN=n=>{if(cw.test(n)){const e=cw.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},NN=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const i in t)cp(t[i],r,i,e);return r},cp=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const s=i===""?e:uw(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(IN(i)){cp(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,o])=>{cp(o,uw(e,s),t,r)})})},uw=(n,e)=>{let t=n;return e.split(lp).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},IN=n=>n.isThemeGetter,PN=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(s,o)=>{t.set(s,o),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){t.has(s)?t.set(s,o):i(s,o)}}},up="!",dp=":",RN=dp.length,ON=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=i=>{const s=[];let o=0,a=0,l=0,c;for(let g=0;g<i.length;g++){let m=i[g];if(o===0&&a===0){if(m===dp){s.push(i.slice(l,g)),l=g+RN;continue}if(m==="/"){c=g;continue}}m==="["?o++:m==="]"?o--:m==="("?a++:m===")"&&a--}const u=s.length===0?i:i.substring(l),d=MN(u),h=d!==u,f=c&&c>l?c-l:void 0;return{modifiers:s,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:f}};if(e){const i=e+dp,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(t){const i=r;r=s=>t({className:s,parseClassName:i})}return r},MN=n=>n.endsWith(up)?n.substring(0,n.length-1):n.startsWith(up)?n.substring(1):n,DN=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},LN=n=>({cache:PN(n.cacheSize),parseClassName:ON(n),sortModifiers:DN(n),...CN(n)}),FN=/\s+/,BN=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],a=n.trim().split(FN);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{isExternal:d,modifiers:h,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:m}=t(u);if(d){l=u+(l.length>0?" "+l:l);continue}let y=!!m,v=r(y?g.substring(0,m):g);if(!v){if(!y){l=u+(l.length>0?" "+l:l);continue}if(v=r(g),!v){l=u+(l.length>0?" "+l:l);continue}y=!1}const A=s(h).join(":"),E=f?A+up:A,S=E+v;if(o.includes(S))continue;o.push(S);const C=i(v,y);for(let x=0;x<C.length;++x){const N=C[x];o.push(E+N)}l=u+(l.length>0?" "+l:l)}return l};function zN(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=dw(e))&&(r&&(r+=" "),r+=t);return r}const dw=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=dw(n[r]))&&(t&&(t+=" "),t+=e);return t};function UN(n,...e){let t,r,i,s=o;function o(l){const c=e.reduce((u,d)=>d(u),n());return t=LN(c),r=t.cache.get,i=t.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=BN(l,t);return i(l,u),u}return function(){return s(zN.apply(null,arguments))}}const ur=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},hw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,fw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,HN=/^\d+\/\d+$/,GN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,VN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,qN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ia=n=>HN.test(n),Kt=n=>!!n&&!Number.isNaN(Number(n)),io=n=>!!n&&Number.isInteger(Number(n)),hp=n=>n.endsWith("%")&&Kt(n.slice(0,-1)),Rs=n=>GN.test(n),KN=()=>!0,$N=n=>VN.test(n)&&!jN.test(n),pw=()=>!1,YN=n=>qN.test(n),XN=n=>WN.test(n),ZN=n=>!st(n)&&!ot(n),QN=n=>Pa(n,yw,pw),st=n=>hw.test(n),zo=n=>Pa(n,ww,$N),fp=n=>Pa(n,rI,Kt),gw=n=>Pa(n,bw,pw),JN=n=>Pa(n,vw,XN),Vu=n=>Pa(n,_w,YN),ot=n=>fw.test(n),Hl=n=>Ra(n,ww),eI=n=>Ra(n,iI),mw=n=>Ra(n,bw),tI=n=>Ra(n,yw),nI=n=>Ra(n,vw),ju=n=>Ra(n,_w,!0),Pa=(n,e,t)=>{const r=hw.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},Ra=(n,e,t=!1)=>{const r=fw.exec(n);return r?r[1]?e(r[1]):t:!1},bw=n=>n==="position"||n==="percentage",vw=n=>n==="image"||n==="url",yw=n=>n==="length"||n==="size"||n==="bg-size",ww=n=>n==="length",rI=n=>n==="number",iI=n=>n==="family-name",_w=n=>n==="shadow",sI=UN(()=>{const n=ur("color"),e=ur("font"),t=ur("text"),r=ur("font-weight"),i=ur("tracking"),s=ur("leading"),o=ur("breakpoint"),a=ur("container"),l=ur("spacing"),c=ur("radius"),u=ur("shadow"),d=ur("inset-shadow"),h=ur("text-shadow"),f=ur("drop-shadow"),g=ur("blur"),m=ur("perspective"),y=ur("aspect"),v=ur("ease"),A=ur("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],C=()=>[...S(),ot,st],x=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],D=()=>[ot,st,l],V=()=>[Ia,"full","auto",...D()],O=()=>[io,"none","subgrid",ot,st],K=()=>["auto",{span:["full",io,ot,st]},io,ot,st],B=()=>[io,"auto",ot,st],U=()=>["auto","min","max","fr",ot,st],L=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],W=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...D()],Q=()=>[Ia,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],X=()=>[n,ot,st],le=()=>[...S(),mw,gw,{position:[ot,st]}],R=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Ae=()=>["auto","cover","contain",tI,QN,{size:[ot,st]}],ke=()=>[hp,Hl,zo],M=()=>["","none","full",c,ot,st],fe=()=>["",Kt,Hl,zo],Oe=()=>["solid","dashed","dotted","double"],Le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Pe=()=>[Kt,hp,mw,gw],$e=()=>["","none",g,ot,st],Fe=()=>["none",Kt,ot,st],nn=()=>["none",Kt,ot,st],wt=()=>[Kt,ot,st],ut=()=>[Ia,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Rs],breakpoint:[Rs],color:[KN],container:[Rs],"drop-shadow":[Rs],ease:["in","out","in-out"],font:[ZN],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Rs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Rs],shadow:[Rs],spacing:["px",Kt],text:[Rs],"text-shadow":[Rs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ia,st,ot,y]}],container:["container"],columns:[{columns:[Kt,st,ot,a]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:C()}],overflow:[{overflow:x()}],"overflow-x":[{"overflow-x":x()}],"overflow-y":[{"overflow-y":x()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[io,"auto",ot,st]}],basis:[{basis:[Ia,"full","auto",a,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Kt,Ia,"auto","initial","none",st]}],grow:[{grow:["",Kt,ot,st]}],shrink:[{shrink:["",Kt,ot,st]}],order:[{order:[io,"first","last","none",ot,st]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:K()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:K()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...L(),"normal"]}],"justify-items":[{"justify-items":[...W(),"normal"]}],"justify-self":[{"justify-self":["auto",...W()]}],"align-content":[{content:["normal",...L()]}],"align-items":[{items:[...W(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...W(),{baseline:["","last"]}]}],"place-content":[{"place-content":L()}],"place-items":[{"place-items":[...W(),"baseline"]}],"place-self":[{"place-self":["auto",...W()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:Q()}],w:[{w:[a,"screen",...Q()]}],"min-w":[{"min-w":[a,"screen","none",...Q()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...Q()]}],h:[{h:["screen","lh",...Q()]}],"min-h":[{"min-h":["screen","lh","none",...Q()]}],"max-h":[{"max-h":["screen","lh",...Q()]}],"font-size":[{text:["base",t,Hl,zo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ot,fp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",hp,st]}],"font-family":[{font:[eI,st,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ot,st]}],"line-clamp":[{"line-clamp":[Kt,"none",ot,fp]}],leading:[{leading:[s,...D()]}],"list-image":[{"list-image":["none",ot,st]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ot,st]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:X()}],"text-color":[{text:X()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Oe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Kt,"from-font","auto",ot,zo]}],"text-decoration-color":[{decoration:X()}],"underline-offset":[{"underline-offset":[Kt,"auto",ot,st]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ot,st]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ot,st]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:le()}],"bg-repeat":[{bg:R()}],"bg-size":[{bg:Ae()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},io,ot,st],radial:["",ot,st],conic:[io,ot,st]},nI,JN]}],"bg-color":[{bg:X()}],"gradient-from-pos":[{from:ke()}],"gradient-via-pos":[{via:ke()}],"gradient-to-pos":[{to:ke()}],"gradient-from":[{from:X()}],"gradient-via":[{via:X()}],"gradient-to":[{to:X()}],rounded:[{rounded:M()}],"rounded-s":[{"rounded-s":M()}],"rounded-e":[{"rounded-e":M()}],"rounded-t":[{"rounded-t":M()}],"rounded-r":[{"rounded-r":M()}],"rounded-b":[{"rounded-b":M()}],"rounded-l":[{"rounded-l":M()}],"rounded-ss":[{"rounded-ss":M()}],"rounded-se":[{"rounded-se":M()}],"rounded-ee":[{"rounded-ee":M()}],"rounded-es":[{"rounded-es":M()}],"rounded-tl":[{"rounded-tl":M()}],"rounded-tr":[{"rounded-tr":M()}],"rounded-br":[{"rounded-br":M()}],"rounded-bl":[{"rounded-bl":M()}],"border-w":[{border:fe()}],"border-w-x":[{"border-x":fe()}],"border-w-y":[{"border-y":fe()}],"border-w-s":[{"border-s":fe()}],"border-w-e":[{"border-e":fe()}],"border-w-t":[{"border-t":fe()}],"border-w-r":[{"border-r":fe()}],"border-w-b":[{"border-b":fe()}],"border-w-l":[{"border-l":fe()}],"divide-x":[{"divide-x":fe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":fe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Oe(),"hidden","none"]}],"divide-style":[{divide:[...Oe(),"hidden","none"]}],"border-color":[{border:X()}],"border-color-x":[{"border-x":X()}],"border-color-y":[{"border-y":X()}],"border-color-s":[{"border-s":X()}],"border-color-e":[{"border-e":X()}],"border-color-t":[{"border-t":X()}],"border-color-r":[{"border-r":X()}],"border-color-b":[{"border-b":X()}],"border-color-l":[{"border-l":X()}],"divide-color":[{divide:X()}],"outline-style":[{outline:[...Oe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Kt,ot,st]}],"outline-w":[{outline:["",Kt,Hl,zo]}],"outline-color":[{outline:X()}],shadow:[{shadow:["","none",u,ju,Vu]}],"shadow-color":[{shadow:X()}],"inset-shadow":[{"inset-shadow":["none",d,ju,Vu]}],"inset-shadow-color":[{"inset-shadow":X()}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:X()}],"ring-offset-w":[{"ring-offset":[Kt,zo]}],"ring-offset-color":[{"ring-offset":X()}],"inset-ring-w":[{"inset-ring":fe()}],"inset-ring-color":[{"inset-ring":X()}],"text-shadow":[{"text-shadow":["none",h,ju,Vu]}],"text-shadow-color":[{"text-shadow":X()}],opacity:[{opacity:[Kt,ot,st]}],"mix-blend":[{"mix-blend":[...Le(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Le()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Kt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Pe()}],"mask-image-linear-to-pos":[{"mask-linear-to":Pe()}],"mask-image-linear-from-color":[{"mask-linear-from":X()}],"mask-image-linear-to-color":[{"mask-linear-to":X()}],"mask-image-t-from-pos":[{"mask-t-from":Pe()}],"mask-image-t-to-pos":[{"mask-t-to":Pe()}],"mask-image-t-from-color":[{"mask-t-from":X()}],"mask-image-t-to-color":[{"mask-t-to":X()}],"mask-image-r-from-pos":[{"mask-r-from":Pe()}],"mask-image-r-to-pos":[{"mask-r-to":Pe()}],"mask-image-r-from-color":[{"mask-r-from":X()}],"mask-image-r-to-color":[{"mask-r-to":X()}],"mask-image-b-from-pos":[{"mask-b-from":Pe()}],"mask-image-b-to-pos":[{"mask-b-to":Pe()}],"mask-image-b-from-color":[{"mask-b-from":X()}],"mask-image-b-to-color":[{"mask-b-to":X()}],"mask-image-l-from-pos":[{"mask-l-from":Pe()}],"mask-image-l-to-pos":[{"mask-l-to":Pe()}],"mask-image-l-from-color":[{"mask-l-from":X()}],"mask-image-l-to-color":[{"mask-l-to":X()}],"mask-image-x-from-pos":[{"mask-x-from":Pe()}],"mask-image-x-to-pos":[{"mask-x-to":Pe()}],"mask-image-x-from-color":[{"mask-x-from":X()}],"mask-image-x-to-color":[{"mask-x-to":X()}],"mask-image-y-from-pos":[{"mask-y-from":Pe()}],"mask-image-y-to-pos":[{"mask-y-to":Pe()}],"mask-image-y-from-color":[{"mask-y-from":X()}],"mask-image-y-to-color":[{"mask-y-to":X()}],"mask-image-radial":[{"mask-radial":[ot,st]}],"mask-image-radial-from-pos":[{"mask-radial-from":Pe()}],"mask-image-radial-to-pos":[{"mask-radial-to":Pe()}],"mask-image-radial-from-color":[{"mask-radial-from":X()}],"mask-image-radial-to-color":[{"mask-radial-to":X()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":S()}],"mask-image-conic-pos":[{"mask-conic":[Kt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Pe()}],"mask-image-conic-to-pos":[{"mask-conic-to":Pe()}],"mask-image-conic-from-color":[{"mask-conic-from":X()}],"mask-image-conic-to-color":[{"mask-conic-to":X()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:le()}],"mask-repeat":[{mask:R()}],"mask-size":[{mask:Ae()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ot,st]}],filter:[{filter:["","none",ot,st]}],blur:[{blur:$e()}],brightness:[{brightness:[Kt,ot,st]}],contrast:[{contrast:[Kt,ot,st]}],"drop-shadow":[{"drop-shadow":["","none",f,ju,Vu]}],"drop-shadow-color":[{"drop-shadow":X()}],grayscale:[{grayscale:["",Kt,ot,st]}],"hue-rotate":[{"hue-rotate":[Kt,ot,st]}],invert:[{invert:["",Kt,ot,st]}],saturate:[{saturate:[Kt,ot,st]}],sepia:[{sepia:["",Kt,ot,st]}],"backdrop-filter":[{"backdrop-filter":["","none",ot,st]}],"backdrop-blur":[{"backdrop-blur":$e()}],"backdrop-brightness":[{"backdrop-brightness":[Kt,ot,st]}],"backdrop-contrast":[{"backdrop-contrast":[Kt,ot,st]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Kt,ot,st]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Kt,ot,st]}],"backdrop-invert":[{"backdrop-invert":["",Kt,ot,st]}],"backdrop-opacity":[{"backdrop-opacity":[Kt,ot,st]}],"backdrop-saturate":[{"backdrop-saturate":[Kt,ot,st]}],"backdrop-sepia":[{"backdrop-sepia":["",Kt,ot,st]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ot,st]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Kt,"initial",ot,st]}],ease:[{ease:["linear","initial",v,ot,st]}],delay:[{delay:[Kt,ot,st]}],animate:[{animate:["none",A,ot,st]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,ot,st]}],"perspective-origin":[{"perspective-origin":C()}],rotate:[{rotate:Fe()}],"rotate-x":[{"rotate-x":Fe()}],"rotate-y":[{"rotate-y":Fe()}],"rotate-z":[{"rotate-z":Fe()}],scale:[{scale:nn()}],"scale-x":[{"scale-x":nn()}],"scale-y":[{"scale-y":nn()}],"scale-z":[{"scale-z":nn()}],"scale-3d":["scale-3d"],skew:[{skew:wt()}],"skew-x":[{"skew-x":wt()}],"skew-y":[{"skew-y":wt()}],transform:[{transform:[ot,st,"","none","gpu","cpu"]}],"transform-origin":[{origin:C()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ut()}],"translate-x":[{"translate-x":ut()}],"translate-y":[{"translate-y":ut()}],"translate-z":[{"translate-z":ut()}],"translate-none":["translate-none"],accent:[{accent:X()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:X()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ot,st]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ot,st]}],fill:[{fill:["none",...X()]}],"stroke-w":[{stroke:[Kt,Hl,zo,fp]}],stroke:[{stroke:["none",...X()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function zt(...n){return sI(Sl(n))}var oI=de("<div><!></div>");function aI(n,e){be(e,!0);let t=F(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=oI();St(i,o=>({"data-slot":"sidebar-footer","data-sidebar":"footer",class:o,...r}),[()=>zt("flex flex-col gap-2 p-2",e.class)]);var s=he(i);Se(s,()=>e.children??Te),ue(i),fn(i,o=>t(o),()=>t()),I(n,i),ve()}var lI=de("<div><!></div>");function cI(n,e){be(e,!0);let t=F(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=lI();St(i,o=>({"data-slot":"sidebar-group-content","data-sidebar":"group-content",class:o,...r}),[()=>zt("w-full text-sm",e.class)]);var s=he(i);Se(s,()=>e.children??Te),ue(i),fn(i,o=>t(o),()=>t()),I(n,i),ve()}var uI=de("<div><!></div>");function dI(n,e){be(e,!0);let t=F(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","ref","children","child","class"]);const i=q(()=>({class:zt("text-sidebar-foreground/70 ring-sidebar-ring outline-hidden flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e.class),"data-slot":"sidebar-group-label","data-sidebar":"group-label",...r}));var s=te(),o=j(s);{var a=c=>{var u=te(),d=j(u);Se(d,()=>e.child,()=>({props:w(i)})),I(c,u)},l=c=>{var u=uI();St(u,()=>({...w(i)}));var d=he(u);Se(d,()=>e.children??Te),ue(u),fn(u,h=>t(h),()=>t()),I(c,u)};xe(o,c=>{e.child?c(a):c(l,!1)})}I(n,s),ve()}var hI=de("<div><!></div>");function fI(n,e){be(e,!0);let t=F(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=hI();St(i,o=>({"data-slot":"sidebar-group","data-sidebar":"group",class:o,...r}),[()=>zt("relative flex w-full min-w-0 flex-col p-2",e.class)]);var s=he(i);Se(s,()=>e.children??Te),ue(i),fn(i,o=>t(o),()=>t()),I(n,i),ve()}var pI=de("<div><!></div>");function gI(n,e){be(e,!0);let t=F(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=pI();St(i,o=>({"data-slot":"sidebar-header","data-sidebar":"header",class:o,...r}),[()=>zt("flex flex-col gap-2 p-2",e.class)]);var s=he(i);Se(s,()=>e.children??Te),ue(i),fn(i,o=>t(o),()=>t()),I(n,i),ve()}var mI=de("<input/>"),bI=de("<input/>");function xw(n,e){be(e,!0);let t=F(e,"ref",15,null),r=F(e,"value",15),i=F(e,"files",15),s=Re(e,["$$slots","$$events","$$legacy","ref","value","type","files","class"]);var o=te(),a=j(o);{var l=u=>{var d=mI();wu(d),St(d,h=>({"data-slot":"input",class:h,type:"file",...s}),[()=>zt("selection:bg-primary dark:bg-input/30 selection:text-primary-foreground border-input ring-offset-background placeholder:text-muted-foreground shadow-xs flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 pt-1.5 text-sm font-medium outline-none transition-[color,box-shadow] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e.class)]),fn(d,h=>t(h),()=>t()),J1(d,i),_a(d,r),I(u,d)},c=u=>{var d=bI();wu(d),St(d,h=>({"data-slot":"input",class:h,type:e.type,...s}),[()=>zt("border-input bg-background selection:bg-primary dark:bg-input/30 selection:text-primary-foreground ring-offset-background placeholder:text-muted-foreground shadow-xs flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base outline-none transition-[color,box-shadow] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e.class)]),fn(d,h=>t(h),()=>t()),_a(d,r),I(u,d)};xe(a,u=>{e.type==="file"?u(l):u(c,!1)})}I(n,o),ve()}var vI=de("<main><!></main>");function yI(n,e){be(e,!0);let t=F(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=vI();St(i,o=>({"data-slot":"sidebar-inset",class:o,...r}),[()=>zt("relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm",e.class)]);var s=he(i);Se(s,()=>e.children??Te),ue(i),fn(i,o=>t(o),()=>t()),I(n,i),ve()}var Ew=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,ni=n=>!n||typeof n!="object"||Object.keys(n).length===0,wI=(n,e)=>JSON.stringify(n)===JSON.stringify(e);function Aw(n,e){n.forEach(function(t){Array.isArray(t)?Aw(t,e):e.push(t)})}function Sw(n){let e=[];return Aw(n,e),e}var kw=(...n)=>Sw(n).filter(Boolean),Cw=(n,e)=>{let t={},r=Object.keys(n),i=Object.keys(e);for(let s of r)if(i.includes(s)){let o=n[s],a=e[s];Array.isArray(o)||Array.isArray(a)?t[s]=kw(a,o):typeof o=="object"&&typeof a=="object"?t[s]=Cw(o,a):t[s]=a+" "+o}else t[s]=n[s];for(let s of i)r.includes(s)||(t[s]=e[s]);return t},Tw=n=>!n||typeof n!="string"?n:n.replace(/\s+/g," ").trim();const pp="-",_I=n=>{const e=EI(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{const a=o.split(pp);return a[0]===""&&a.length!==1&&a.shift(),Nw(a,e)||xI(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Nw=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?Nw(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=n.join(pp);return e.validators.find(({validator:o})=>o(s))?.classGroupId},Iw=/^\[(.+)\]$/,xI=n=>{if(Iw.test(n)){const e=Iw.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},EI=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const i in t)gp(t[i],r,i,e);return r},gp=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Pw(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(AI(i)){gp(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,o])=>{gp(o,Pw(e,s),t,r)})})},Pw=(n,e)=>{let t=n;return e.split(pp).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},AI=n=>n.isThemeGetter,SI=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(s,o)=>{t.set(s,o),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){t.has(s)?t.set(s,o):i(s,o)}}},mp="!",bp=":",kI=bp.length,CI=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=i=>{const s=[];let o=0,a=0,l=0,c;for(let g=0;g<i.length;g++){let m=i[g];if(o===0&&a===0){if(m===bp){s.push(i.slice(l,g)),l=g+kI;continue}if(m==="/"){c=g;continue}}m==="["?o++:m==="]"?o--:m==="("?a++:m===")"&&a--}const u=s.length===0?i:i.substring(l),d=TI(u),h=d!==u,f=c&&c>l?c-l:void 0;return{modifiers:s,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:f}};if(e){const i=e+bp,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(t){const i=r;r=s=>t({className:s,parseClassName:i})}return r},TI=n=>n.endsWith(mp)?n.substring(0,n.length-1):n.startsWith(mp)?n.substring(1):n,NI=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},II=n=>({cache:SI(n.cacheSize),parseClassName:CI(n),sortModifiers:NI(n),..._I(n)}),PI=/\s+/,RI=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],a=n.trim().split(PI);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{isExternal:d,modifiers:h,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:m}=t(u);if(d){l=u+(l.length>0?" "+l:l);continue}let y=!!m,v=r(y?g.substring(0,m):g);if(!v){if(!y){l=u+(l.length>0?" "+l:l);continue}if(v=r(g),!v){l=u+(l.length>0?" "+l:l);continue}y=!1}const A=s(h).join(":"),E=f?A+mp:A,S=E+v;if(o.includes(S))continue;o.push(S);const C=i(v,y);for(let x=0;x<C.length;++x){const N=C[x];o.push(E+N)}l=u+(l.length>0?" "+l:l)}return l};function OI(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Rw(e))&&(r&&(r+=" "),r+=t);return r}const Rw=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=Rw(n[r]))&&(t&&(t+=" "),t+=e);return t};function vp(n,...e){let t,r,i,s=o;function o(l){const c=e.reduce((u,d)=>d(u),n());return t=II(c),r=t.cache.get,i=t.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=RI(l,t);return i(l,u),u}return function(){return s(OI.apply(null,arguments))}}const gr=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},Ow=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Mw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,MI=/^\d+\/\d+$/,DI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,LI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,BI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Oa=n=>MI.test(n),an=n=>!!n&&!Number.isNaN(Number(n)),Uo=n=>!!n&&Number.isInteger(Number(n)),Dw=n=>n.endsWith("%")&&an(n.slice(0,-1)),so=n=>DI.test(n),UI=()=>!0,HI=n=>LI.test(n)&&!FI.test(n),yp=()=>!1,GI=n=>BI.test(n),VI=n=>zI.test(n),jI=n=>!lt(n)&&!ct(n),qI=n=>Ma(n,Bw,yp),lt=n=>Ow.test(n),Ho=n=>Ma(n,zw,HI),wp=n=>Ma(n,nP,an),WI=n=>Ma(n,Lw,yp),KI=n=>Ma(n,Fw,VI),$I=n=>Ma(n,yp,GI),ct=n=>Mw.test(n),qu=n=>Da(n,zw),YI=n=>Da(n,rP),XI=n=>Da(n,Lw),ZI=n=>Da(n,Bw),QI=n=>Da(n,Fw),JI=n=>Da(n,iP,!0),Ma=(n,e,t)=>{const r=Ow.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},Da=(n,e,t=!1)=>{const r=Mw.exec(n);return r?r[1]?e(r[1]):t:!1},Lw=n=>n==="position",eP=new Set(["image","url"]),Fw=n=>eP.has(n),tP=new Set(["length","size","percentage"]),Bw=n=>tP.has(n),zw=n=>n==="length",nP=n=>n==="number",rP=n=>n==="family-name",iP=n=>n==="shadow",_p=()=>{const n=gr("color"),e=gr("font"),t=gr("text"),r=gr("font-weight"),i=gr("tracking"),s=gr("leading"),o=gr("breakpoint"),a=gr("container"),l=gr("spacing"),c=gr("radius"),u=gr("shadow"),d=gr("inset-shadow"),h=gr("drop-shadow"),f=gr("blur"),g=gr("perspective"),m=gr("aspect"),y=gr("ease"),v=gr("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],S=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],x=()=>[ct,lt,l],N=()=>[Oa,"full","auto",...x()],D=()=>[Uo,"none","subgrid",ct,lt],V=()=>["auto",{span:["full",Uo,ct,lt]},ct,lt],O=()=>[Uo,"auto",ct,lt],K=()=>["auto","min","max","fr",ct,lt],B=()=>["start","end","center","between","around","evenly","stretch","baseline"],U=()=>["start","end","center","stretch"],L=()=>["auto",...x()],W=()=>[Oa,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...x()],H=()=>[n,ct,lt],Q=()=>[Dw,Ho],X=()=>["","none","full",c,ct,lt],le=()=>["",an,qu,Ho],R=()=>["solid","dashed","dotted","double"],Ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ke=()=>["","none",f,ct,lt],M=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ct,lt],fe=()=>["none",an,ct,lt],Oe=()=>["none",an,ct,lt],Le=()=>[an,ct,lt],Pe=()=>[Oa,"full",...x()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[so],breakpoint:[so],color:[UI],container:[so],"drop-shadow":[so],ease:["in","out","in-out"],font:[jI],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[so],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[so],shadow:[so],spacing:["px",an],text:[so],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Oa,lt,ct,m]}],container:["container"],columns:[{columns:[an,lt,ct,a]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...E(),lt,ct]}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[Uo,"auto",ct,lt]}],basis:[{basis:[Oa,"full","auto",a,...x()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[an,Oa,"auto","initial","none",lt]}],grow:[{grow:["",an,ct,lt]}],shrink:[{shrink:["",an,ct,lt]}],order:[{order:[Uo,"first","last","none",ct,lt]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":K()}],"auto-rows":[{"auto-rows":K()}],gap:[{gap:x()}],"gap-x":[{"gap-x":x()}],"gap-y":[{"gap-y":x()}],"justify-content":[{justify:[...B(),"normal"]}],"justify-items":[{"justify-items":[...U(),"normal"]}],"justify-self":[{"justify-self":["auto",...U()]}],"align-content":[{content:["normal",...B()]}],"align-items":[{items:[...U(),"baseline"]}],"align-self":[{self:["auto",...U(),"baseline"]}],"place-content":[{"place-content":B()}],"place-items":[{"place-items":[...U(),"baseline"]}],"place-self":[{"place-self":["auto",...U()]}],p:[{p:x()}],px:[{px:x()}],py:[{py:x()}],ps:[{ps:x()}],pe:[{pe:x()}],pt:[{pt:x()}],pr:[{pr:x()}],pb:[{pb:x()}],pl:[{pl:x()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":x()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":x()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[a,"screen",...W()]}],"min-w":[{"min-w":[a,"screen","none",...W()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...W()]}],h:[{h:["screen",...W()]}],"min-h":[{"min-h":["screen","none",...W()]}],"max-h":[{"max-h":["screen",...W()]}],"font-size":[{text:["base",t,qu,Ho]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ct,wp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Dw,lt]}],"font-family":[{font:[YI,lt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ct,lt]}],"line-clamp":[{"line-clamp":[an,"none",ct,wp]}],leading:[{leading:[s,...x()]}],"list-image":[{"list-image":["none",ct,lt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ct,lt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:[an,"from-font","auto",ct,Ho]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[an,"auto",ct,lt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:x()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ct,lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ct,lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...E(),XI,WI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",ZI,qI]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Uo,ct,lt],radial:["",ct,lt],conic:[Uo,ct,lt]},QI,KI]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:Q()}],"gradient-via-pos":[{via:Q()}],"gradient-to-pos":[{to:Q()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:le()}],"border-w-x":[{"border-x":le()}],"border-w-y":[{"border-y":le()}],"border-w-s":[{"border-s":le()}],"border-w-e":[{"border-e":le()}],"border-w-t":[{"border-t":le()}],"border-w-r":[{"border-r":le()}],"border-w-b":[{"border-b":le()}],"border-w-l":[{"border-l":le()}],"divide-x":[{"divide-x":le()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":le()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...R(),"hidden","none"]}],"divide-style":[{divide:[...R(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...R(),"none","hidden"]}],"outline-offset":[{"outline-offset":[an,ct,lt]}],"outline-w":[{outline:["",an,qu,Ho]}],"outline-color":[{outline:[n]}],shadow:[{shadow:["","none",u,JI,$I]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",ct,lt,d]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[an,Ho]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":le()}],"inset-ring-color":[{"inset-ring":H()}],opacity:[{opacity:[an,ct,lt]}],"mix-blend":[{"mix-blend":[...Ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ae()}],filter:[{filter:["","none",ct,lt]}],blur:[{blur:ke()}],brightness:[{brightness:[an,ct,lt]}],contrast:[{contrast:[an,ct,lt]}],"drop-shadow":[{"drop-shadow":["","none",h,ct,lt]}],grayscale:[{grayscale:["",an,ct,lt]}],"hue-rotate":[{"hue-rotate":[an,ct,lt]}],invert:[{invert:["",an,ct,lt]}],saturate:[{saturate:[an,ct,lt]}],sepia:[{sepia:["",an,ct,lt]}],"backdrop-filter":[{"backdrop-filter":["","none",ct,lt]}],"backdrop-blur":[{"backdrop-blur":ke()}],"backdrop-brightness":[{"backdrop-brightness":[an,ct,lt]}],"backdrop-contrast":[{"backdrop-contrast":[an,ct,lt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",an,ct,lt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[an,ct,lt]}],"backdrop-invert":[{"backdrop-invert":["",an,ct,lt]}],"backdrop-opacity":[{"backdrop-opacity":[an,ct,lt]}],"backdrop-saturate":[{"backdrop-saturate":[an,ct,lt]}],"backdrop-sepia":[{"backdrop-sepia":["",an,ct,lt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":x()}],"border-spacing-x":[{"border-spacing-x":x()}],"border-spacing-y":[{"border-spacing-y":x()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ct,lt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[an,"initial",ct,lt]}],ease:[{ease:["linear","initial",y,ct,lt]}],delay:[{delay:[an,ct,lt]}],animate:[{animate:["none",v,ct,lt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,ct,lt]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:fe()}],"rotate-x":[{"rotate-x":fe()}],"rotate-y":[{"rotate-y":fe()}],"rotate-z":[{"rotate-z":fe()}],scale:[{scale:Oe()}],"scale-x":[{"scale-x":Oe()}],"scale-y":[{"scale-y":Oe()}],"scale-z":[{"scale-z":Oe()}],"scale-3d":["scale-3d"],skew:[{skew:Le()}],"skew-x":[{"skew-x":Le()}],"skew-y":[{"skew-y":Le()}],transform:[{transform:[ct,lt,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Pe()}],"translate-x":[{"translate-x":Pe()}],"translate-y":[{"translate-y":Pe()}],"translate-z":[{"translate-z":Pe()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ct,lt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":x()}],"scroll-mx":[{"scroll-mx":x()}],"scroll-my":[{"scroll-my":x()}],"scroll-ms":[{"scroll-ms":x()}],"scroll-me":[{"scroll-me":x()}],"scroll-mt":[{"scroll-mt":x()}],"scroll-mr":[{"scroll-mr":x()}],"scroll-mb":[{"scroll-mb":x()}],"scroll-ml":[{"scroll-ml":x()}],"scroll-p":[{"scroll-p":x()}],"scroll-px":[{"scroll-px":x()}],"scroll-py":[{"scroll-py":x()}],"scroll-ps":[{"scroll-ps":x()}],"scroll-pe":[{"scroll-pe":x()}],"scroll-pt":[{"scroll-pt":x()}],"scroll-pr":[{"scroll-pr":x()}],"scroll-pb":[{"scroll-pb":x()}],"scroll-pl":[{"scroll-pl":x()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ct,lt]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[an,qu,Ho,wp]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},sP=(n,{cacheSize:e,prefix:t,experimentalParseClassName:r,extend:i={},override:s={}})=>(Gl(n,"cacheSize",e),Gl(n,"prefix",t),Gl(n,"experimentalParseClassName",r),Wu(n.theme,s.theme),Wu(n.classGroups,s.classGroups),Wu(n.conflictingClassGroups,s.conflictingClassGroups),Wu(n.conflictingClassGroupModifiers,s.conflictingClassGroupModifiers),Gl(n,"orderSensitiveModifiers",s.orderSensitiveModifiers),Ku(n.theme,i.theme),Ku(n.classGroups,i.classGroups),Ku(n.conflictingClassGroups,i.conflictingClassGroups),Ku(n.conflictingClassGroupModifiers,i.conflictingClassGroupModifiers),Uw(n,i,"orderSensitiveModifiers"),n),Gl=(n,e,t)=>{t!==void 0&&(n[e]=t)},Wu=(n,e)=>{if(e)for(const t in e)Gl(n,t,e[t])},Ku=(n,e)=>{if(e)for(const t in e)Uw(n,e,t)},Uw=(n,e,t)=>{const r=e[t];r!==void 0&&(n[t]=n[t]?n[t].concat(r):r)},oP=(n,...e)=>typeof n=="function"?vp(_p,n,...e):vp(()=>sP(_p(),n),...e),aP=vp(_p);var lP={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},Hw=n=>n||void 0,Vl=(...n)=>Hw(Sw(n).filter(Boolean).join(" ")),xp=null,Os={},Ep=!1,jl=(...n)=>e=>e.twMerge?((!xp||Ep)&&(Ep=!1,xp=ni(Os)?aP:oP({...Os,extend:{theme:Os.theme,classGroups:Os.classGroups,conflictingClassGroupModifiers:Os.conflictingClassGroupModifiers,conflictingClassGroups:Os.conflictingClassGroups,...Os.extend}})),Hw(xp(Vl(n)))):Vl(n),Gw=(n,e)=>{for(let t in e)n.hasOwnProperty(t)?n[t]=Vl(n[t],e[t]):n[t]=e[t];return n},$u=(n,e)=>{let{extend:t=null,slots:r={},variants:i={},compoundVariants:s=[],compoundSlots:o=[],defaultVariants:a={}}=n,l={...lP,...e},c=t!=null&&t.base?Vl(t.base,n?.base):n?.base,u=t!=null&&t.variants&&!ni(t.variants)?Cw(i,t.variants):i,d=t!=null&&t.defaultVariants&&!ni(t.defaultVariants)?{...t.defaultVariants,...a}:a;!ni(l.twMergeConfig)&&!wI(l.twMergeConfig,Os)&&(Ep=!0,Os=l.twMergeConfig);let h=ni(t?.slots),f=ni(r)?{}:{base:Vl(n?.base,h&&t?.base),...r},g=h?f:Gw({...t?.slots},ni(f)?{base:n?.base}:f),m=ni(t?.compoundVariants)?s:kw(t?.compoundVariants,s),y=A=>{if(ni(u)&&ni(r)&&h)return jl(c,A?.class,A?.className)(l);if(m&&!Array.isArray(m))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof m}`);if(o&&!Array.isArray(o))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof o}`);let E=(B,U,L=[],W)=>{let H=L;if(typeof U=="string")H=H.concat(Tw(U).split(" ").map(Q=>`${B}:${Q}`));else if(Array.isArray(U))H=H.concat(U.reduce((Q,X)=>Q.concat(`${B}:${X}`),[]));else if(typeof U=="object"&&typeof W=="string"){for(let Q in U)if(U.hasOwnProperty(Q)&&Q===W){let X=U[Q];if(X&&typeof X=="string"){let le=Tw(X);H[W]?H[W]=H[W].concat(le.split(" ").map(R=>`${B}:${R}`)):H[W]=le.split(" ").map(R=>`${B}:${R}`)}else Array.isArray(X)&&X.length>0&&(H[W]=X.reduce((le,R)=>le.concat(`${B}:${R}`),[]))}}return H},S=(B,U=u,L=null,W=null)=>{var H;let Q=U[B];if(!Q||ni(Q))return null;let X=(H=W?.[B])!=null?H:A?.[B];if(X===null)return null;let le=Ew(X),R=Array.isArray(l.responsiveVariants)&&l.responsiveVariants.length>0||l.responsiveVariants===!0,Ae=d?.[B],ke=[];if(typeof le=="object"&&R)for(let[Oe,Le]of Object.entries(le)){let Pe=Q[Le];if(Oe==="initial"){Ae=Le;continue}Array.isArray(l.responsiveVariants)&&!l.responsiveVariants.includes(Oe)||(ke=E(Oe,Pe,ke,L))}let M=le!=null&&typeof le!="object"?le:Ew(Ae),fe=Q[M||"false"];return typeof ke=="object"&&typeof L=="string"&&ke[L]?Gw(ke,fe):ke.length>0?(ke.push(fe),L==="base"?ke.join(" "):ke):fe},C=()=>u?Object.keys(u).map(B=>S(B,u)):null,x=(B,U)=>{if(!u||typeof u!="object")return null;let L=new Array;for(let W in u){let H=S(W,u,B,U),Q=B==="base"&&typeof H=="string"?H:H&&H[B];Q&&(L[L.length]=Q)}return L},N={};for(let B in A)A[B]!==void 0&&(N[B]=A[B]);let D=(B,U)=>{var L;let W=typeof A?.[B]=="object"?{[B]:(L=A[B])==null?void 0:L.initial}:{};return{...d,...N,...W,...U}},V=(B=[],U)=>{let L=[];for(let{class:W,className:H,...Q}of B){let X=!0;for(let[le,R]of Object.entries(Q)){let Ae=D(le,U)[le];if(Array.isArray(R)){if(!R.includes(Ae)){X=!1;break}}else{let ke=M=>M==null||M===!1;if(ke(R)&&ke(Ae))continue;if(Ae!==R){X=!1;break}}}X&&(W&&L.push(W),H&&L.push(H))}return L},O=B=>{let U=V(m,B);if(!Array.isArray(U))return U;let L={};for(let W of U)if(typeof W=="string"&&(L.base=jl(L.base,W)(l)),typeof W=="object")for(let[H,Q]of Object.entries(W))L[H]=jl(L[H],Q)(l);return L},K=B=>{if(o.length<1)return null;let U={};for(let{slots:L=[],class:W,className:H,...Q}of o){if(!ni(Q)){let X=!0;for(let le of Object.keys(Q)){let R=D(le,B)[le];if(R===void 0||(Array.isArray(Q[le])?!Q[le].includes(R):Q[le]!==R)){X=!1;break}}if(!X)continue}for(let X of L)U[X]=U[X]||[],U[X].push([W,H])}return U};if(!ni(r)||!h){let B={};if(typeof g=="object"&&!ni(g))for(let U of Object.keys(g))B[U]=L=>{var W,H;return jl(g[U],x(U,L),((W=O(L))!=null?W:[])[U],((H=K(L))!=null?H:[])[U],L?.class,L?.className)(l)};return B}return jl(c,C(),V(m),A?.class,A?.className)(l)},v=()=>{if(!(!u||typeof u!="object"))return Object.keys(u)};return y.variantKeys=v(),y.extend=t,y.base=c,y.slots=g,y.variants=u,y.defaultVariants=d,y.compoundSlots=o,y.compoundVariants=m,y};function cP(n){return typeof n=="function"}function ql(n){return n!==null&&typeof n=="object"}const uP=["string","number","bigint","boolean"];function Ap(n){return n==null||uP.includes(typeof n)?!0:Array.isArray(n)?n.every(e=>Ap(e)):typeof n=="object"?Object.getPrototypeOf(n)===Object.prototype:!1}const Wl=Symbol("box"),Sp=Symbol("is-writable");function dP(n){return ql(n)&&Wl in n}function hP(n){return ge.isBox(n)&&Sp in n}function ge(n){let e=_e(Nn(n));return{[Wl]:!0,[Sp]:!0,get current(){return w(e)},set current(t){G(e,t,!0)}}}function fP(n,e){const t=q(n);return e?{[Wl]:!0,[Sp]:!0,get current(){return w(t)},set current(r){e(r)}}:{[Wl]:!0,get current(){return n()}}}function pP(n){return ge.isBox(n)?n:cP(n)?ge.with(n):ge(n)}function gP(n){return Object.entries(n).reduce((e,[t,r])=>ge.isBox(r)?(ge.isWritableBox(r)?Object.defineProperty(e,t,{get(){return r.current},set(i){r.current=i}}):Object.defineProperty(e,t,{get(){return r.current}}),e):Object.assign(e,{[t]:r}),{})}function mP(n){return ge.isWritableBox(n)?{[Wl]:!0,get current(){return n.current}}:n}ge.from=pP,ge.with=fP,ge.flatten=gP,ge.readonly=mP,ge.isBox=dP,ge.isWritableBox=hP;function Vw(...n){return function(e){for(const t of n)if(t){if(e.defaultPrevented)return;typeof t=="function"?t.call(this,e):t.current?.call(this,e)}}}const bP=/\d/,vP=["-","_","/","."];function yP(n=""){if(!bP.test(n))return n!==n.toLowerCase()}function wP(n){const e=[];let t="",r,i;for(const s of n){const o=vP.includes(s);if(o===!0){e.push(t),t="",r=void 0;continue}const a=yP(s);if(i===!1){if(r===!1&&a===!0){e.push(t),t=s,r=a;continue}if(r===!0&&a===!1&&t.length>1){const l=t.at(-1);e.push(t.slice(0,Math.max(0,t.length-1))),t=l+s,r=a;continue}}t+=s,r=a,i=o}return e.push(t),e}function jw(n){return n?wP(n).map(e=>xP(e)).join(""):""}function _P(n){return EP(jw(n||""))}function xP(n){return n?n[0].toUpperCase()+n.slice(1):""}function EP(n){return n?n[0].toLowerCase()+n.slice(1):""}function Kl(n){if(!n)return{};const e={};function t(r,i){if(r.startsWith("-moz-")||r.startsWith("-webkit-")||r.startsWith("-ms-")||r.startsWith("-o-")){e[jw(r)]=i;return}if(r.startsWith("--")){e[r]=i;return}e[_P(r)]=i}return $C(n,t),e}function oo(...n){return(...e)=>{for(const t of n)typeof t=="function"&&t(...e)}}function AP(n,e){const t=RegExp(n,"g");return r=>{if(typeof r!="string")throw new TypeError(`expected an argument of type string, but got ${typeof r}`);return r.match(t)?r.replace(t,e):r}}const SP=AP(/[A-Z]/,n=>`-${n.toLowerCase()}`);function kP(n){if(!n||typeof n!="object"||Array.isArray(n))throw new TypeError(`expected an argument of type object, but got ${typeof n}`);return Object.keys(n).map(e=>`${SP(e)}: ${n[e]};`).join(`
`)}function kp(n={}){return kP(n).replace(`
`," ")}const CP=kp({position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",transform:"translateX(-100%)"}),TP=["onabort","onanimationcancel","onanimationend","onanimationiteration","onanimationstart","onauxclick","onbeforeinput","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncompositionend","oncompositionstart","oncompositionupdate","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onfocusin","onfocusout","onformdata","ongotpointercapture","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onlostpointercapture","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onpaste","onpause","onplay","onplaying","onpointercancel","onpointerdown","onpointerenter","onpointerleave","onpointermove","onpointerout","onpointerover","onpointerup","onprogress","onratechange","onreset","onresize","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onselectionchange","onselectstart","onslotchange","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","ontouchcancel","ontouchend","ontouchmove","ontouchstart","ontransitioncancel","ontransitionend","ontransitionrun","ontransitionstart","onvolumechange","onwaiting","onwebkitanimationend","onwebkitanimationiteration","onwebkitanimationstart","onwebkittransitionend","onwheel"],NP=new Set(TP);function IP(n){return NP.has(n)}function en(...n){const e={...n[0]};for(let t=1;t<n.length;t++){const r=n[t];if(r){for(const i of Object.keys(r)){const s=e[i],o=r[i],a=typeof s=="function",l=typeof o=="function";if(a&&IP(i)){const c=s,u=o;e[i]=Vw(c,u)}else if(a&&l)e[i]=oo(s,o);else if(i==="class"){const c=Ap(s),u=Ap(o);c&&u?e[i]=Sl(s,o):c?e[i]=Sl(s):u&&(e[i]=Sl(o))}else if(i==="style"){const c=typeof s=="object",u=typeof o=="object",d=typeof s=="string",h=typeof o=="string";if(c&&u)e[i]={...s,...o};else if(c&&h){const f=Kl(o);e[i]={...s,...f}}else if(d&&u){const f=Kl(s);e[i]={...f,...o}}else if(d&&h){const f=Kl(s),g=Kl(o);e[i]={...f,...g}}else c?e[i]=s:u?e[i]=o:d?e[i]=s:h&&(e[i]=o)}else e[i]=o!==void 0?o:s}for(const i of Object.getOwnPropertySymbols(r)){const s=e[i],o=r[i];e[i]=o!==void 0?o:s}}}return typeof e.style=="object"&&(e.style=kp(e.style).replaceAll(`
`," ")),e.hidden!==!0&&(e.hidden=void 0,delete e.hidden),e.disabled!==!0&&(e.disabled=void 0,delete e.disabled),e}const qw=typeof window<"u"?window:void 0;function PP(n){let e=n.activeElement;for(;e?.shadowRoot;){const t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}class RP{#e;#t;constructor(e={}){const{window:t=qw,document:r=t?.document}=e;t!==void 0&&(this.#e=r,this.#t=No(i=>{const s=vn(t,"focusin",i),o=vn(t,"focusout",i);return()=>{s(),o()}}))}get current(){return this.#t?.(),this.#e?PP(this.#e):null}}new RP;function Ww(n){return typeof n=="function"}function OP(n,e){if(Ww(n)){const r=n();return r===void 0?e:r}return n===void 0?e:n}class ri{#e;#t;constructor(e){this.#e=e,this.#t=Symbol(e)}get key(){return this.#t}exists(){return Qh(this.#t)}get(){const e=fa(this.#t);if(e===void 0)throw new Error(`Context "${this.#e}" not found`);return e}getOr(e){const t=fa(this.#t);return t===void 0?e:t}set(e){return tu(this.#t,e)}}function Yu(n,e){let t=_e(null);const r=q(()=>OP(e,250));function i(...s){if(w(t))w(t).timeout&&clearTimeout(w(t).timeout);else{let o,a;const l=new Promise((c,u)=>{o=c,a=u});G(t,{timeout:null,runner:null,promise:l,resolve:o,reject:a},!0)}return w(t).runner=async()=>{if(!w(t))return;const o=w(t);G(t,null);try{o.resolve(await n.apply(this,s))}catch(a){o.reject(a)}},w(t).timeout=setTimeout(w(t).runner,w(r)),w(t).promise}return i.cancel=async()=>{(!w(t)||w(t).timeout===null)&&(await new Promise(s=>setTimeout(s,0)),!w(t)||w(t).timeout===null)||(clearTimeout(w(t).timeout),w(t).reject("Cancelled"),G(t,null))},i.runScheduledNow=async()=>{(!w(t)||!w(t).timeout)&&(await new Promise(s=>setTimeout(s,0)),!w(t)||!w(t).timeout)||(clearTimeout(w(t).timeout),w(t).timeout=null,await w(t).runner?.())},Object.defineProperty(i,"pending",{enumerable:!0,get(){return!!w(t)?.timeout}}),i}function MP(n,e){switch(n){case"post":Tt(e);break;case"pre":ei(e);break}}function Kw(n,e,t,r={}){const{lazy:i=!1}=r;let s=!i,o=Array.isArray(n)?[]:void 0;MP(e,()=>{const a=Array.isArray(n)?n.map(c=>c()):n();if(!s){s=!0,o=a;return}const l=_n(()=>t(a,o));return o=a,l})}function Bn(n,e,t){Kw(n,"post",e,t)}function DP(n,e,t){Kw(n,"pre",e,t)}Bn.pre=DP;function $w(n){return Ww(n)?n():n}class LP{#e={width:0,height:0};#t=!1;#n;#r;#s;#i=q(()=>(w(this.#a)?.(),this.getSize().width));#o=q(()=>(w(this.#a)?.(),this.getSize().height));#a=q(()=>{const e=$w(this.#r);if(e)return No(t=>{if(!this.#s)return;const r=new this.#s.ResizeObserver(i=>{this.#t=!0;for(const s of i){const o=this.#n.box==="content-box"?s.contentBoxSize:s.borderBoxSize,a=Array.isArray(o)?o:[o];this.#e.width=a.reduce((l,c)=>Math.max(l,c.inlineSize),0),this.#e.height=a.reduce((l,c)=>Math.max(l,c.blockSize),0)}t()});return r.observe(e),()=>{this.#t=!1,r.disconnect()}})});constructor(e,t={box:"border-box"}){this.#s=t.window??qw,this.#n=t,this.#r=e,this.#e={width:0,height:0}}calculateSize(){const e=$w(this.#r);if(!e||!this.#s)return;const t=e.offsetWidth,r=e.offsetHeight;if(this.#n.box==="border-box")return{width:t,height:r};const i=this.#s.getComputedStyle(e),s=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),o=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),a=parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),l=parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),c=t-s-a,u=r-o-l;return{width:c,height:u}}getSize(){return this.#t?this.#e:this.calculateSize()??this.#e}get current(){return w(this.#a)?.(),this.getSize()}get width(){return w(this.#i)}get height(){return w(this.#o)}}class Cp{#e=_e(!1);constructor(){Tt(()=>(_n(()=>G(this.#e,!0)),()=>{G(this.#e,!1)}))}get current(){return w(this.#e)}}class FP{#e=_e(void 0);constructor(e,t){t!==void 0&&G(this.#e,t,!0),Bn(()=>e(),(r,i)=>{G(this.#e,i,!0)})}get current(){return w(this.#e)}}function La(n){Tt(()=>()=>{n()})}function $l(n,e){return setTimeout(e,n)}function Tp(n){df().then(n)}function BP(n){Tt(()=>_n(()=>n()))}const zP=1,UP=9,HP=11;function Np(n){return ql(n)&&n.nodeType===zP&&typeof n.nodeName=="string"}function Yw(n){return ql(n)&&n.nodeType===UP}function GP(n){return ql(n)&&n.constructor?.name==="VisualViewport"}function VP(n){return ql(n)&&n.nodeType!==void 0}function Xw(n){return VP(n)&&n.nodeType===HP&&"host"in n}function jP(n,e){if(!n||!e||!Np(n)||!Np(e))return!1;const t=e.getRootNode?.();if(n===e||n.contains(e))return!0;if(t&&Xw(t)){let r=e;for(;r;){if(n===r)return!0;r=r.parentNode||r.host}}return!1}function Zw(n){return Yw(n)?n:GP(n)?n.document:n?.ownerDocument??document}function Xu(n){return Xw(n)?Xu(n.host):Yw(n)?n.defaultView??window:Np(n)?n.ownerDocument?.defaultView??window:window}function qP(n){let e=n.activeElement;for(;e?.shadowRoot;){const t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}class Zu{element;#e=q(()=>this.element.current?this.element.current.getRootNode()??document:document);get root(){return w(this.#e)}set root(e){G(this.#e,e)}constructor(e){typeof e=="function"?this.element=ge.with(e):this.element=e}getDocument=()=>Zw(this.root);getWindow=()=>this.getDocument().defaultView??window;getActiveElement=()=>qP(this.root);isActiveElement=e=>e===this.getActiveElement();getElementById(e){return this.root.getElementById(e)}querySelector=e=>this.root?this.root.querySelector(e):null;querySelectorAll=e=>this.root?this.root.querySelectorAll(e):[];setTimeout=(e,t)=>this.getWindow().setTimeout(e,t);clearTimeout=e=>this.getWindow().clearTimeout(e)}function Xn(n,e){return{[k1()]:t=>ge.isBox(n)?(n.current=t,_n(()=>e?.(t)),()=>{"isConnected"in t&&t.isConnected||(n.current=null,e?.(null))}):(n(t),_n(()=>e?.(t)),()=>{"isConnected"in t&&t.isConnected||(n(null),e?.(null))})}}function WP(n){return n?"open":"closed"}function KP(n){return n?"true":"false"}function Ip(n){return n?"":void 0}function $P(n){return n?"true":"false"}function YP(n,e){return e?"mixed":n?"true":"false"}class XP{#e;#t;attrs;constructor(e){this.#e=e.getVariant?e.getVariant():null,this.#t=this.#e?`data-${this.#e}-`:`data-${e.component}-`,this.getAttr=this.getAttr.bind(this),this.selector=this.selector.bind(this),this.attrs=Object.fromEntries(e.parts.map(t=>[t,this.getAttr(t)]))}getAttr(e,t){return t?`data-${t}-${e}`:`${this.#t}${e}`}selector(e,t){return`[${this.getAttr(e,t)}]`}}function Qu(n){const e=new XP(n);return{...e.attrs,selector:e.selector,getAttr:e.getAttr}}const Ju="Enter",ZP="Escape",ed=" ";function bn(){}function Ar(n,e){return`bits-${n}`}class Qw{state;#e;constructor(e,t){this.state=ge(e),this.#e=t,this.dispatch=this.dispatch.bind(this)}#t(e){return this.#e[this.state.current][e]??this.state.current}dispatch(e){this.state.current=this.#t(e)}}const QP={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}};class JP{opts;#e=_e("none");get prevAnimationNameState(){return w(this.#e)}set prevAnimationNameState(e){G(this.#e,e,!0)}#t=_e(Nn({}));get styles(){return w(this.#t)}set styles(e){G(this.#t,e,!0)}initialStatus;previousPresent;machine;present;constructor(e){this.opts=e,this.present=this.opts.open,this.initialStatus=e.open.current?"mounted":"unmounted",this.previousPresent=new FP(()=>this.present.current),this.machine=new Qw(this.initialStatus,QP),this.handleAnimationEnd=this.handleAnimationEnd.bind(this),this.handleAnimationStart=this.handleAnimationStart.bind(this),eR(this),tR(this),nR(this)}handleAnimationEnd(e){if(!this.opts.ref.current)return;const t=td(this.opts.ref.current),r=t.includes(e.animationName)||t==="none";e.target===this.opts.ref.current&&r&&this.machine.dispatch("ANIMATION_END")}handleAnimationStart(e){this.opts.ref.current&&e.target===this.opts.ref.current&&(this.prevAnimationNameState=td(this.opts.ref.current))}#n=q(()=>["mounted","unmountSuspended"].includes(this.machine.state.current));get isPresent(){return w(this.#n)}set isPresent(e){G(this.#n,e)}}function eR(n){Bn(()=>n.present.current,()=>{if(!n.opts.ref.current||!(n.present.current!==n.previousPresent.current))return;const t=n.prevAnimationNameState,r=td(n.opts.ref.current);if(n.present.current)n.machine.dispatch("MOUNT");else if(r==="none"||n.styles.display==="none")n.machine.dispatch("UNMOUNT");else{const i=t!==r;n.previousPresent.current&&i?n.machine.dispatch("ANIMATION_OUT"):n.machine.dispatch("UNMOUNT")}})}function tR(n){Bn(()=>n.machine.state.current,()=>{if(!n.opts.ref.current)return;const e=td(n.opts.ref.current);n.prevAnimationNameState=n.machine.state.current==="mounted"?e:"none"})}function nR(n){Bn(()=>n.opts.ref.current,()=>{if(n.opts.ref.current)return n.styles=getComputedStyle(n.opts.ref.current),oo(vn(n.opts.ref.current,"animationstart",n.handleAnimationStart),vn(n.opts.ref.current,"animationcancel",n.handleAnimationEnd),vn(n.opts.ref.current,"animationend",n.handleAnimationEnd))})}function td(n){return n&&getComputedStyle(n).animationName||"none"}function ao(n,e){be(e,!0);const t=new JP({open:ge.with(()=>e.open),ref:e.ref});var r=te(),i=j(r);{var s=o=>{var a=te(),l=j(a);Se(l,()=>e.presence??Te,()=>({present:t.isPresent})),I(o,a)};xe(i,o=>{(e.forceMount||e.open||t.isPresent)&&o(s)})}I(n,r),ve()}class rR{#e;#t=void 0;#n=!1;constructor(e){this.#e=e,La(()=>this.#r())}#r(){this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=void 0),this.#n=!1}run(e){if(this.#n)return;this.#r(),this.#n=!0;const t=this.#e.ref.current;if(!t){this.#n=!1;return}if(typeof t.getAnimations!="function"){this.#s(e);return}this.#t=window.requestAnimationFrame(()=>{const r=t.getAnimations();if(r.length===0){this.#s(e);return}Promise.allSettled(r.map(i=>i.finished)).then(()=>{this.#s(e)})})}#s(e){const t=()=>{e(),this.#n=!1};this.#e.afterTick?Tp(t):t()}}class Jw{#e;#t;#n;constructor(e){this.#e=e,this.#t=e.enabled??!0,this.#n=new rR({ref:this.#e.ref,afterTick:this.#e.open}),Bn([()=>this.#e.open.current],([t])=>{this.#t&&this.#n.run(()=>{t===this.#e.open.current&&this.#e.onComplete()})})}}const iR=Qu({component:"dialog",parts:["content","trigger","overlay","title","description","close","cancel","action"]}),Ms=new ri("Dialog.Root | AlertDialog.Root");class nd{static create(e){return Ms.set(new nd(e))}opts;#e=_e(null);get triggerNode(){return w(this.#e)}set triggerNode(e){G(this.#e,e,!0)}#t=_e(null);get contentNode(){return w(this.#t)}set contentNode(e){G(this.#t,e,!0)}#n=_e(null);get descriptionNode(){return w(this.#n)}set descriptionNode(e){G(this.#n,e,!0)}#r=_e(void 0);get contentId(){return w(this.#r)}set contentId(e){G(this.#r,e,!0)}#s=_e(void 0);get titleId(){return w(this.#s)}set titleId(e){G(this.#s,e,!0)}#i=_e(void 0);get triggerId(){return w(this.#i)}set triggerId(e){G(this.#i,e,!0)}#o=_e(void 0);get descriptionId(){return w(this.#o)}set descriptionId(e){G(this.#o,e,!0)}#a=_e(null);get cancelNode(){return w(this.#a)}set cancelNode(e){G(this.#a,e,!0)}constructor(e){this.opts=e,this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),new Jw({ref:ge.with(()=>this.contentNode),open:this.opts.open,enabled:!0,onComplete:()=>{this.opts.onOpenChangeComplete.current(this.opts.open.current)}})}handleOpen(){this.opts.open.current||(this.opts.open.current=!0)}handleClose(){this.opts.open.current&&(this.opts.open.current=!1)}getBitsAttr=e=>iR.getAttr(e,this.opts.variant.current);#l=q(()=>({"data-state":WP(this.opts.open.current)}));get sharedProps(){return w(this.#l)}set sharedProps(e){G(this.#l,e)}}class Pp{static create(e){return new Pp(e,Ms.get())}opts;root;attachment;constructor(e,t){this.opts=e,this.root=t,this.attachment=Xn(this.opts.ref,r=>{this.root.triggerNode=r,this.root.triggerId=r?.id}),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(e){this.opts.disabled.current||e.button>0||this.root.handleOpen()}onkeydown(e){this.opts.disabled.current||(e.key===ed||e.key===Ju)&&(e.preventDefault(),this.root.handleOpen())}#e=q(()=>({id:this.opts.id.current,"aria-haspopup":"dialog","aria-expanded":KP(this.root.opts.open.current),"aria-controls":this.root.contentId,[this.root.getBitsAttr("trigger")]:"",onkeydown:this.onkeydown,onclick:this.onclick,disabled:this.opts.disabled.current?!0:void 0,...this.root.sharedProps,...this.attachment}));get props(){return w(this.#e)}set props(e){G(this.#e,e)}}class Rp{static create(e){return new Rp(e,Ms.get())}opts;root;attachment;constructor(e,t){this.opts=e,this.root=t,this.attachment=Xn(this.opts.ref),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(e){this.opts.disabled.current||e.button>0||this.root.handleClose()}onkeydown(e){this.opts.disabled.current||(e.key===ed||e.key===Ju)&&(e.preventDefault(),this.root.handleClose())}#e=q(()=>({id:this.opts.id.current,[this.root.getBitsAttr(this.opts.variant.current)]:"",onclick:this.onclick,onkeydown:this.onkeydown,disabled:this.opts.disabled.current?!0:void 0,tabindex:0,...this.root.sharedProps,...this.attachment}));get props(){return w(this.#e)}set props(e){G(this.#e,e)}}class Op{static create(e){return new Op(e,Ms.get())}opts;root;attachment;constructor(e,t){this.opts=e,this.root=t,this.attachment=Xn(this.opts.ref)}#e=q(()=>({id:this.opts.id.current,[this.root.getBitsAttr("action")]:"",...this.root.sharedProps,...this.attachment}));get props(){return w(this.#e)}set props(e){G(this.#e,e)}}class Mp{static create(e){return new Mp(e,Ms.get())}opts;root;attachment;constructor(e,t){this.opts=e,this.root=t,this.root.titleId=this.opts.id.current,this.attachment=Xn(this.opts.ref),Bn.pre(()=>this.opts.id.current,r=>{this.root.titleId=r})}#e=q(()=>({id:this.opts.id.current,role:"heading","aria-level":this.opts.level.current,[this.root.getBitsAttr("title")]:"",...this.root.sharedProps,...this.attachment}));get props(){return w(this.#e)}set props(e){G(this.#e,e)}}class Dp{static create(e){return new Dp(e,Ms.get())}opts;root;attachment;constructor(e,t){this.opts=e,this.root=t,this.root.descriptionId=this.opts.id.current,this.attachment=Xn(this.opts.ref,r=>{this.root.descriptionNode=r}),Bn.pre(()=>this.opts.id.current,r=>{this.root.descriptionId=r})}#e=q(()=>({id:this.opts.id.current,[this.root.getBitsAttr("description")]:"",...this.root.sharedProps,...this.attachment}));get props(){return w(this.#e)}set props(e){G(this.#e,e)}}class rd{static create(e){return new rd(e,Ms.get())}opts;root;attachment;constructor(e,t){this.opts=e,this.root=t,this.attachment=Xn(this.opts.ref,r=>{this.root.contentNode=r,this.root.contentId=r?.id})}#e=q(()=>({open:this.root.opts.open.current}));get snippetProps(){return w(this.#e)}set snippetProps(e){G(this.#e,e)}#t=q(()=>({id:this.opts.id.current,role:this.root.opts.variant.current==="alert-dialog"?"alertdialog":"dialog","aria-modal":"true","aria-describedby":this.root.descriptionId,"aria-labelledby":this.root.titleId,[this.root.getBitsAttr("content")]:"",style:{pointerEvents:"auto",outline:this.root.opts.variant.current==="alert-dialog"?"none":void 0},tabindex:this.root.opts.variant.current==="alert-dialog"?-1:void 0,...this.root.sharedProps,...this.attachment}));get props(){return w(this.#t)}set props(e){G(this.#t,e)}}class Lp{static create(e){return new Lp(e,Ms.get())}opts;root;attachment;constructor(e,t){this.opts=e,this.root=t,this.attachment=Xn(this.opts.ref)}#e=q(()=>({open:this.root.opts.open.current}));get snippetProps(){return w(this.#e)}set snippetProps(e){G(this.#e,e)}#t=q(()=>({id:this.opts.id.current,[this.root.getBitsAttr("overlay")]:"",style:{pointerEvents:"auto"},...this.root.sharedProps,...this.attachment}));get props(){return w(this.#t)}set props(e){G(this.#t,e)}}class Fp{static create(e){return new Fp(e,Ms.get())}opts;root;attachment;constructor(e,t){this.opts=e,this.root=t,this.attachment=Xn(this.opts.ref,r=>this.root.cancelNode=r),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(e){this.opts.disabled.current||e.button>0||this.root.handleClose()}onkeydown(e){this.opts.disabled.current||(e.key===ed||e.key===Ju)&&(e.preventDefault(),this.root.handleClose())}#e=q(()=>({id:this.opts.id.current,[this.root.getBitsAttr("cancel")]:"",onclick:this.onclick,onkeydown:this.onkeydown,tabindex:0,...this.root.sharedProps,...this.attachment}));get props(){return w(this.#e)}set props(e){G(this.#e,e)}}function sR(n,e){be(e,!0);let t=F(e,"open",15,!1),r=F(e,"onOpenChange",3,bn),i=F(e,"onOpenChangeComplete",3,bn);nd.create({variant:ge.with(()=>"alert-dialog"),open:ge.with(()=>t(),a=>{t(a),r()(a)}),onOpenChangeComplete:ge.with(()=>i())});var s=te(),o=j(s);Se(o,()=>e.children??Te),I(n,s),ve()}var oR=de("<div><!></div>");function Bp(n,e){const t=Er();be(e,!0);let r=F(e,"id",19,()=>Ar(t)),i=F(e,"ref",15,null),s=F(e,"level",3,2),o=Re(e,["$$slots","$$events","$$legacy","id","ref","child","children","level"]);const a=Mp.create({id:ge.with(()=>r()),level:ge.with(()=>s()),ref:ge.with(()=>i(),f=>i(f))}),l=q(()=>en(o,a.props));var c=te(),u=j(c);{var d=f=>{var g=te(),m=j(g);Se(m,()=>e.child,()=>({props:w(l)})),I(f,g)},h=f=>{var g=oR();St(g,()=>({...w(l)}));var m=he(g);Se(m,()=>e.children??Te),ue(g),I(f,g)};xe(u,f=>{e.child?f(d):f(h,!1)})}I(n,c),ve()}var aR=de("<button><!></button>");function lR(n,e){const t=Er();be(e,!0);let r=F(e,"id",19,()=>Ar(t)),i=F(e,"ref",15,null),s=Re(e,["$$slots","$$events","$$legacy","children","child","id","ref"]);const o=Op.create({id:ge.with(()=>r()),ref:ge.with(()=>i(),h=>i(h))}),a=q(()=>en(s,o.props));var l=te(),c=j(l);{var u=h=>{var f=te(),g=j(f);Se(g,()=>e.child,()=>({props:w(a)})),I(h,f)},d=h=>{var f=aR();St(f,()=>({...w(a)}));var g=he(f);Se(g,()=>e.children??Te),ue(f),I(h,f)};xe(c,h=>{e.child?h(u):h(d,!1)})}I(n,l),ve()}var cR=de("<button><!></button>");function uR(n,e){const t=Er();be(e,!0);let r=F(e,"id",19,()=>Ar(t)),i=F(e,"ref",15,null),s=F(e,"disabled",3,!1),o=Re(e,["$$slots","$$events","$$legacy","id","ref","children","child","disabled"]);const a=Fp.create({id:ge.with(()=>r()),ref:ge.with(()=>i(),f=>i(f)),disabled:ge.with(()=>!!s())}),l=q(()=>en(o,a.props));var c=te(),u=j(c);{var d=f=>{var g=te(),m=j(g);Se(m,()=>e.child,()=>({props:w(l)})),I(f,g)},h=f=>{var g=cR();St(g,()=>({...w(l)}));var m=he(g);Se(m,()=>e.children??Te),ue(g),I(f,g)};xe(u,f=>{e.child?f(d):f(h,!1)})}I(n,c),ve()}function dR(n,e){var t=te(),r=j(t);z1(r,()=>e.children,i=>{var s=te(),o=j(s);Se(o,()=>e.children??Te),I(i,s)}),I(n,t)}const zp=typeof document<"u",e_=hR();function hR(){return zp&&window?.navigator?.userAgent&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||window?.navigator?.maxTouchPoints>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function Up(n){return n instanceof HTMLElement}function Hp(n){return n instanceof Element}function fR(n){return n.matches(":focus-visible")}function pR(n){return n!==null}const gR=new ri("BitsConfig");function mR(){const n=new bR(null,{});return gR.getOr(n).opts}class bR{opts;constructor(e,t){const r=vR(e,t);this.opts={defaultPortalTo:r(i=>i.defaultPortalTo),defaultLocale:r(i=>i.defaultLocale)}}}function vR(n,e){return t=>ge.with(()=>{const i=t(e)?.current;if(i!==void 0)return i;if(n!==null)return t(n.opts)?.current})}function yR(n,e){return t=>{const r=mR();return ge.with(()=>{const i=t();if(i!==void 0)return i;const s=n(r).current;return s!==void 0?s:e})}}const wR=yR(n=>n.defaultPortalTo,"body");function id(n,e){be(e,!0);const t=wR(()=>e.to),r=iv();let i=q(s);function s(){if(!zp||e.disabled)return null;let d=null;return typeof t.current=="string"?d=document.querySelector(t.current):d=t.current,d}let o;function a(){o&&(vf(o),o=null)}Bn([()=>w(i),()=>e.disabled],([d,h])=>{if(!d||h){a();return}return o=vu(dR,{target:d,props:{children:e.children},context:r}),()=>{a()}});var l=te(),c=j(l);{var u=d=>{var h=te(),f=j(h);Se(f,()=>e.children??Te),I(d,h)};xe(c,d=>{e.disabled&&d(u)})}I(n,l),ve()}function Yl(n,e,t,r){const i=Array.isArray(e)?e:[e];return i.forEach(s=>n.addEventListener(s,t,r)),()=>{i.forEach(s=>n.removeEventListener(s,t,r))}}function t_(n,e=500){let t=null;const r=(...i)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{n(...i)},e)};return r.destroy=()=>{t!==null&&(clearTimeout(t),t=null)},r}function n_(n,e){return n===e||n.contains(e)}function r_(n){return n?.ownerDocument??document}function _R(n,e){const{clientX:t,clientY:r}=n,i=e.getBoundingClientRect();return t<i.left||t>i.right||r<i.top||r>i.bottom}globalThis.bitsDismissableLayers??=new Map;class Gp{static create(e){return new Gp(e)}opts;#e;#t;#n={pointerdown:!1};#r=!1;#s=!1;#i=void 0;#o;#a=bn;constructor(e){this.opts=e,this.#t=e.interactOutsideBehavior,this.#e=e.onInteractOutside,this.#o=e.onFocusOutside,Tt(()=>{this.#i=r_(this.opts.ref.current)});let t=bn;const r=()=>{this.#m(),globalThis.bitsDismissableLayers.delete(this),this.#u.destroy(),t()};Bn([()=>this.opts.enabled.current,()=>this.opts.ref.current],()=>{if(!(!this.opts.enabled.current||!this.opts.ref.current))return $l(1,()=>{this.opts.ref.current&&(globalThis.bitsDismissableLayers.set(this,this.#t),t(),t=this.#c())}),r}),La(()=>{this.#m.destroy(),globalThis.bitsDismissableLayers.delete(this),this.#u.destroy(),this.#a(),t()})}#l=e=>{e.defaultPrevented||this.opts.ref.current&&Tp(()=>{!this.opts.ref.current||this.#h(e.target)||e.target&&!this.#s&&this.#o.current?.(e)})};#c(){return oo(vn(this.#i,"pointerdown",oo(this.#p,this.#f),{capture:!0}),vn(this.#i,"pointerdown",oo(this.#g,this.#u)),vn(this.#i,"focusin",this.#l))}#d=e=>{let t=e;t.defaultPrevented&&(t=i_(e)),this.#e.current(e)};#u=t_(e=>{if(!this.opts.ref.current){this.#a();return}const t=this.opts.isValidEvent.current(e,this.opts.ref.current)||AR(e,this.opts.ref.current);if(!this.#r||this.#y()||!t){this.#a();return}let r=e;if(r.defaultPrevented&&(r=i_(r)),this.#t.current!=="close"&&this.#t.current!=="defer-otherwise-close"){this.#a();return}e.pointerType==="touch"?(this.#a(),this.#a=Yl(this.#i,"click",this.#d,{once:!0})):this.#e.current(r)},10);#p=e=>{this.#n[e.type]=!0};#g=e=>{this.#n[e.type]=!1};#f=()=>{this.opts.ref.current&&(this.#r=ER(this.opts.ref.current))};#h=e=>this.opts.ref.current?n_(this.opts.ref.current,e):!1;#m=t_(()=>{for(const e in this.#n)this.#n[e]=!1;this.#r=!1},20);#y(){return Object.values(this.#n).some(Boolean)}#b=()=>{this.#s=!0};#w=()=>{this.#s=!1};props={onfocuscapture:this.#b,onblurcapture:this.#w}}function xR(n){return n.findLast(([e,{current:t}])=>t==="close"||t==="ignore")}function ER(n){const e=[...globalThis.bitsDismissableLayers],t=xR(e);if(t)return t[0].opts.ref.current===n;const[r]=e[0];return r.opts.ref.current===n}function AR(n,e){if("button"in n&&n.button>0)return!1;const t=n.target;return Hp(t)?r_(t).documentElement.contains(t)&&!n_(e,t)&&_R(n,e):!1}function i_(n){const e=n.currentTarget,t=n.target;let r;n instanceof PointerEvent?r=new PointerEvent(n.type,n):r=new PointerEvent("pointerdown",n);let i=!1;return new Proxy(r,{get:(o,a)=>a==="currentTarget"?e:a==="target"?t:a==="preventDefault"?()=>{i=!0,typeof o.preventDefault=="function"&&o.preventDefault()}:a==="defaultPrevented"?i:a in o?o[a]:n[a]})}function Vp(n,e){be(e,!0);let t=F(e,"interactOutsideBehavior",3,"close"),r=F(e,"onInteractOutside",3,bn),i=F(e,"onFocusOutside",3,bn),s=F(e,"isValidEvent",3,()=>!1);const o=Gp.create({id:ge.with(()=>e.id),interactOutsideBehavior:ge.with(()=>t()),onInteractOutside:ge.with(()=>r()),enabled:ge.with(()=>e.enabled),onFocusOutside:ge.with(()=>i()),isValidEvent:ge.with(()=>s()),ref:e.ref});var a=te(),l=j(a);Se(l,()=>e.children??Te,()=>({props:o.props})),I(n,a),ve()}globalThis.bitsEscapeLayers??=new Map;class jp{static create(e){return new jp(e)}opts;domContext;constructor(e){this.opts=e,this.domContext=new Zu(this.opts.ref);let t=bn;Bn(()=>e.enabled.current,r=>(r&&(globalThis.bitsEscapeLayers.set(this,e.escapeKeydownBehavior),t=this.#e()),()=>{t(),globalThis.bitsEscapeLayers.delete(this)}))}#e=()=>vn(this.domContext.getDocument(),"keydown",this.#t,{passive:!1});#t=e=>{if(e.key!==ZP||!SR(this))return;const t=new KeyboardEvent(e.type,e);e.preventDefault();const r=this.opts.escapeKeydownBehavior.current;r!=="close"&&r!=="defer-otherwise-close"||this.opts.onEscapeKeydown.current(t)}}function SR(n){const e=[...globalThis.bitsEscapeLayers],t=e.findLast(([i,{current:s}])=>s==="close"||s==="ignore");if(t)return t[0]===n;const[r]=e[0];return r===n}function qp(n,e){be(e,!0);let t=F(e,"escapeKeydownBehavior",3,"close"),r=F(e,"onEscapeKeydown",3,bn);jp.create({escapeKeydownBehavior:ge.with(()=>t()),onEscapeKeydown:ge.with(()=>r()),enabled:ge.with(()=>e.enabled),ref:e.ref});var i=te(),s=j(i);Se(s,()=>e.children??Te),I(n,i),ve()}class Wp{static instance;#e=ge([]);#t=new WeakMap;static getInstance(){return this.instance||(this.instance=new Wp),this.instance}register(e){const t=this.getActive();t&&t!==e&&t.pause(),this.#e.current=this.#e.current.filter(r=>r!==e),this.#e.current.unshift(e)}unregister(e){this.#e.current=this.#e.current.filter(r=>r!==e);const t=this.getActive();t&&t.resume()}getActive(){return this.#e.current[0]}setFocusMemory(e,t){this.#t.set(e,t)}getFocusMemory(e){return this.#t.get(e)}isActiveScope(e){return this.getActive()===e}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var s_=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Kp=s_.join(","),o_=typeof Element>"u",Fa=o_?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,sd=!o_&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n?.ownerDocument},od=function n(e,t){var r;t===void 0&&(t=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=i===""||i==="true",o=s||t&&e&&n(e.parentNode);return o},kR=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},a_=function(e,t,r){if(od(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Kp));return t&&Fa.call(e,Kp)&&i.unshift(e),i=i.filter(r),i},l_=function n(e,t,r){for(var i=[],s=Array.from(e);s.length;){var o=s.shift();if(!od(o,!1))if(o.tagName==="SLOT"){var a=o.assignedElements(),l=a.length?a:o.children,c=n(l,!0,r);r.flatten?i.push.apply(i,c):i.push({scopeParent:o,candidates:c})}else{var u=Fa.call(o,Kp);u&&r.filter(o)&&(t||!e.includes(o))&&i.push(o);var d=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),h=!od(d,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(d&&h){var f=n(d===!0?o.children:d.children,!0,r);r.flatten?i.push.apply(i,f):i.push({scopeParent:o,candidates:f})}else s.unshift.apply(s,o.children)}}return i},c_=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},u_=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||kR(e))&&!c_(e)?0:e.tabIndex},CR=function(e,t){var r=u_(e);return r<0&&t&&!c_(e)?0:r},TR=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},d_=function(e){return e.tagName==="INPUT"},NR=function(e){return d_(e)&&e.type==="hidden"},IR=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},PR=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},RR=function(e){if(!e.name)return!0;var t=e.form||sd(e),r=function(a){return t.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=PR(i,e.form);return!s||s===e},OR=function(e){return d_(e)&&e.type==="radio"},MR=function(e){return OR(e)&&!RR(e)},DR=function(e){var t,r=e&&sd(e),i=(t=r)===null||t===void 0?void 0:t.host,s=!1;if(r&&r!==e){var o,a,l;for(s=!!((o=i)!==null&&o!==void 0&&(a=o.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!s&&i;){var c,u,d;r=sd(i),i=(c=r)===null||c===void 0?void 0:c.host,s=!!((u=i)!==null&&u!==void 0&&(d=u.ownerDocument)!==null&&d!==void 0&&d.contains(i))}}return s},h_=function(e){var t=e.getBoundingClientRect(),r=t.width,i=t.height;return r===0&&i===0},LR=function(e,t){var r=t.displayCheck,i=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=Fa.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if(Fa.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var l=e.parentElement,c=sd(e);if(l&&!l.shadowRoot&&i(l)===!0)return h_(e);e.assignedSlot?e=e.assignedSlot:!l&&c!==e.ownerDocument?e=c.host:e=l}e=a}if(DR(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return h_(e);return!1},FR=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var i=t.children.item(r);if(i.tagName==="LEGEND")return Fa.call(t,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}t=t.parentElement}return!1},ad=function(e,t){return!(t.disabled||od(t)||NR(t)||LR(t,e)||IR(t)||FR(t))},f_=function(e,t){return!(MR(t)||u_(t)<0||!ad(e,t))},BR=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},zR=function n(e){var t=[],r=[];return e.forEach(function(i,s){var o=!!i.scopeParent,a=o?i.scopeParent:i,l=CR(a,o),c=o?n(i.candidates):a;l===0?o?t.push.apply(t,c):t.push(a):r.push({documentOrder:s,tabIndex:l,item:i,isScope:o,content:c})}),r.sort(TR).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(t)},UR=function(e,t){t=t||{};var r;return t.getShadowRoot?r=l_([e],t.includeContainer,{filter:f_.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:BR}):r=a_(e,t.includeContainer,f_.bind(null,t)),zR(r)},HR=function(e,t){t=t||{};var r;return t.getShadowRoot?r=l_([e],t.includeContainer,{filter:ad.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):r=a_(e,t.includeContainer,ad.bind(null,t)),r},GR=s_.concat("iframe").join(","),VR=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return Fa.call(e,GR)===!1?!1:ad(t,e)};class $p{#e=!1;#t=null;#n=Wp.getInstance();#r=[];#s;constructor(e){this.#s=e}get paused(){return this.#e}pause(){this.#e=!0}resume(){this.#e=!1}#i(){for(const e of this.#r)e();this.#r=[]}mount(e){this.#t&&this.unmount(),this.#t=e,this.#n.register(this),this.#l(),this.#o()}unmount(){this.#t&&(this.#i(),this.#a(),this.#n.unregister(this),this.#t=null)}#o(){if(!this.#t)return;const e=new CustomEvent("focusScope.onOpenAutoFocus",{bubbles:!1,cancelable:!0});this.#s.onOpenAutoFocus.current(e),e.defaultPrevented||requestAnimationFrame(()=>{if(!this.#t)return;const t=this.#d();t?(t.focus(),this.#n.setFocusMemory(this,t)):this.#t.focus()})}#a(){const e=new CustomEvent("focusScope.onCloseAutoFocus",{bubbles:!1,cancelable:!0});if(this.#s.onCloseAutoFocus.current(e),!e.defaultPrevented){const t=document.activeElement;t&&t!==document.body&&t.focus()}}#l(){if(!this.#t||!this.#s.trap.current)return;const e=this.#t,t=e.ownerDocument,r=o=>{if(this.#e||!this.#n.isActiveScope(this))return;const a=o.target;if(!a)return;if(e.contains(a))this.#n.setFocusMemory(this,a);else{const c=this.#n.getFocusMemory(this);if(c&&e.contains(c)&&VR(c))o.preventDefault(),c.focus();else{const u=this.#d(),d=this.#u()[0];(u||d||e).focus()}}},i=o=>{if(!this.#s.loop||this.#e||o.key!=="Tab"||!this.#n.isActiveScope(this))return;const a=this.#c();if(a.length<2)return;const l=a[0],c=a[a.length-1];!o.shiftKey&&t.activeElement===c?(o.preventDefault(),l.focus()):o.shiftKey&&t.activeElement===l&&(o.preventDefault(),c.focus())};this.#r.push(vn(t,"focusin",r,{capture:!0}),vn(e,"keydown",i));const s=new MutationObserver(()=>{const o=this.#n.getFocusMemory(this);if(o&&!e.contains(o)){const a=this.#d(),l=this.#u()[0],c=a||l;c?(c.focus(),this.#n.setFocusMemory(this,c)):e.focus()}});s.observe(e,{childList:!0,subtree:!0}),this.#r.push(()=>s.disconnect())}#c(){return this.#t?UR(this.#t,{includeContainer:!1,getShadowRoot:!0}):[]}#d(){return this.#c()[0]||null}#u(){return this.#t?HR(this.#t,{includeContainer:!1,getShadowRoot:!0}):[]}static use(e){let t=null;return Bn([()=>e.ref.current,()=>e.enabled.current],([r,i])=>{r&&i?(t||(t=new $p(e)),t.mount(r)):t&&(t.unmount(),t=null)}),La(()=>{t?.unmount()}),{get props(){return{tabindex:-1}}}}}function Yp(n,e){be(e,!0);let t=F(e,"enabled",3,!1),r=F(e,"trapFocus",3,!1),i=F(e,"loop",3,!1),s=F(e,"onCloseAutoFocus",3,bn),o=F(e,"onOpenAutoFocus",3,bn);const a=$p.use({enabled:ge.with(()=>t()),trap:ge.with(()=>r()),loop:i(),onCloseAutoFocus:ge.with(()=>s()),onOpenAutoFocus:ge.with(()=>o()),ref:e.ref});var l=te(),c=j(l);Se(c,()=>e.focusScope??Te,()=>({props:a.props})),I(n,l),ve()}globalThis.bitsTextSelectionLayers??=new Map;class Xp{static create(e){return new Xp(e)}opts;domContext;#e=bn;constructor(e){this.opts=e,this.domContext=new Zu(e.ref);let t=bn;Bn(()=>this.opts.enabled.current,r=>(r&&(globalThis.bitsTextSelectionLayers.set(this,this.opts.enabled),t(),t=this.#t()),()=>{t(),this.#r(),globalThis.bitsTextSelectionLayers.delete(this)}))}#t(){return oo(vn(this.domContext.getDocument(),"pointerdown",this.#n),vn(this.domContext.getDocument(),"pointerup",Vw(this.#r,this.opts.onPointerUp.current)))}#n=e=>{const t=this.opts.ref.current,r=e.target;!Up(t)||!Up(r)||!this.opts.enabled.current||!qR(this)||!jP(t,r)||(this.opts.onPointerDown.current(e),!e.defaultPrevented&&(this.#e=jR(t,this.domContext.getDocument().body)))};#r=()=>{this.#e(),this.#e=bn}}const p_=n=>n.style.userSelect||n.style.webkitUserSelect;function jR(n,e){const t=p_(e),r=p_(n);return ld(e,"none"),ld(n,"text"),()=>{ld(e,t),ld(n,r)}}function ld(n,e){n.style.userSelect=e,n.style.webkitUserSelect=e}function qR(n){const e=[...globalThis.bitsTextSelectionLayers];if(!e.length)return!1;const t=e.at(-1);return t?t[0]===n:!1}function Zp(n,e){be(e,!0);let t=F(e,"preventOverflowTextSelection",3,!0),r=F(e,"onPointerDown",3,bn),i=F(e,"onPointerUp",3,bn);Xp.create({id:ge.with(()=>e.id),onPointerDown:ge.with(()=>r()),onPointerUp:ge.with(()=>i()),enabled:ge.with(()=>e.enabled&&t()),ref:e.ref});var s=te(),o=j(s);Se(o,()=>e.children??Te),I(n,s),ve()}globalThis.bitsIdCounter??={current:0};function Ba(n="bits"){return globalThis.bitsIdCounter.current++,`${n}-${globalThis.bitsIdCounter.current}`}class WR{#e;#t=0;#n=_e();#r;constructor(e){this.#e=e}#s(){this.#t-=1,this.#r&&this.#t<=0&&(this.#r(),G(this.#n,void 0),this.#r=void 0)}get(...e){return this.#t+=1,w(this.#n)===void 0&&(this.#r=lu(()=>{G(this.#n,this.#e(...e),!0)})),Tt(()=>()=>{this.#s()}),w(this.#n)}}const KR=new WR(()=>{const n=new TC,e=q(()=>{for(const s of n.values())if(s)return!0;return!1});let t=_e(null),r=null;function i(){zp&&(document.body.setAttribute("style",w(t)??""),document.body.style.removeProperty("--scrollbar-width"),e_&&r?.())}return Bn(()=>w(e),()=>{if(!w(e))return;G(t,document.body.getAttribute("style"),!0);const s=getComputedStyle(document.body),o=window.innerWidth-document.documentElement.clientWidth,l={padding:Number.parseInt(s.paddingRight??"0",10)+o,margin:Number.parseInt(s.marginRight??"0",10)};o>0&&(document.body.style.paddingRight=`${l.padding}px`,document.body.style.marginRight=`${l.margin}px`,document.body.style.setProperty("--scrollbar-width",`${o}px`),document.body.style.overflow="hidden"),e_&&(r=Yl(document,"touchmove",c=>{c.target===document.documentElement&&(c.touches.length>1||c.preventDefault())},{passive:!1})),Tp(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})}),La(()=>()=>{r?.()}),{get map(){return n},resetBodyStyle:i}});class $R{#e=Ba();#t;#n=()=>null;#r;locked;constructor(e,t=()=>null){this.#t=e,this.#n=t,this.#r=KR.get(),this.#r&&(this.#r.map.set(this.#e,this.#t??!1),this.locked=ge.with(()=>this.#r.map.get(this.#e)??!1,r=>this.#r.map.set(this.#e,r)),La(()=>{if(this.#r.map.delete(this.#e),YR(this.#r.map))return;const r=this.#n();r===null?requestAnimationFrame(()=>this.#r.resetBodyStyle()):$l(r,()=>this.#r.resetBodyStyle())}))}}function YR(n){for(const[e,t]of n)if(t)return!0;return!1}function za(n,e){be(e,!0);let t=F(e,"preventScroll",3,!0),r=F(e,"restoreScrollDelay",3,null);t()&&new $R(t(),()=>r()),ve()}function g_({forceMount:n,present:e,open:t}){return(n||e)&&t}var XR=de("<!> <!>",1),ZR=de("<!> <div><!></div>",1);function QR(n,e){const t=Er();be(e,!0);let r=F(e,"id",19,()=>Ar(t)),i=F(e,"ref",15,null),s=F(e,"forceMount",3,!1),o=F(e,"interactOutsideBehavior",3,"ignore"),a=F(e,"onCloseAutoFocus",3,bn),l=F(e,"onEscapeKeydown",3,bn),c=F(e,"onOpenAutoFocus",3,bn),u=F(e,"onInteractOutside",3,bn),d=F(e,"preventScroll",3,!0),h=F(e,"trapFocus",3,!0),f=F(e,"restoreScrollDelay",3,null),g=Re(e,["$$slots","$$events","$$legacy","id","children","child","ref","forceMount","interactOutsideBehavior","onCloseAutoFocus","onEscapeKeydown","onOpenAutoFocus","onInteractOutside","preventScroll","trapFocus","restoreScrollDelay"]);const m=rd.create({id:ge.with(()=>r()),ref:ge.with(()=>i(),v=>i(v))}),y=q(()=>en(g,m.props));{const v=E=>{{const S=(x,N)=>{let D=()=>N?.().props;qp(x,Ve(()=>w(y),{get enabled(){return m.root.opts.open.current},get ref(){return m.opts.ref},onEscapeKeydown:V=>{l()(V),!V.defaultPrevented&&m.root.handleClose()},children:(V,O)=>{Vp(V,Ve(()=>w(y),{get ref(){return m.opts.ref},get enabled(){return m.root.opts.open.current},get interactOutsideBehavior(){return o()},onInteractOutside:K=>{u()(K),!K.defaultPrevented&&m.root.handleClose()},children:(K,B)=>{Zp(K,Ve(()=>w(y),{get ref(){return m.opts.ref},get enabled(){return m.root.opts.open.current},children:(U,L)=>{var W=te(),H=j(W);{var Q=le=>{var R=XR(),Ae=j(R);{var ke=fe=>{za(fe,{get preventScroll(){return d()},get restoreScrollDelay(){return f()}})};xe(Ae,fe=>{m.root.opts.open.current&&fe(ke)})}var M=Ne(Ae,2);{let fe=q(()=>({props:en(w(y),D()),...m.snippetProps}));Se(M,()=>e.child,()=>w(fe))}I(le,R)},X=le=>{var R=ZR(),Ae=j(R);za(Ae,{get preventScroll(){return d()}});var ke=Ne(Ae,2);St(ke,fe=>({...fe}),[()=>en(w(y),D())]);var M=he(ke);Se(M,()=>e.children??Te),ue(ke),I(le,R)};xe(H,le=>{e.child?le(Q):le(X,!1)})}I(U,W)},$$slots:{default:!0}}))},$$slots:{default:!0}}))},$$slots:{default:!0}}))};let C=q(()=>g_({forceMount:s(),present:m.root.opts.open.current,open:m.root.opts.open.current}));Yp(E,{get ref(){return m.opts.ref},loop:!0,get trapFocus(){return h()},get enabled(){return w(C)},onCloseAutoFocus:x=>{a()(x),!x.defaultPrevented&&$l(0,()=>m.root.triggerNode?.focus())},onOpenAutoFocus:x=>{c()(x),!x.defaultPrevented&&(x.preventDefault(),$l(0,()=>m.opts.ref.current?.focus()))},focusScope:S,$$slots:{focusScope:!0}})}};let A=q(()=>m.root.opts.open.current||s());ao(n,{get forceMount(){return s()},get open(){return w(A)},get ref(){return m.opts.ref},presence:v,$$slots:{presence:!0}})}ve()}var JR=de("<div><!></div>");function Qp(n,e){const t=Er();be(e,!0);let r=F(e,"id",19,()=>Ar(t)),i=F(e,"forceMount",3,!1),s=F(e,"ref",15,null),o=Re(e,["$$slots","$$events","$$legacy","id","forceMount","child","children","ref"]);const a=Lp.create({id:ge.with(()=>r()),ref:ge.with(()=>s(),c=>s(c))}),l=q(()=>en(o,a.props));{const c=d=>{var h=te(),f=j(h);{var g=y=>{var v=te(),A=j(v);{let E=q(()=>({props:en(w(l)),...a.snippetProps}));Se(A,()=>e.child,()=>w(E))}I(y,v)},m=y=>{var v=JR();St(v,E=>({...E}),[()=>en(w(l))]);var A=he(v);Se(A,()=>e.children??Te,()=>a.snippetProps),ue(v),I(y,v)};xe(f,y=>{e.child?y(g):y(m,!1)})}I(d,h)};let u=q(()=>a.root.opts.open.current||i());ao(n,{get open(){return w(u)},get ref(){return a.opts.ref},presence:c,$$slots:{presence:!0}})}ve()}var eO=de("<button><!></button>");function tO(n,e){const t=Er();be(e,!0);let r=F(e,"id",19,()=>Ar(t)),i=F(e,"ref",15,null),s=F(e,"disabled",3,!1),o=Re(e,["$$slots","$$events","$$legacy","id","ref","children","child","disabled"]);const a=Pp.create({id:ge.with(()=>r()),ref:ge.with(()=>i(),f=>i(f)),disabled:ge.with(()=>!!s())}),l=q(()=>en(o,a.props));var c=te(),u=j(c);{var d=f=>{var g=te(),m=j(g);Se(m,()=>e.child,()=>({props:w(l)})),I(f,g)},h=f=>{var g=eO();St(g,()=>({...w(l)}));var m=he(g);Se(m,()=>e.children??Te),ue(g),I(f,g)};xe(u,f=>{e.child?f(d):f(h,!1)})}I(n,c),ve()}var nO=de("<div><!></div>");function m_(n,e){const t=Er();be(e,!0);let r=F(e,"id",19,()=>Ar(t)),i=F(e,"ref",15,null),s=Re(e,["$$slots","$$events","$$legacy","id","children","child","ref"]);const o=Dp.create({id:ge.with(()=>r()),ref:ge.with(()=>i(),h=>i(h))}),a=q(()=>en(s,o.props));var l=te(),c=j(l);{var u=h=>{var f=te(),g=j(f);Se(g,()=>e.child,()=>({props:w(a)})),I(h,f)},d=h=>{var f=nO();St(f,()=>({...w(a)}));var g=he(f);Se(g,()=>e.children??Te),ue(f),I(h,f)};xe(c,h=>{e.child?h(u):h(d,!1)})}I(n,l),ve()}const rO=Qu({component:"checkbox",parts:["root","group","group-label","input"]}),iO=new ri("Checkbox.Group"),b_=new ri("Checkbox.Root");class Jp{static create(e,t=null){return b_.set(new Jp(e,t))}opts;group;#e=q(()=>this.group&&this.group.opts.name.current?this.group.opts.name.current:this.opts.name.current);get trueName(){return w(this.#e)}set trueName(e){G(this.#e,e)}#t=q(()=>this.group&&this.group.opts.required.current?!0:this.opts.required.current);get trueRequired(){return w(this.#t)}set trueRequired(e){G(this.#t,e)}#n=q(()=>this.group&&this.group.opts.disabled.current?!0:this.opts.disabled.current);get trueDisabled(){return w(this.#n)}set trueDisabled(e){G(this.#n,e)}attachment;constructor(e,t){this.opts=e,this.group=t,this.attachment=Xn(this.opts.ref),this.onkeydown=this.onkeydown.bind(this),this.onclick=this.onclick.bind(this),Bn.pre([()=>rv(this.group?.opts.value.current),()=>this.opts.value.current],([r,i])=>{!r||!i||(this.opts.checked.current=r.includes(i))}),Bn.pre(()=>this.opts.checked.current,r=>{this.group&&(r?this.group?.addValue(this.opts.value.current):this.group?.removeValue(this.opts.value.current))})}onkeydown(e){this.opts.disabled.current||(e.key===Ju&&e.preventDefault(),e.key===ed&&(e.preventDefault(),this.#r()))}#r(){this.opts.indeterminate.current?(this.opts.indeterminate.current=!1,this.opts.checked.current=!0):this.opts.checked.current=!this.opts.checked.current}onclick(e){this.opts.disabled.current||this.#r()}#s=q(()=>({checked:this.opts.checked.current,indeterminate:this.opts.indeterminate.current}));get snippetProps(){return w(this.#s)}set snippetProps(e){G(this.#s,e)}#i=q(()=>({id:this.opts.id.current,role:"checkbox",type:this.opts.type.current,disabled:this.trueDisabled,"aria-checked":YP(this.opts.checked.current,this.opts.indeterminate.current),"aria-required":$P(this.trueRequired),"data-disabled":Ip(this.trueDisabled),"data-state":sO(this.opts.checked.current,this.opts.indeterminate.current),[rO.root]:"",onclick:this.onclick,onkeydown:this.onkeydown,...this.attachment}));get props(){return w(this.#i)}set props(e){G(this.#i,e)}}class eg{static create(){return new eg(b_.get())}root;#e=q(()=>this.root.group?!!(this.root.opts.value.current!==void 0&&this.root.group.opts.value.current.includes(this.root.opts.value.current)):this.root.opts.checked.current);get trueChecked(){return w(this.#e)}set trueChecked(e){G(this.#e,e)}#t=q(()=>!!this.root.trueName);get shouldRender(){return w(this.#t)}set shouldRender(e){G(this.#t,e)}constructor(e){this.root=e}#n=q(()=>({type:"checkbox",checked:this.root.opts.checked.current===!0,disabled:this.root.trueDisabled,required:this.root.trueRequired,name:this.root.trueName,value:this.root.opts.value.current}));get props(){return w(this.#n)}set props(e){G(this.#n,e)}}function sO(n,e){return e?"indeterminate":n?"checked":"unchecked"}var oO=de("<input/>"),aO=de("<input/>");function lO(n,e){be(e,!0);let t=F(e,"value",15),r=Re(e,["$$slots","$$events","$$legacy","value"]);const i=q(()=>en(r,{"aria-hidden":"true",tabindex:-1,style:CP}));var s=te(),o=j(s);{var a=c=>{var u=oO();wu(u),St(u,()=>({...w(i),value:t()})),I(c,u)},l=c=>{var u=aO();wu(u),St(u,()=>({...w(i)})),_a(u,t),I(c,u)};xe(o,c=>{w(i).type==="checkbox"?c(a):c(l,!1)})}I(n,s),ve()}function cO(n,e){be(e,!1);const t=eg.create();Cf();var r=te(),i=j(r);{var s=o=>{lO(o,Ve(()=>t.props))};xe(i,o=>{t.shouldRender&&o(s)})}I(n,r),ve()}var uO=de("<button><!></button>"),dO=de("<!> <!>",1);function hO(n,e){const t=Er();be(e,!0);let r=F(e,"checked",15,!1),i=F(e,"ref",15,null),s=F(e,"disabled",3,!1),o=F(e,"required",3,!1),a=F(e,"name",3,void 0),l=F(e,"value",3,"on"),c=F(e,"id",19,()=>Ar(t)),u=F(e,"indeterminate",15,!1),d=F(e,"type",3,"button"),h=Re(e,["$$slots","$$events","$$legacy","checked","ref","onCheckedChange","children","disabled","required","name","value","id","indeterminate","onIndeterminateChange","child","type"]);const f=iO.getOr(null);f&&l()&&(f.opts.value.current.includes(l())?r(!0):r(!1)),Bn.pre(()=>l(),()=>{f&&l()&&(f.opts.value.current.includes(l())?r(!0):r(!1))});const g=Jp.create({checked:ge.with(()=>r(),C=>{r(C),e.onCheckedChange?.(C)}),disabled:ge.with(()=>s()??!1),required:ge.with(()=>o()),name:ge.with(()=>a()),value:ge.with(()=>l()),id:ge.with(()=>c()),ref:ge.with(()=>i(),C=>i(C)),indeterminate:ge.with(()=>u(),C=>{u(C),e.onIndeterminateChange?.(C)}),type:ge.with(()=>d())},f),m=q(()=>en({...h},g.props));var y=dO(),v=j(y);{var A=C=>{var x=te(),N=j(x);{let D=q(()=>({props:w(m),...g.snippetProps}));Se(N,()=>e.child,()=>w(D))}I(C,x)},E=C=>{var x=uO();St(x,()=>({...w(m)}));var N=he(x);Se(N,()=>e.children??Te,()=>g.snippetProps),ue(x),I(C,x)};xe(v,C=>{e.child?C(A):C(E,!1)})}var S=Ne(v,2);cO(S,{}),I(n,y),ve()}const fO=["top","right","bottom","left"],lo=Math.min,gi=Math.max,cd=Math.round,ud=Math.floor,rs=n=>({x:n,y:n}),pO={left:"right",right:"left",bottom:"top",top:"bottom"},gO={start:"end",end:"start"};function tg(n,e,t){return gi(n,lo(e,t))}function Ds(n,e){return typeof n=="function"?n(e):n}function Ls(n){return n.split("-")[0]}function Ua(n){return n.split("-")[1]}function ng(n){return n==="x"?"y":"x"}function rg(n){return n==="y"?"height":"width"}const mO=new Set(["top","bottom"]);function is(n){return mO.has(Ls(n))?"y":"x"}function ig(n){return ng(is(n))}function bO(n,e,t){t===void 0&&(t=!1);const r=Ua(n),i=ig(n),s=rg(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=dd(o)),[o,dd(o)]}function vO(n){const e=dd(n);return[sg(n),e,sg(e)]}function sg(n){return n.replace(/start|end/g,e=>gO[e])}const v_=["left","right"],y_=["right","left"],yO=["top","bottom"],wO=["bottom","top"];function _O(n,e,t){switch(n){case"top":case"bottom":return t?e?y_:v_:e?v_:y_;case"left":case"right":return e?yO:wO;default:return[]}}function xO(n,e,t,r){const i=Ua(n);let s=_O(Ls(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(sg)))),s}function dd(n){return n.replace(/left|right|bottom|top/g,e=>pO[e])}function EO(n){return{top:0,right:0,bottom:0,left:0,...n}}function w_(n){return typeof n!="number"?EO(n):{top:n,right:n,bottom:n,left:n}}function hd(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function __(n,e,t){let{reference:r,floating:i}=n;const s=is(e),o=ig(e),a=rg(o),l=Ls(e),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(Ua(e)){case"start":f[o]-=h*(t&&c?-1:1);break;case"end":f[o]+=h*(t&&c?-1:1);break}return f}const AO=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:d}=__(c,r,l),h=r,f={},g=0;for(let m=0;m<a.length;m++){const{name:y,fn:v}=a[m],{x:A,y:E,data:S,reset:C}=await v({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:c,platform:o,elements:{reference:n,floating:e}});u=A??u,d=E??d,f={...f,[y]:{...f[y],...S}},C&&g<=50&&(g++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):C.rects),{x:u,y:d}=__(c,h,l)),m=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}};async function Xl(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Ds(e,n),g=w_(f),y=a[h?d==="floating"?"reference":"floating":d],v=hd(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(y)))==null||t?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),A=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),S=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},C=hd(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:A,offsetParent:E,strategy:l}):A);return{top:(v.top-C.top+g.top)/S.y,bottom:(C.bottom-v.bottom+g.bottom)/S.y,left:(v.left-C.left+g.left)/S.x,right:(C.right-v.right+g.right)/S.x}}const SO=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Ds(n,e)||{};if(c==null)return{};const d=w_(u),h={x:t,y:r},f=ig(i),g=rg(f),m=await o.getDimensions(c),y=f==="y",v=y?"top":"left",A=y?"bottom":"right",E=y?"clientHeight":"clientWidth",S=s.reference[g]+s.reference[f]-h[f]-s.floating[g],C=h[f]-s.reference[f],x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let N=x?x[E]:0;(!N||!await(o.isElement==null?void 0:o.isElement(x)))&&(N=a.floating[E]||s.floating[g]);const D=S/2-C/2,V=N/2-m[g]/2-1,O=lo(d[v],V),K=lo(d[A],V),B=O,U=N-m[g]-K,L=N/2-m[g]/2+D,W=tg(B,L,U),H=!l.arrow&&Ua(i)!=null&&L!==W&&s.reference[g]/2-(L<B?O:K)-m[g]/2<0,Q=H?L<B?L-B:L-U:0;return{[f]:h[f]+Q,data:{[f]:W,centerOffset:L-W-Q,...H&&{alignmentOffset:Q}},reset:H}}}),kO=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...y}=Ds(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const v=Ls(i),A=is(a),E=Ls(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=h||(E||!m?[dd(a)]:vO(a)),x=g!=="none";!h&&x&&C.push(...xO(a,m,g,S));const N=[a,...C],D=await Xl(e,y),V=[];let O=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&V.push(D[v]),d){const L=bO(i,o,S);V.push(D[L[0]],D[L[1]])}if(O=[...O,{placement:i,overflows:V}],!V.every(L=>L<=0)){var K,B;const L=(((K=s.flip)==null?void 0:K.index)||0)+1,W=N[L];if(W&&(!(d==="alignment"?A!==is(W):!1)||O.every(X=>X.overflows[0]>0&&is(X.placement)===A)))return{data:{index:L,overflows:O},reset:{placement:W}};let H=(B=O.filter(Q=>Q.overflows[0]<=0).sort((Q,X)=>Q.overflows[1]-X.overflows[1])[0])==null?void 0:B.placement;if(!H)switch(f){case"bestFit":{var U;const Q=(U=O.filter(X=>{if(x){const le=is(X.placement);return le===A||le==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(le=>le>0).reduce((le,R)=>le+R,0)]).sort((X,le)=>X[1]-le[1])[0])==null?void 0:U[0];Q&&(H=Q);break}case"initialPlacement":H=a;break}if(i!==H)return{reset:{placement:H}}}return{}}}};function x_(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function E_(n){return fO.some(e=>n[e]>=0)}const CO=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Ds(n,e);switch(r){case"referenceHidden":{const s=await Xl(e,{...i,elementContext:"reference"}),o=x_(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:E_(o)}}}case"escaped":{const s=await Xl(e,{...i,altBoundary:!0}),o=x_(s,t.floating);return{data:{escapedOffsets:o,escaped:E_(o)}}}default:return{}}}}},A_=new Set(["left","top"]);async function TO(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ls(t),a=Ua(t),l=is(t)==="y",c=A_.has(o)?-1:1,u=s&&l?-1:1,d=Ds(e,n);let{mainAxis:h,crossAxis:f,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof g=="number"&&(f=a==="end"?g*-1:g),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const NO=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await TO(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},IO=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:v,y:A}=y;return{x:v,y:A}}},...l}=Ds(n,e),c={x:t,y:r},u=await Xl(e,l),d=is(Ls(i)),h=ng(d);let f=c[h],g=c[d];if(s){const y=h==="y"?"top":"left",v=h==="y"?"bottom":"right",A=f+u[y],E=f-u[v];f=tg(A,f,E)}if(o){const y=d==="y"?"top":"left",v=d==="y"?"bottom":"right",A=g+u[y],E=g-u[v];g=tg(A,g,E)}const m=a.fn({...e,[h]:f,[d]:g});return{...m,data:{x:m.x-t,y:m.y-r,enabled:{[h]:s,[d]:o}}}}}},PO=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Ds(n,e),u={x:t,y:r},d=is(i),h=ng(d);let f=u[h],g=u[d];const m=Ds(a,e),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const E=h==="y"?"height":"width",S=s.reference[h]-s.floating[E]+y.mainAxis,C=s.reference[h]+s.reference[E]-y.mainAxis;f<S?f=S:f>C&&(f=C)}if(c){var v,A;const E=h==="y"?"width":"height",S=A_.has(Ls(i)),C=s.reference[d]-s.floating[E]+(S&&((v=o.offset)==null?void 0:v[d])||0)+(S?0:y.crossAxis),x=s.reference[d]+s.reference[E]+(S?0:((A=o.offset)==null?void 0:A[d])||0)-(S?y.crossAxis:0);g<C?g=C:g>x&&(g=x)}return{[h]:f,[d]:g}}}},RO=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Ds(n,e),u=await Xl(e,c),d=Ls(i),h=Ua(i),f=is(i)==="y",{width:g,height:m}=s.floating;let y,v;d==="top"||d==="bottom"?(y=d,v=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,y=h==="end"?"top":"bottom");const A=m-u.top-u.bottom,E=g-u.left-u.right,S=lo(m-u[y],A),C=lo(g-u[v],E),x=!e.middlewareData.shift;let N=S,D=C;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(D=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=A),x&&!h){const O=gi(u.left,0),K=gi(u.right,0),B=gi(u.top,0),U=gi(u.bottom,0);f?D=g-2*(O!==0||K!==0?O+K:gi(u.left,u.right)):N=m-2*(B!==0||U!==0?B+U:gi(u.top,u.bottom))}await l({...e,availableWidth:D,availableHeight:N});const V=await o.getDimensions(a.floating);return g!==V.width||m!==V.height?{reset:{rects:!0}}:{}}}};function fd(){return typeof window<"u"}function Ha(n){return S_(n)?(n.nodeName||"").toLowerCase():"#document"}function mi(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function ss(n){var e;return(e=(S_(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function S_(n){return fd()?n instanceof Node||n instanceof mi(n).Node:!1}function qi(n){return fd()?n instanceof Element||n instanceof mi(n).Element:!1}function os(n){return fd()?n instanceof HTMLElement||n instanceof mi(n).HTMLElement:!1}function k_(n){return!fd()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof mi(n).ShadowRoot}const OO=new Set(["inline","contents"]);function Zl(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Wi(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!OO.has(i)}const MO=new Set(["table","td","th"]);function DO(n){return MO.has(Ha(n))}const LO=[":popover-open",":modal"];function pd(n){return LO.some(e=>{try{return n.matches(e)}catch{return!1}})}const FO=["transform","translate","scale","rotate","perspective"],BO=["transform","translate","scale","rotate","perspective","filter"],zO=["paint","layout","strict","content"];function og(n){const e=ag(),t=qi(n)?Wi(n):n;return FO.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||BO.some(r=>(t.willChange||"").includes(r))||zO.some(r=>(t.contain||"").includes(r))}function UO(n){let e=co(n);for(;os(e)&&!Ga(e);){if(og(e))return e;if(pd(e))return null;e=co(e)}return null}function ag(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const HO=new Set(["html","body","#document"]);function Ga(n){return HO.has(Ha(n))}function Wi(n){return mi(n).getComputedStyle(n)}function gd(n){return qi(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function co(n){if(Ha(n)==="html")return n;const e=n.assignedSlot||n.parentNode||k_(n)&&n.host||ss(n);return k_(e)?e.host:e}function C_(n){const e=co(n);return Ga(e)?n.ownerDocument?n.ownerDocument.body:n.body:os(e)&&Zl(e)?e:C_(e)}function Ql(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=C_(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=mi(i);if(s){const a=lg(o);return e.concat(o,o.visualViewport||[],Zl(i)?i:[],a&&t?Ql(a):[])}return e.concat(i,Ql(i,[],t))}function lg(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function T_(n){const e=Wi(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=os(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=cd(t)!==s||cd(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function cg(n){return qi(n)?n:n.contextElement}function Va(n){const e=cg(n);if(!os(e))return rs(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=T_(e);let o=(s?cd(t.width):t.width)/r,a=(s?cd(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const GO=rs(0);function N_(n){const e=mi(n);return!ag()||!e.visualViewport?GO:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function VO(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==mi(n)?!1:e}function Go(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=cg(n);let o=rs(1);e&&(r?qi(r)&&(o=Va(r)):o=Va(n));const a=VO(s,t,r)?N_(s):rs(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const h=mi(s),f=r&&qi(r)?mi(r):r;let g=h,m=lg(g);for(;m&&r&&f!==g;){const y=Va(m),v=m.getBoundingClientRect(),A=Wi(m),E=v.left+(m.clientLeft+parseFloat(A.paddingLeft))*y.x,S=v.top+(m.clientTop+parseFloat(A.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,d*=y.y,l+=E,c+=S,g=mi(m),m=lg(g)}}return hd({width:u,height:d,x:l,y:c})}function ug(n,e){const t=gd(n).scrollLeft;return e?e.left+t:Go(ss(n)).left+t}function I_(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:ug(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function jO(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=ss(r),a=e?pd(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=rs(1);const u=rs(0),d=os(r);if((d||!d&&!s)&&((Ha(r)!=="body"||Zl(o))&&(l=gd(r)),os(r))){const f=Go(r);c=Va(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const h=o&&!d&&!s?I_(o,l,!0):rs(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:t.y*c.y-l.scrollTop*c.y+u.y+h.y}}function qO(n){return Array.from(n.getClientRects())}function WO(n){const e=ss(n),t=gd(n),r=n.ownerDocument.body,i=gi(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=gi(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+ug(n);const a=-t.scrollTop;return Wi(r).direction==="rtl"&&(o+=gi(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function KO(n,e){const t=mi(n),r=ss(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=ag();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}const $O=new Set(["absolute","fixed"]);function YO(n,e){const t=Go(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=os(n)?Va(n):rs(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function P_(n,e,t){let r;if(e==="viewport")r=KO(n,t);else if(e==="document")r=WO(ss(n));else if(qi(e))r=YO(e,t);else{const i=N_(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return hd(r)}function R_(n,e){const t=co(n);return t===e||!qi(t)||Ga(t)?!1:Wi(t).position==="fixed"||R_(t,e)}function XO(n,e){const t=e.get(n);if(t)return t;let r=Ql(n,[],!1).filter(a=>qi(a)&&Ha(a)!=="body"),i=null;const s=Wi(n).position==="fixed";let o=s?co(n):n;for(;qi(o)&&!Ga(o);){const a=Wi(o),l=og(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&$O.has(i.position)||Zl(o)&&!l&&R_(n,o))?r=r.filter(u=>u!==o):i=a,o=co(o)}return e.set(n,r),r}function ZO(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?pd(e)?[]:XO(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,u)=>{const d=P_(e,u,i);return c.top=gi(d.top,c.top),c.right=lo(d.right,c.right),c.bottom=lo(d.bottom,c.bottom),c.left=gi(d.left,c.left),c},P_(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function QO(n){const{width:e,height:t}=T_(n);return{width:e,height:t}}function JO(n,e,t){const r=os(e),i=ss(e),s=t==="fixed",o=Go(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=rs(0);function c(){l.x=ug(i)}if(r||!r&&!s)if((Ha(e)!=="body"||Zl(i))&&(a=gd(e)),r){const f=Go(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?I_(i,a):rs(0),d=o.left+a.scrollLeft-l.x-u.x,h=o.top+a.scrollTop-l.y-u.y;return{x:d,y:h,width:o.width,height:o.height}}function dg(n){return Wi(n).position==="static"}function O_(n,e){if(!os(n)||Wi(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return ss(n)===t&&(t=t.ownerDocument.body),t}function M_(n,e){const t=mi(n);if(pd(n))return t;if(!os(n)){let i=co(n);for(;i&&!Ga(i);){if(qi(i)&&!dg(i))return i;i=co(i)}return t}let r=O_(n,e);for(;r&&DO(r)&&dg(r);)r=O_(r,e);return r&&Ga(r)&&dg(r)&&!og(r)?t:r||UO(n)||t}const eM=async function(n){const e=this.getOffsetParent||M_,t=this.getDimensions,r=await t(n.floating);return{reference:JO(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function tM(n){return Wi(n).direction==="rtl"}const nM={convertOffsetParentRelativeRectToViewportRelativeRect:jO,getDocumentElement:ss,getClippingRect:ZO,getOffsetParent:M_,getElementRects:eM,getClientRects:qO,getDimensions:QO,getScale:Va,isElement:qi,isRTL:tM};function D_(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function rM(n,e){let t=null,r;const i=ss(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=n.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(a||e(),!h||!f)return;const g=ud(d),m=ud(i.clientWidth-(u+h)),y=ud(i.clientHeight-(d+f)),v=ud(u),E={rootMargin:-g+"px "+-m+"px "+-y+"px "+-v+"px",threshold:gi(0,lo(1,l))||1};let S=!0;function C(x){const N=x[0].intersectionRatio;if(N!==l){if(!S)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!D_(c,n.getBoundingClientRect())&&o(),S=!1}try{t=new IntersectionObserver(C,{...E,root:i.ownerDocument})}catch{t=new IntersectionObserver(C,E)}t.observe(n)}return o(!0),s}function iM(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=cg(n),u=i||s?[...c?Ql(c):[],...Ql(e)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",t,{passive:!0}),s&&v.addEventListener("resize",t)});const d=c&&a?rM(c,t):null;let h=-1,f=null;o&&(f=new ResizeObserver(v=>{let[A]=v;A&&A.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var E;(E=f)==null||E.observe(e)})),t()}),c&&!l&&f.observe(c),f.observe(e));let g,m=l?Go(n):null;l&&y();function y(){const v=Go(n);m&&!D_(m,v)&&t(),m=v,g=requestAnimationFrame(y)}return t(),()=>{var v;u.forEach(A=>{i&&A.removeEventListener("scroll",t),s&&A.removeEventListener("resize",t)}),d?.(),(v=f)==null||v.disconnect(),f=null,l&&cancelAnimationFrame(g)}}const sM=NO,oM=IO,aM=kO,lM=RO,cM=CO,uM=SO,dM=PO,hM=(n,e,t)=>{const r=new Map,i={platform:nM,...t},s={...i.platform,_c:r};return AO(n,e,{...i,platform:s})};function Vo(n){return typeof n=="function"?n():n}function L_(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function F_(n,e){const t=L_(n);return Math.round(e*t)/t}function B_(n){return{[`--bits-${n}-content-transform-origin`]:"var(--bits-floating-transform-origin)",[`--bits-${n}-content-available-width`]:"var(--bits-floating-available-width)",[`--bits-${n}-content-available-height`]:"var(--bits-floating-available-height)",[`--bits-${n}-anchor-width`]:"var(--bits-floating-anchor-width)",[`--bits-${n}-anchor-height`]:"var(--bits-floating-anchor-height)"}}function fM(n){const e=n.whileElementsMounted,t=q(()=>Vo(n.open)??!0),r=q(()=>Vo(n.middleware)),i=q(()=>Vo(n.transform)??!0),s=q(()=>Vo(n.placement)??"bottom"),o=q(()=>Vo(n.strategy)??"absolute"),a=q(()=>Vo(n.sideOffset)??0),l=q(()=>Vo(n.alignOffset)??0),c=n.reference;let u=_e(0),d=_e(0);const h=ge(null);let f=_e(Nn(w(o))),g=_e(Nn(w(s))),m=_e(Nn({})),y=_e(!1);const v=q(()=>{const N=h.current?F_(h.current,w(u)):w(u),D=h.current?F_(h.current,w(d)):w(d);return w(i)?{position:w(f),left:"0",top:"0",transform:`translate(${N}px, ${D}px)`,...h.current&&L_(h.current)>=1.5&&{willChange:"transform"}}:{position:w(f),left:`${N}px`,top:`${D}px`}});let A;function E(){c.current===null||h.current===null||hM(c.current,h.current,{middleware:w(r),placement:w(s),strategy:w(o)}).then(N=>{if(!w(t)&&w(u)!==0&&w(d)!==0){const D=Math.max(Math.abs(w(a)),Math.abs(w(l)),15);if(N.x<=D&&N.y<=D)return}G(u,N.x,!0),G(d,N.y,!0),G(f,N.strategy,!0),G(g,N.placement,!0),G(m,N.middlewareData,!0),G(y,!0)})}function S(){typeof A=="function"&&(A(),A=void 0)}function C(){if(S(),e===void 0){E();return}c.current===null||h.current===null||(A=e(c.current,h.current,E))}function x(){w(t)||G(y,!1)}return Tt(E),Tt(C),Tt(x),Tt(()=>S),{floating:h,reference:c,get strategy(){return w(f)},get placement(){return w(g)},get middlewareData(){return w(m)},get isPositioned(){return w(y)},get floatingStyles(){return w(v)},get update(){return E}}}const pM={top:"bottom",right:"left",bottom:"top",left:"right"},hg=new ri("Floating.Root"),fg=new ri("Floating.Content"),pg=new ri("Floating.Root");class md{static create(e=!1){return e?pg.set(new md):hg.set(new md)}anchorNode=ge(null);customAnchorNode=ge(null);triggerNode=ge(null);constructor(){Tt(()=>{this.customAnchorNode.current?typeof this.customAnchorNode.current=="string"?this.anchorNode.current=document.querySelector(this.customAnchorNode.current):this.anchorNode.current=this.customAnchorNode.current:this.anchorNode.current=this.triggerNode.current})}}class bd{static create(e,t=!1){return t?fg.set(new bd(e,pg.get())):fg.set(new bd(e,hg.get()))}opts;root;contentRef=ge(null);wrapperRef=ge(null);arrowRef=ge(null);contentAttachment=Xn(this.contentRef);wrapperAttachment=Xn(this.wrapperRef);arrowAttachment=Xn(this.arrowRef);arrowId=ge(Ba());#e=q(()=>{if(typeof this.opts.style=="string")return Kl(this.opts.style);if(!this.opts.style)return{}});#t=void 0;#n=new LP(()=>this.arrowRef.current??void 0);#r=q(()=>this.#n?.width??0);#s=q(()=>this.#n?.height??0);#i=q(()=>this.opts.side?.current+(this.opts.align.current!=="center"?`-${this.opts.align.current}`:""));#o=q(()=>Array.isArray(this.opts.collisionBoundary.current)?this.opts.collisionBoundary.current:[this.opts.collisionBoundary.current]);#a=q(()=>w(this.#o).length>0);get hasExplicitBoundaries(){return w(this.#a)}set hasExplicitBoundaries(e){G(this.#a,e)}#l=q(()=>({padding:this.opts.collisionPadding.current,boundary:w(this.#o).filter(pR),altBoundary:this.hasExplicitBoundaries}));get detectOverflowOptions(){return w(this.#l)}set detectOverflowOptions(e){G(this.#l,e)}#c=_e(void 0);#d=_e(void 0);#u=_e(void 0);#p=_e(void 0);#g=q(()=>[sM({mainAxis:this.opts.sideOffset.current+w(this.#s),alignmentAxis:this.opts.alignOffset.current}),this.opts.avoidCollisions.current&&oM({mainAxis:!0,crossAxis:!1,limiter:this.opts.sticky.current==="partial"?dM():void 0,...this.detectOverflowOptions}),this.opts.avoidCollisions.current&&aM({...this.detectOverflowOptions}),lM({...this.detectOverflowOptions,apply:({rects:e,availableWidth:t,availableHeight:r})=>{const{width:i,height:s}=e.reference;G(this.#c,t,!0),G(this.#d,r,!0),G(this.#u,i,!0),G(this.#p,s,!0)}}),this.arrowRef.current&&uM({element:this.arrowRef.current,padding:this.opts.arrowPadding.current}),gM({arrowWidth:w(this.#r),arrowHeight:w(this.#s)}),this.opts.hideWhenDetached.current&&cM({strategy:"referenceHidden",...this.detectOverflowOptions})].filter(Boolean));get middleware(){return w(this.#g)}set middleware(e){G(this.#g,e)}floating;#f=q(()=>mM(this.floating.placement));get placedSide(){return w(this.#f)}set placedSide(e){G(this.#f,e)}#h=q(()=>bM(this.floating.placement));get placedAlign(){return w(this.#h)}set placedAlign(e){G(this.#h,e)}#m=q(()=>this.floating.middlewareData.arrow?.x??0);get arrowX(){return w(this.#m)}set arrowX(e){G(this.#m,e)}#y=q(()=>this.floating.middlewareData.arrow?.y??0);get arrowY(){return w(this.#y)}set arrowY(e){G(this.#y,e)}#b=q(()=>this.floating.middlewareData.arrow?.centerOffset!==0);get cannotCenterArrow(){return w(this.#b)}set cannotCenterArrow(e){G(this.#b,e)}#w=_e();get contentZIndex(){return w(this.#w)}set contentZIndex(e){G(this.#w,e,!0)}#_=q(()=>pM[this.placedSide]);get arrowBaseSide(){return w(this.#_)}set arrowBaseSide(e){G(this.#_,e)}#v=q(()=>({id:this.opts.wrapperId.current,"data-bits-floating-content-wrapper":"",style:{...this.floating.floatingStyles,transform:this.floating.isPositioned?this.floating.floatingStyles.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:this.contentZIndex,"--bits-floating-transform-origin":`${this.floating.middlewareData.transformOrigin?.x} ${this.floating.middlewareData.transformOrigin?.y}`,"--bits-floating-available-width":`${w(this.#c)}px`,"--bits-floating-available-height":`${w(this.#d)}px`,"--bits-floating-anchor-width":`${w(this.#u)}px`,"--bits-floating-anchor-height":`${w(this.#p)}px`,...this.floating.middlewareData.hide?.referenceHidden&&{visibility:"hidden","pointer-events":"none"},...w(this.#e)},dir:this.opts.dir.current,...this.wrapperAttachment}));get wrapperProps(){return w(this.#v)}set wrapperProps(e){G(this.#v,e)}#E=q(()=>({"data-side":this.placedSide,"data-align":this.placedAlign,style:kp({...w(this.#e)}),...this.contentAttachment}));get props(){return w(this.#E)}set props(e){G(this.#E,e)}#k=q(()=>({position:"absolute",left:this.arrowX?`${this.arrowX}px`:void 0,top:this.arrowY?`${this.arrowY}px`:void 0,[this.arrowBaseSide]:0,"transform-origin":{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[this.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[this.placedSide],visibility:this.cannotCenterArrow?"hidden":void 0}));get arrowStyle(){return w(this.#k)}set arrowStyle(e){G(this.#k,e)}constructor(e,t){this.opts=e,this.root=t,e.customAnchor&&(this.root.customAnchorNode.current=e.customAnchor.current),Bn(()=>e.customAnchor.current,r=>{this.root.customAnchorNode.current=r}),this.floating=fM({strategy:()=>this.opts.strategy.current,placement:()=>w(this.#i),middleware:()=>this.middleware,reference:this.root.anchorNode,whileElementsMounted:(...r)=>iM(...r,{animationFrame:this.#t?.current==="always"}),open:()=>this.opts.enabled.current,sideOffset:()=>this.opts.sideOffset.current,alignOffset:()=>this.opts.alignOffset.current}),Tt(()=>{this.floating.isPositioned&&this.opts.onPlaced?.current()}),Bn(()=>this.contentRef.current,r=>{if(!r)return;const i=Xu(r);this.contentZIndex=i.getComputedStyle(r).zIndex}),Tt(()=>{this.floating.floating.current=this.wrapperRef.current})}}class gg{static create(e){return new gg(e,fg.get())}opts;content;constructor(e,t){this.opts=e,this.content=t}#e=q(()=>({id:this.opts.id.current,style:this.content.arrowStyle,"data-side":this.content.placedSide,...this.content.arrowAttachment}));get props(){return w(this.#e)}set props(e){G(this.#e,e)}}class vd{static create(e,t=!1){return t?new vd(e,pg.get()):new vd(e,hg.get())}opts;root;constructor(e,t){this.opts=e,this.root=t,e.virtualEl&&e.virtualEl.current?t.triggerNode=ge.from(e.virtualEl.current):t.triggerNode=e.ref}}function gM(n){return{name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[c,u]=mg(t),d={start:"0%",center:"50%",end:"100%"}[u],h=(i.arrow?.x??0)+a/2,f=(i.arrow?.y??0)+l/2;let g="",m="";return c==="bottom"?(g=o?d:`${h}px`,m=`${-l}px`):c==="top"?(g=o?d:`${h}px`,m=`${r.floating.height+l}px`):c==="right"?(g=`${-l}px`,m=o?d:`${f}px`):c==="left"&&(g=`${r.floating.width+l}px`,m=o?d:`${f}px`),{data:{x:g,y:m}}}}}function mg(n){const[e,t="center"]=n.split("-");return[e,t]}function mM(n){return mg(n)[0]}function bM(n){return mg(n)[1]}function vM(n,e){be(e,!0);let t=F(e,"tooltip",3,!1);md.create(t());var r=te(),i=j(r);Se(i,()=>e.children??Te),I(n,r),ve()}const yM={afterMs:1e4,onChange:bn};function wM(n,e){const{afterMs:t,onChange:r,getWindow:i}={...yM,...e};let s=null,o=_e(Nn(n));function a(){return i().setTimeout(()=>{G(o,n,!0),r?.(n)},t)}return Tt(()=>()=>{s&&i().clearTimeout(s)}),ge.with(()=>w(o),l=>{G(o,l,!0),r?.(l),s&&i().clearTimeout(s),s=a()})}function _M(n,e){be(e,!0);let t=F(e,"tooltip",3,!1);vd.create({id:ge.with(()=>e.id),virtualEl:ge.with(()=>e.virtualEl),ref:e.ref},t());var r=te(),i=j(r);Se(i,()=>e.children??Te),I(n,r),ve()}var xM=Oo('<svg viewBox="0 0 30 10" preserveAspectRatio="none" data-arrow=""><polygon points="0,0 30,0 15,10" fill="currentColor"></polygon></svg>'),EM=de("<span><!></span>");function AM(n,e){be(e,!0);let t=F(e,"id",19,Ba),r=F(e,"width",3,10),i=F(e,"height",3,5),s=Re(e,["$$slots","$$events","$$legacy","id","children","child","width","height"]);const o=q(()=>en(s,{id:t()}));var a=te(),l=j(a);{var c=d=>{var h=te(),f=j(h);Se(f,()=>e.child,()=>({props:w(o)})),I(d,h)},u=d=>{var h=EM();St(h,()=>({...w(o)}));var f=he(h);{var g=y=>{var v=te(),A=j(v);Se(A,()=>e.children??Te),I(y,v)},m=y=>{var v=xM();ft(()=>{Ct(v,"width",r()),Ct(v,"height",i())}),I(y,v)};xe(f,y=>{e.children?y(g):y(m,!1)})}ue(h),I(d,h)};xe(l,d=>{e.child?d(c):d(u,!1)})}I(n,a),ve()}function SM(n,e){be(e,!0);let t=F(e,"id",19,Ba),r=F(e,"ref",15,null),i=Re(e,["$$slots","$$events","$$legacy","id","ref"]);const s=gg.create({id:ge.with(()=>t()),ref:ge.with(()=>r(),a=>r(a))}),o=q(()=>en(i,s.props));AM(n,Ve(()=>w(o))),ve()}function kM(n,e){be(e,!0);let t=F(e,"side",3,"bottom"),r=F(e,"sideOffset",3,0),i=F(e,"align",3,"center"),s=F(e,"alignOffset",3,0),o=F(e,"arrowPadding",3,0),a=F(e,"avoidCollisions",3,!0),l=F(e,"collisionBoundary",19,()=>[]),c=F(e,"collisionPadding",3,0),u=F(e,"hideWhenDetached",3,!1),d=F(e,"onPlaced",3,()=>{}),h=F(e,"sticky",3,"partial"),f=F(e,"updatePositionStrategy",3,"optimized"),g=F(e,"strategy",3,"fixed"),m=F(e,"dir",3,"ltr"),y=F(e,"style",19,()=>({})),v=F(e,"wrapperId",19,Ba),A=F(e,"customAnchor",3,null),E=F(e,"tooltip",3,!1);const S=bd.create({side:ge.with(()=>t()),sideOffset:ge.with(()=>r()),align:ge.with(()=>i()),alignOffset:ge.with(()=>s()),id:ge.with(()=>e.id),arrowPadding:ge.with(()=>o()),avoidCollisions:ge.with(()=>a()),collisionBoundary:ge.with(()=>l()),collisionPadding:ge.with(()=>c()),hideWhenDetached:ge.with(()=>u()),onPlaced:ge.with(()=>d()),sticky:ge.with(()=>h()),updatePositionStrategy:ge.with(()=>f()),strategy:ge.with(()=>g()),dir:ge.with(()=>m()),style:ge.with(()=>y()),enabled:ge.with(()=>e.enabled),wrapperId:ge.with(()=>v()),customAnchor:ge.with(()=>A())},E()),C=q(()=>en(S.wrapperProps,{style:{pointerEvents:"auto"}}));var x=te(),N=j(x);Se(N,()=>e.content??Te,()=>({props:S.props,wrapperProps:w(C)})),I(n,x),ve()}function CM(n,e){be(e,!0),ji(()=>{e.onPlaced?.()});var t=te(),r=j(t);Se(r,()=>e.content??Te,()=>({props:{},wrapperProps:{}})),I(n,t),ve()}function TM(n,e){let t=F(e,"isStatic",3,!1),r=Re(e,["$$slots","$$events","$$legacy","content","isStatic","onPlaced"]);var i=te(),s=j(i);{var o=l=>{CM(l,{get content(){return e.content},get onPlaced(){return e.onPlaced}})},a=l=>{kM(l,Ve({get content(){return e.content},get onPlaced(){return e.onPlaced}},()=>r))};xe(s,l=>{t()?l(o):l(a,!1)})}I(n,i)}var NM=de("<!> <!>",1);function z_(n,e){be(e,!0);let t=F(e,"interactOutsideBehavior",3,"close"),r=F(e,"trapFocus",3,!0),i=F(e,"isValidEvent",3,()=>!1),s=F(e,"customAnchor",3,null),o=F(e,"isStatic",3,!1),a=F(e,"tooltip",3,!1),l=Re(e,["$$slots","$$events","$$legacy","popper","onEscapeKeydown","escapeKeydownBehavior","preventOverflowTextSelection","id","onPointerDown","onPointerUp","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","strategy","dir","preventScroll","wrapperId","style","onPlaced","onInteractOutside","onCloseAutoFocus","onOpenAutoFocus","onFocusOutside","interactOutsideBehavior","loop","trapFocus","isValidEvent","customAnchor","isStatic","enabled","ref","tooltip"]);TM(n,{get isStatic(){return o()},get id(){return e.id},get side(){return e.side},get sideOffset(){return e.sideOffset},get align(){return e.align},get alignOffset(){return e.alignOffset},get arrowPadding(){return e.arrowPadding},get avoidCollisions(){return e.avoidCollisions},get collisionBoundary(){return e.collisionBoundary},get collisionPadding(){return e.collisionPadding},get sticky(){return e.sticky},get hideWhenDetached(){return e.hideWhenDetached},get updatePositionStrategy(){return e.updatePositionStrategy},get strategy(){return e.strategy},get dir(){return e.dir},get wrapperId(){return e.wrapperId},get style(){return e.style},get onPlaced(){return e.onPlaced},get customAnchor(){return s()},get enabled(){return e.enabled},get tooltip(){return a()},content:(u,d)=>{let h=()=>d?.().props,f=()=>d?.().wrapperProps;var g=NM(),m=j(g);{var y=E=>{za(E,{get preventScroll(){return e.preventScroll}})},v=E=>{var S=te(),C=j(S);{var x=N=>{za(N,{get preventScroll(){return e.preventScroll}})};xe(C,N=>{e.forceMount||N(x)},!0)}I(E,S)};xe(m,E=>{e.forceMount&&e.enabled?E(y):E(v,!1)})}var A=Ne(m,2);Yp(A,{get onOpenAutoFocus(){return e.onOpenAutoFocus},get onCloseAutoFocus(){return e.onCloseAutoFocus},get loop(){return e.loop},get enabled(){return e.enabled},get trapFocus(){return r()},get forceMount(){return e.forceMount},get ref(){return e.ref},focusScope:(S,C)=>{let x=()=>C?.().props;qp(S,{get onEscapeKeydown(){return e.onEscapeKeydown},get escapeKeydownBehavior(){return e.escapeKeydownBehavior},get enabled(){return e.enabled},get ref(){return e.ref},children:(N,D)=>{{const V=(O,K)=>{let B=()=>K?.().props;Zp(O,{get id(){return e.id},get preventOverflowTextSelection(){return e.preventOverflowTextSelection},get onPointerDown(){return e.onPointerDown},get onPointerUp(){return e.onPointerUp},get enabled(){return e.enabled},get ref(){return e.ref},children:(U,L)=>{var W=te(),H=j(W);{let Q=q(()=>({props:en(l,h(),B(),x(),{style:{pointerEvents:"auto"}}),wrapperProps:f()}));Se(H,()=>e.popper??Te,()=>w(Q))}I(U,W)},$$slots:{default:!0}})};Vp(N,{get id(){return e.id},get onInteractOutside(){return e.onInteractOutside},get onFocusOutside(){return e.onFocusOutside},get interactOutsideBehavior(){return t()},isValidEvent:i(),get enabled(){return e.enabled},get ref(){return e.ref},children:V,$$slots:{default:!0}})}},$$slots:{default:!0}})},$$slots:{focusScope:!0}}),I(u,g)},$$slots:{content:!0}}),ve()}function IM(n,e){let t=F(e,"interactOutsideBehavior",3,"close"),r=F(e,"trapFocus",3,!0),i=F(e,"isValidEvent",3,()=>!1),s=F(e,"customAnchor",3,null),o=F(e,"isStatic",3,!1),a=Re(e,["$$slots","$$events","$$legacy","popper","open","onEscapeKeydown","escapeKeydownBehavior","preventOverflowTextSelection","id","onPointerDown","onPointerUp","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","strategy","dir","preventScroll","wrapperId","style","onPlaced","onInteractOutside","onCloseAutoFocus","onOpenAutoFocus","onFocusOutside","interactOutsideBehavior","loop","trapFocus","isValidEvent","customAnchor","isStatic","ref"]);ao(n,{get open(){return e.open},get ref(){return e.ref},presence:c=>{z_(c,Ve({get popper(){return e.popper},get onEscapeKeydown(){return e.onEscapeKeydown},get escapeKeydownBehavior(){return e.escapeKeydownBehavior},get preventOverflowTextSelection(){return e.preventOverflowTextSelection},get id(){return e.id},get onPointerDown(){return e.onPointerDown},get onPointerUp(){return e.onPointerUp},get side(){return e.side},get sideOffset(){return e.sideOffset},get align(){return e.align},get alignOffset(){return e.alignOffset},get arrowPadding(){return e.arrowPadding},get avoidCollisions(){return e.avoidCollisions},get collisionBoundary(){return e.collisionBoundary},get collisionPadding(){return e.collisionPadding},get sticky(){return e.sticky},get hideWhenDetached(){return e.hideWhenDetached},get updatePositionStrategy(){return e.updatePositionStrategy},get strategy(){return e.strategy},get dir(){return e.dir},get preventScroll(){return e.preventScroll},get wrapperId(){return e.wrapperId},get style(){return e.style},get onPlaced(){return e.onPlaced},get customAnchor(){return s()},get isStatic(){return o()},get enabled(){return e.open},get onInteractOutside(){return e.onInteractOutside},get onCloseAutoFocus(){return e.onCloseAutoFocus},get onOpenAutoFocus(){return e.onOpenAutoFocus},get interactOutsideBehavior(){return t()},get loop(){return e.loop},get trapFocus(){return r()},isValidEvent:i(),get onFocusOutside(){return e.onFocusOutside},forceMount:!1,get ref(){return e.ref}},()=>a))},$$slots:{presence:!0}})}function PM(n,e){let t=F(e,"interactOutsideBehavior",3,"close"),r=F(e,"trapFocus",3,!0),i=F(e,"isValidEvent",3,()=>!1),s=F(e,"customAnchor",3,null),o=F(e,"isStatic",3,!1),a=Re(e,["$$slots","$$events","$$legacy","popper","onEscapeKeydown","escapeKeydownBehavior","preventOverflowTextSelection","id","onPointerDown","onPointerUp","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","strategy","dir","preventScroll","wrapperId","style","onPlaced","onInteractOutside","onCloseAutoFocus","onOpenAutoFocus","onFocusOutside","interactOutsideBehavior","loop","trapFocus","isValidEvent","customAnchor","isStatic","enabled"]);z_(n,Ve({get popper(){return e.popper},get onEscapeKeydown(){return e.onEscapeKeydown},get escapeKeydownBehavior(){return e.escapeKeydownBehavior},get preventOverflowTextSelection(){return e.preventOverflowTextSelection},get id(){return e.id},get onPointerDown(){return e.onPointerDown},get onPointerUp(){return e.onPointerUp},get side(){return e.side},get sideOffset(){return e.sideOffset},get align(){return e.align},get alignOffset(){return e.alignOffset},get arrowPadding(){return e.arrowPadding},get avoidCollisions(){return e.avoidCollisions},get collisionBoundary(){return e.collisionBoundary},get collisionPadding(){return e.collisionPadding},get sticky(){return e.sticky},get hideWhenDetached(){return e.hideWhenDetached},get updatePositionStrategy(){return e.updatePositionStrategy},get strategy(){return e.strategy},get dir(){return e.dir},get preventScroll(){return e.preventScroll},get wrapperId(){return e.wrapperId},get style(){return e.style},get onPlaced(){return e.onPlaced},get customAnchor(){return s()},get isStatic(){return o()},get enabled(){return e.enabled},get onInteractOutside(){return e.onInteractOutside},get onCloseAutoFocus(){return e.onCloseAutoFocus},get onOpenAutoFocus(){return e.onOpenAutoFocus},get interactOutsideBehavior(){return t()},get loop(){return e.loop},get trapFocus(){return r()},isValidEvent:i(),get onFocusOutside(){return e.onFocusOutside}},()=>a,{forceMount:!0}))}class RM{#e;#t;#n;#r=_e(null);constructor(e){this.#e=e,this.#t=q(()=>this.#e.enabled()),this.#n=wM(!1,{afterMs:e.transitTimeout??300,onChange:t=>{w(this.#t)&&this.#e.setIsPointerInTransit?.(t)},getWindow:()=>Xu(this.#e.triggerNode())}),Bn([e.triggerNode,e.contentNode,e.enabled],([t,r,i])=>{if(!t||!r||!i)return;const s=a=>{this.#i(a,r)},o=a=>{this.#i(a,t)};return oo(vn(t,"pointerleave",s),vn(r,"pointerleave",o))}),Bn(()=>w(this.#r),()=>{const t=i=>{if(!w(this.#r))return;const s=i.target;if(!Hp(s))return;const o={x:i.clientX,y:i.clientY},a=e.triggerNode()?.contains(s)||e.contentNode()?.contains(s),l=!LM(o,w(this.#r));a?this.#s():l&&(this.#s(),e.onPointerExit())},r=Zw(e.triggerNode()??e.contentNode());if(r)return vn(r,"pointermove",t)})}#s(){G(this.#r,null),this.#n.current=!1}#i(e,t){const r=e.currentTarget;if(!Up(r))return;const i={x:e.clientX,y:e.clientY},s=OM(i,r.getBoundingClientRect()),o=MM(i,s),a=DM(t.getBoundingClientRect()),l=FM([...o,...a]);G(this.#r,l,!0),this.#n.current=!0}}function OM(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,r,i,s)){case s:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function MM(n,e,t=5){const r=t*1.5;switch(e){case"top":return[{x:n.x-t,y:n.y+t},{x:n.x,y:n.y-r},{x:n.x+t,y:n.y+t}];case"bottom":return[{x:n.x-t,y:n.y-t},{x:n.x,y:n.y+r},{x:n.x+t,y:n.y-t}];case"left":return[{x:n.x+t,y:n.y-t},{x:n.x-r,y:n.y},{x:n.x+t,y:n.y+t}];case"right":return[{x:n.x-t,y:n.y-t},{x:n.x+r,y:n.y},{x:n.x-t,y:n.y+t}]}}function DM(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function LM(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,u=e[o].y;l>r!=u>r&&t<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function FM(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),BM(e)}function BM(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}function U_(n,e){be(e,!0);let t=F(e,"open",15,!1),r=F(e,"onOpenChange",3,bn),i=F(e,"onOpenChangeComplete",3,bn);nd.create({variant:ge.with(()=>"dialog"),open:ge.with(()=>t(),a=>{t(a),r()(a)}),onOpenChangeComplete:ge.with(()=>i())});var s=te(),o=j(s);Se(o,()=>e.children??Te),I(n,s),ve()}var zM=de("<button><!></button>");function H_(n,e){const t=Er();be(e,!0);let r=F(e,"id",19,()=>Ar(t)),i=F(e,"ref",15,null),s=F(e,"disabled",3,!1),o=Re(e,["$$slots","$$events","$$legacy","children","child","id","ref","disabled"]);const a=Rp.create({variant:ge.with(()=>"close"),id:ge.with(()=>r()),ref:ge.with(()=>i(),f=>i(f)),disabled:ge.with(()=>!!s())}),l=q(()=>en(o,a.props));var c=te(),u=j(c);{var d=f=>{var g=te(),m=j(g);Se(m,()=>e.child,()=>({props:w(l)})),I(f,g)},h=f=>{var g=zM();St(g,()=>({...w(l)}));var m=he(g);Se(m,()=>e.children??Te),ue(g),I(f,g)};xe(u,f=>{e.child?f(d):f(h,!1)})}I(n,c),ve()}var UM=de("<!> <!>",1),HM=de("<!> <div><!></div>",1);function G_(n,e){const t=Er();be(e,!0);let r=F(e,"id",19,()=>Ar(t)),i=F(e,"ref",15,null),s=F(e,"forceMount",3,!1),o=F(e,"onCloseAutoFocus",3,bn),a=F(e,"onOpenAutoFocus",3,bn),l=F(e,"onEscapeKeydown",3,bn),c=F(e,"onInteractOutside",3,bn),u=F(e,"trapFocus",3,!0),d=F(e,"preventScroll",3,!0),h=F(e,"restoreScrollDelay",3,null),f=Re(e,["$$slots","$$events","$$legacy","id","children","child","ref","forceMount","onCloseAutoFocus","onOpenAutoFocus","onEscapeKeydown","onInteractOutside","trapFocus","preventScroll","restoreScrollDelay"]);const g=rd.create({id:ge.with(()=>r()),ref:ge.with(()=>i(),y=>i(y))}),m=q(()=>en(f,g.props));{const y=A=>{{const E=(C,x)=>{let N=()=>x?.().props;qp(C,Ve(()=>w(m),{get enabled(){return g.root.opts.open.current},get ref(){return g.opts.ref},onEscapeKeydown:D=>{l()(D),!D.defaultPrevented&&g.root.handleClose()},children:(D,V)=>{Vp(D,Ve(()=>w(m),{get ref(){return g.opts.ref},get enabled(){return g.root.opts.open.current},onInteractOutside:O=>{c()(O),!O.defaultPrevented&&g.root.handleClose()},children:(O,K)=>{Zp(O,Ve(()=>w(m),{get ref(){return g.opts.ref},get enabled(){return g.root.opts.open.current},children:(B,U)=>{var L=te(),W=j(L);{var H=X=>{var le=UM(),R=j(le);{var Ae=M=>{za(M,{get preventScroll(){return d()},get restoreScrollDelay(){return h()}})};xe(R,M=>{g.root.opts.open.current&&M(Ae)})}var ke=Ne(R,2);{let M=q(()=>({props:en(w(m),N()),...g.snippetProps}));Se(ke,()=>e.child,()=>w(M))}I(X,le)},Q=X=>{var le=HM(),R=j(le);za(R,{get preventScroll(){return d()}});var Ae=Ne(R,2);St(Ae,M=>({...M}),[()=>en(w(m),N())]);var ke=he(Ae);Se(ke,()=>e.children??Te),ue(Ae),I(X,le)};xe(W,X=>{e.child?X(H):X(Q,!1)})}I(B,L)},$$slots:{default:!0}}))},$$slots:{default:!0}}))},$$slots:{default:!0}}))};let S=q(()=>g_({forceMount:s(),present:g.root.opts.open.current,open:g.root.opts.open.current}));Yp(A,{get ref(){return g.opts.ref},loop:!0,get trapFocus(){return u()},get enabled(){return w(S)},get onOpenAutoFocus(){return a()},onCloseAutoFocus:C=>{o()(C),!C.defaultPrevented&&$l(1,()=>g.root.triggerNode?.focus())},focusScope:E,$$slots:{focusScope:!0}})}};let v=q(()=>g.root.opts.open.current||s());ao(n,Ve(()=>w(m),{get forceMount(){return s()},get open(){return w(v)},get ref(){return g.opts.ref},presence:y,$$slots:{presence:!0}}))}ve()}class ja{#e;#t;constructor(e,t){this.#e=e,this.#t=t,this.handler=this.handler.bind(this),Tt(this.handler)}handler(){let e=0;const t=this.#e();if(!t)return;const r=new ResizeObserver(()=>{cancelAnimationFrame(e),e=window.requestAnimationFrame(this.#t)});return r.observe(t),()=>{window.cancelAnimationFrame(e),r.unobserve(t)}}}function GM(n,e,t){return Math.min(t,Math.max(e,n))}const Jl=Qu({component:"scroll-area",parts:["root","viewport","corner","thumb","scrollbar"]}),ec=new ri("ScrollArea.Root"),tc=new ri("ScrollArea.Scrollbar"),yd=new ri("ScrollArea.ScrollbarVisible"),bg=new ri("ScrollArea.ScrollbarAxis"),V_=new ri("ScrollArea.ScrollbarShared");class vg{static create(e){return ec.set(new vg(e))}opts;attachment;#e=_e(null);get scrollAreaNode(){return w(this.#e)}set scrollAreaNode(e){G(this.#e,e,!0)}#t=_e(null);get viewportNode(){return w(this.#t)}set viewportNode(e){G(this.#t,e,!0)}#n=_e(null);get contentNode(){return w(this.#n)}set contentNode(e){G(this.#n,e,!0)}#r=_e(null);get scrollbarXNode(){return w(this.#r)}set scrollbarXNode(e){G(this.#r,e,!0)}#s=_e(null);get scrollbarYNode(){return w(this.#s)}set scrollbarYNode(e){G(this.#s,e,!0)}#i=_e(0);get cornerWidth(){return w(this.#i)}set cornerWidth(e){G(this.#i,e,!0)}#o=_e(0);get cornerHeight(){return w(this.#o)}set cornerHeight(e){G(this.#o,e,!0)}#a=_e(!1);get scrollbarXEnabled(){return w(this.#a)}set scrollbarXEnabled(e){G(this.#a,e,!0)}#l=_e(!1);get scrollbarYEnabled(){return w(this.#l)}set scrollbarYEnabled(e){G(this.#l,e,!0)}domContext;constructor(e){this.opts=e,this.attachment=Xn(e.ref,t=>this.scrollAreaNode=t),this.domContext=new Zu(e.ref)}#c=q(()=>({id:this.opts.id.current,dir:this.opts.dir.current,style:{position:"relative","--bits-scroll-area-corner-height":`${this.cornerHeight}px`,"--bits-scroll-area-corner-width":`${this.cornerWidth}px`},[Jl.root]:"",...this.attachment}));get props(){return w(this.#c)}set props(e){G(this.#c,e)}}class yg{static create(e){return new yg(e,ec.get())}opts;root;attachment;#e=ge(Ba());#t=ge(null);contentAttachment=Xn(this.#t,e=>this.root.contentNode=e);constructor(e,t){this.opts=e,this.root=t,this.attachment=Xn(e.ref,r=>this.root.viewportNode=r)}#n=q(()=>({id:this.opts.id.current,style:{overflowX:this.root.scrollbarXEnabled?"scroll":"hidden",overflowY:this.root.scrollbarYEnabled?"scroll":"hidden"},[Jl.viewport]:"",...this.attachment}));get props(){return w(this.#n)}set props(e){G(this.#n,e)}#r=q(()=>({id:this.#e.current,"data-scroll-area-content":"",style:{minWidth:this.root.scrollbarXEnabled?"fit-content":void 0},...this.contentAttachment}));get contentProps(){return w(this.#r)}set contentProps(e){G(this.#r,e)}}class wg{static create(e){return tc.set(new wg(e,ec.get()))}opts;root;#e=q(()=>this.opts.orientation.current==="horizontal");get isHorizontal(){return w(this.#e)}set isHorizontal(e){G(this.#e,e)}#t=_e(!1);get hasThumb(){return w(this.#t)}set hasThumb(e){G(this.#t,e,!0)}constructor(e,t){this.opts=e,this.root=t,Bn(()=>this.isHorizontal,r=>r?(this.root.scrollbarXEnabled=!0,()=>{this.root.scrollbarXEnabled=!1}):(this.root.scrollbarYEnabled=!0,()=>{this.root.scrollbarYEnabled=!1}))}}class _g{static create(){return new _g(tc.get())}scrollbar;root;#e=_e(!1);get isVisible(){return w(this.#e)}set isVisible(e){G(this.#e,e,!0)}constructor(e){this.scrollbar=e,this.root=e.root,Tt(()=>{const t=this.root.scrollAreaNode,r=this.root.opts.scrollHideDelay.current;let i=0;if(!t)return;const s=()=>{this.root.domContext.clearTimeout(i),_n(()=>this.isVisible=!0)},o=()=>{i&&this.root.domContext.clearTimeout(i),i=this.root.domContext.setTimeout(()=>{_n(()=>{this.scrollbar.hasThumb=!1,this.isVisible=!1})},r)},a=oo(vn(t,"pointerenter",s),vn(t,"pointerleave",o));return()=>{this.root.domContext.getWindow().clearTimeout(i),a()}})}#t=q(()=>({"data-state":this.isVisible?"visible":"hidden"}));get props(){return w(this.#t)}set props(e){G(this.#t,e)}}class xg{static create(){return new xg(tc.get())}scrollbar;root;machine=new Qw("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});#e=q(()=>this.machine.state.current==="hidden");get isHidden(){return w(this.#e)}set isHidden(e){G(this.#e,e)}constructor(e){this.scrollbar=e,this.root=e.root;const t=Yu(()=>this.machine.dispatch("SCROLL_END"),100);Tt(()=>{const r=this.machine.state.current,i=this.root.opts.scrollHideDelay.current;if(r==="idle"){const s=this.root.domContext.setTimeout(()=>this.machine.dispatch("HIDE"),i);return()=>this.root.domContext.clearTimeout(s)}}),Tt(()=>{const r=this.root.viewportNode;if(!r)return;const i=this.scrollbar.isHorizontal?"scrollLeft":"scrollTop";let s=r[i];return Yl(r,"scroll",()=>{const l=r[i];s!==l&&(this.machine.dispatch("SCROLL"),t()),s=l})}),this.onpointerenter=this.onpointerenter.bind(this),this.onpointerleave=this.onpointerleave.bind(this)}onpointerenter(e){this.machine.dispatch("POINTER_ENTER")}onpointerleave(e){this.machine.dispatch("POINTER_LEAVE")}#t=q(()=>({"data-state":this.machine.state.current==="hidden"?"hidden":"visible",onpointerenter:this.onpointerenter,onpointerleave:this.onpointerleave}));get props(){return w(this.#t)}set props(e){G(this.#t,e)}}class wd{static create(){return new wd(tc.get())}scrollbar;root;#e=_e(!1);get isVisible(){return w(this.#e)}set isVisible(e){G(this.#e,e,!0)}constructor(e){this.scrollbar=e,this.root=e.root;const t=Yu(()=>{const r=this.root.viewportNode;if(!r)return;const i=r.offsetWidth<r.scrollWidth,s=r.offsetHeight<r.scrollHeight;this.isVisible=this.scrollbar.isHorizontal?i:s},10);new ja(()=>this.root.viewportNode,t),new ja(()=>this.root.contentNode,t)}#t=q(()=>({"data-state":this.isVisible?"visible":"hidden"}));get props(){return w(this.#t)}set props(e){G(this.#t,e)}}class Eg{static create(){return yd.set(new Eg(tc.get()))}scrollbar;root;#e=_e(null);get thumbNode(){return w(this.#e)}set thumbNode(e){G(this.#e,e,!0)}#t=_e(0);get pointerOffset(){return w(this.#t)}set pointerOffset(e){G(this.#t,e,!0)}#n=_e({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}});get sizes(){return w(this.#n)}set sizes(e){G(this.#n,e)}#r=q(()=>j_(this.sizes.viewport,this.sizes.content));get thumbRatio(){return w(this.#r)}set thumbRatio(e){G(this.#r,e)}#s=q(()=>this.thumbRatio>0&&this.thumbRatio<1);get hasThumb(){return w(this.#s)}set hasThumb(e){G(this.#s,e)}#i=_e("");get prevTransformStyle(){return w(this.#i)}set prevTransformStyle(e){G(this.#i,e,!0)}constructor(e){this.scrollbar=e,this.root=e.root,Tt(()=>{this.scrollbar.hasThumb=this.hasThumb}),Tt(()=>{!this.scrollbar.hasThumb&&this.thumbNode&&(this.prevTransformStyle=this.thumbNode.style.transform)})}setSizes(e){this.sizes=e}getScrollPosition(e,t){return VM({pointerPos:e,pointerOffset:this.pointerOffset,sizes:this.sizes,dir:t})}onThumbPointerUp(){this.pointerOffset=0}onThumbPointerDown(e){this.pointerOffset=e}xOnThumbPositionChange(){if(!(this.root.viewportNode&&this.thumbNode))return;const e=this.root.viewportNode.scrollLeft,r=`translate3d(${q_({scrollPos:e,sizes:this.sizes,dir:this.root.opts.dir.current})}px, 0, 0)`;this.thumbNode.style.transform=r,this.prevTransformStyle=r}xOnWheelScroll(e){this.root.viewportNode&&(this.root.viewportNode.scrollLeft=e)}xOnDragScroll(e){this.root.viewportNode&&(this.root.viewportNode.scrollLeft=this.getScrollPosition(e,this.root.opts.dir.current))}yOnThumbPositionChange(){if(!(this.root.viewportNode&&this.thumbNode))return;const e=this.root.viewportNode.scrollTop,r=`translate3d(0, ${q_({scrollPos:e,sizes:this.sizes})}px, 0)`;this.thumbNode.style.transform=r,this.prevTransformStyle=r}yOnWheelScroll(e){this.root.viewportNode&&(this.root.viewportNode.scrollTop=e)}yOnDragScroll(e){this.root.viewportNode&&(this.root.viewportNode.scrollTop=this.getScrollPosition(e,this.root.opts.dir.current))}}class Ag{static create(e){return bg.set(new Ag(e,yd.get()))}opts;scrollbarVis;root;scrollbar;attachment;#e=_e();get computedStyle(){return w(this.#e)}set computedStyle(e){G(this.#e,e,!0)}constructor(e,t){this.opts=e,this.scrollbarVis=t,this.root=t.root,this.scrollbar=t.scrollbar,this.attachment=Xn(this.scrollbar.opts.ref,r=>this.root.scrollbarXNode=r),Tt(()=>{this.scrollbar.opts.ref.current&&this.opts.mounted.current&&(this.computedStyle=getComputedStyle(this.scrollbar.opts.ref.current))}),Tt(()=>{this.onResize()})}onThumbPointerDown=e=>{this.scrollbarVis.onThumbPointerDown(e.x)};onDragScroll=e=>{this.scrollbarVis.xOnDragScroll(e.x)};onThumbPointerUp=()=>{this.scrollbarVis.onThumbPointerUp()};onThumbPositionChange=()=>{this.scrollbarVis.xOnThumbPositionChange()};onWheelScroll=(e,t)=>{if(!this.root.viewportNode)return;const r=this.root.viewportNode.scrollLeft+e.deltaX;this.scrollbarVis.xOnWheelScroll(r),K_(r,t)&&e.preventDefault()};onResize=()=>{this.scrollbar.opts.ref.current&&this.root.viewportNode&&this.computedStyle&&this.scrollbarVis.setSizes({content:this.root.viewportNode.scrollWidth,viewport:this.root.viewportNode.offsetWidth,scrollbar:{size:this.scrollbar.opts.ref.current.clientWidth,paddingStart:_d(this.computedStyle.paddingLeft),paddingEnd:_d(this.computedStyle.paddingRight)}})};#t=q(()=>xd(this.scrollbarVis.sizes));get thumbSize(){return w(this.#t)}set thumbSize(e){G(this.#t,e)}#n=q(()=>({id:this.scrollbar.opts.id.current,"data-orientation":"horizontal",style:{bottom:0,left:this.root.opts.dir.current==="rtl"?"var(--bits-scroll-area-corner-width)":0,right:this.root.opts.dir.current==="ltr"?"var(--bits-scroll-area-corner-width)":0,"--bits-scroll-area-thumb-width":`${this.thumbSize}px`},...this.attachment}));get props(){return w(this.#n)}set props(e){G(this.#n,e)}}class Sg{static create(e){return bg.set(new Sg(e,yd.get()))}opts;scrollbarVis;root;scrollbar;attachment;#e=_e();get computedStyle(){return w(this.#e)}set computedStyle(e){G(this.#e,e,!0)}constructor(e,t){this.opts=e,this.scrollbarVis=t,this.root=t.root,this.scrollbar=t.scrollbar,this.attachment=Xn(this.scrollbar.opts.ref,r=>this.root.scrollbarYNode=r),Tt(()=>{this.scrollbar.opts.ref.current&&this.opts.mounted.current&&(this.computedStyle=getComputedStyle(this.scrollbar.opts.ref.current))}),Tt(()=>{this.onResize()}),this.onThumbPointerDown=this.onThumbPointerDown.bind(this),this.onDragScroll=this.onDragScroll.bind(this),this.onThumbPointerUp=this.onThumbPointerUp.bind(this),this.onThumbPositionChange=this.onThumbPositionChange.bind(this),this.onWheelScroll=this.onWheelScroll.bind(this),this.onResize=this.onResize.bind(this)}onThumbPointerDown(e){this.scrollbarVis.onThumbPointerDown(e.y)}onDragScroll(e){this.scrollbarVis.yOnDragScroll(e.y)}onThumbPointerUp(){this.scrollbarVis.onThumbPointerUp()}onThumbPositionChange(){this.scrollbarVis.yOnThumbPositionChange()}onWheelScroll(e,t){if(!this.root.viewportNode)return;const r=this.root.viewportNode.scrollTop+e.deltaY;this.scrollbarVis.yOnWheelScroll(r),K_(r,t)&&e.preventDefault()}onResize(){this.scrollbar.opts.ref.current&&this.root.viewportNode&&this.computedStyle&&this.scrollbarVis.setSizes({content:this.root.viewportNode.scrollHeight,viewport:this.root.viewportNode.offsetHeight,scrollbar:{size:this.scrollbar.opts.ref.current.clientHeight,paddingStart:_d(this.computedStyle.paddingTop),paddingEnd:_d(this.computedStyle.paddingBottom)}})}#t=q(()=>xd(this.scrollbarVis.sizes));get thumbSize(){return w(this.#t)}set thumbSize(e){G(this.#t,e)}#n=q(()=>({id:this.scrollbar.opts.id.current,"data-orientation":"vertical",style:{top:0,right:this.root.opts.dir.current==="ltr"?0:void 0,left:this.root.opts.dir.current==="rtl"?0:void 0,bottom:"var(--bits-scroll-area-corner-height)","--bits-scroll-area-thumb-height":`${this.thumbSize}px`},...this.attachment}));get props(){return w(this.#n)}set props(e){G(this.#n,e)}}class kg{static create(){return V_.set(new kg(bg.get()))}scrollbarState;root;scrollbarVis;scrollbar;#e=_e(null);get rect(){return w(this.#e)}set rect(e){G(this.#e,e)}#t=_e("");get prevWebkitUserSelect(){return w(this.#t)}set prevWebkitUserSelect(e){G(this.#t,e,!0)}handleResize;handleThumbPositionChange;handleWheelScroll;handleThumbPointerDown;handleThumbPointerUp;#n=q(()=>this.scrollbarVis.sizes.content-this.scrollbarVis.sizes.viewport);get maxScrollPos(){return w(this.#n)}set maxScrollPos(e){G(this.#n,e)}constructor(e){this.scrollbarState=e,this.root=e.root,this.scrollbarVis=e.scrollbarVis,this.scrollbar=e.scrollbarVis.scrollbar,this.handleResize=Yu(()=>this.scrollbarState.onResize(),10),this.handleThumbPositionChange=this.scrollbarState.onThumbPositionChange,this.handleWheelScroll=this.scrollbarState.onWheelScroll,this.handleThumbPointerDown=this.scrollbarState.onThumbPointerDown,this.handleThumbPointerUp=this.scrollbarState.onThumbPointerUp,Tt(()=>{const t=this.maxScrollPos,r=this.scrollbar.opts.ref.current;this.root.viewportNode;const i=o=>{const a=o.target;r?.contains(a)&&this.handleWheelScroll(o,t)};return Yl(this.root.domContext.getDocument(),"wheel",i,{passive:!1})}),ei(()=>{this.scrollbarVis.sizes,_n(()=>this.handleThumbPositionChange())}),new ja(()=>this.scrollbar.opts.ref.current,this.handleResize),new ja(()=>this.root.contentNode,this.handleResize),this.onpointerdown=this.onpointerdown.bind(this),this.onpointermove=this.onpointermove.bind(this),this.onpointerup=this.onpointerup.bind(this)}handleDragScroll(e){if(!this.rect)return;const t=e.clientX-this.rect.left,r=e.clientY-this.rect.top;this.scrollbarState.onDragScroll({x:t,y:r})}onpointerdown(e){if(e.button!==0)return;e.target.setPointerCapture(e.pointerId),this.rect=this.scrollbar.opts.ref.current?.getBoundingClientRect()??null,this.prevWebkitUserSelect=this.root.domContext.getDocument().body.style.webkitUserSelect,this.root.domContext.getDocument().body.style.webkitUserSelect="none",this.root.viewportNode&&(this.root.viewportNode.style.scrollBehavior="auto"),this.handleDragScroll(e)}onpointermove(e){this.handleDragScroll(e)}onpointerup(e){const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),this.root.domContext.getDocument().body.style.webkitUserSelect=this.prevWebkitUserSelect,this.root.viewportNode&&(this.root.viewportNode.style.scrollBehavior=""),this.rect=null}#r=q(()=>en({...this.scrollbarState.props,style:{position:"absolute",...this.scrollbarState.props.style},[Jl.scrollbar]:"",onpointerdown:this.onpointerdown,onpointermove:this.onpointermove,onpointerup:this.onpointerup}));get props(){return w(this.#r)}set props(e){G(this.#r,e)}}class Cg{static create(e){return new Cg(e,V_.get())}opts;scrollbarState;attachment;#e;#t=_e();#n=Yu(()=>{w(this.#t)&&(w(this.#t)(),G(this.#t,void 0))},100);constructor(e,t){this.opts=e,this.scrollbarState=t,this.#e=t.root,this.attachment=Xn(this.opts.ref,r=>this.scrollbarState.scrollbarVis.thumbNode=r),Tt(()=>{const r=this.#e.viewportNode;if(!r)return;const i=()=>{if(this.#n(),!w(this.#t)){const o=jM(r,this.scrollbarState.handleThumbPositionChange);G(this.#t,o,!0),this.scrollbarState.handleThumbPositionChange()}};return _n(()=>this.scrollbarState.handleThumbPositionChange()),Yl(r,"scroll",i)}),this.onpointerdowncapture=this.onpointerdowncapture.bind(this),this.onpointerup=this.onpointerup.bind(this)}onpointerdowncapture(e){const t=e.target;if(!t)return;const r=t.getBoundingClientRect(),i=e.clientX-r.left,s=e.clientY-r.top;this.scrollbarState.handleThumbPointerDown({x:i,y:s})}onpointerup(e){this.scrollbarState.handleThumbPointerUp()}#r=q(()=>({id:this.opts.id.current,"data-state":this.scrollbarState.scrollbarVis.hasThumb?"visible":"hidden",style:{width:"var(--bits-scroll-area-thumb-width)",height:"var(--bits-scroll-area-thumb-height)",transform:this.scrollbarState.scrollbarVis.prevTransformStyle},onpointerdowncapture:this.onpointerdowncapture,onpointerup:this.onpointerup,[Jl.thumb]:"",...this.attachment}));get props(){return w(this.#r)}set props(e){G(this.#r,e)}}class Tg{static create(e){return new Tg(e,ec.get())}opts;root;attachment;#e=_e(0);#t=_e(0);#n=q(()=>!!(w(this.#e)&&w(this.#t)));get hasSize(){return w(this.#n)}set hasSize(e){G(this.#n,e)}constructor(e,t){this.opts=e,this.root=t,this.attachment=Xn(this.opts.ref),new ja(()=>this.root.scrollbarXNode,()=>{const r=this.root.scrollbarXNode?.offsetHeight||0;this.root.cornerHeight=r,G(this.#t,r,!0)}),new ja(()=>this.root.scrollbarYNode,()=>{const r=this.root.scrollbarYNode?.offsetWidth||0;this.root.cornerWidth=r,G(this.#e,r,!0)})}#r=q(()=>({id:this.opts.id.current,style:{width:w(this.#e),height:w(this.#t),position:"absolute",right:this.root.opts.dir.current==="ltr"?0:void 0,left:this.root.opts.dir.current==="rtl"?0:void 0,bottom:0},[Jl.corner]:"",...this.attachment}));get props(){return w(this.#r)}set props(e){G(this.#r,e)}}function _d(n){return n?Number.parseInt(n,10):0}function j_(n,e){const t=n/e;return Number.isNaN(t)?0:t}function xd(n){const e=j_(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-t)*e;return Math.max(r,18)}function VM({pointerPos:n,pointerOffset:e,sizes:t,dir:r="ltr"}){const i=xd(t),s=i/2,o=e||s,a=i-o,l=t.scrollbar.paddingStart+o,c=t.scrollbar.size-t.scrollbar.paddingEnd-a,u=t.content-t.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return W_([l,c],d)(n)}function q_({scrollPos:n,sizes:e,dir:t="ltr"}){const r=xd(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-r,l=t==="ltr"?[0,o]:[o*-1,0],c=GM(n,l[0],l[1]);return W_([0,o],[0,a])(c)}function W_(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function K_(n,e){return n>0&&n<e}function jM(n,e){let t={left:n.scrollLeft,top:n.scrollTop},r=0;const i=Xu(n);return function s(){const o={left:n.scrollLeft,top:n.scrollTop},a=t.left!==o.left,l=t.top!==o.top;(a||l)&&e(),t=o,r=i.requestAnimationFrame(s)}(),()=>i.cancelAnimationFrame(r)}var qM=de("<div><!></div>");function WM(n,e){const t=Er();be(e,!0);let r=F(e,"ref",15,null),i=F(e,"id",19,()=>Ar(t)),s=F(e,"type",3,"hover"),o=F(e,"dir",3,"ltr"),a=F(e,"scrollHideDelay",3,600),l=Re(e,["$$slots","$$events","$$legacy","ref","id","type","dir","scrollHideDelay","children","child"]);const c=vg.create({type:ge.with(()=>s()),dir:ge.with(()=>o()),scrollHideDelay:ge.with(()=>a()),id:ge.with(()=>i()),ref:ge.with(()=>r(),m=>r(m))}),u=q(()=>en(l,c.props));var d=te(),h=j(d);{var f=m=>{var y=te(),v=j(y);Se(v,()=>e.child,()=>({props:w(u)})),I(m,y)},g=m=>{var y=qM();St(y,()=>({...w(u)}));var v=he(y);Se(v,()=>e.children??Te),ue(y),I(m,y)};xe(h,m=>{e.child?m(f):m(g,!1)})}I(n,d),ve()}var KM=de("<div><div><!></div></div>");function $M(n,e){const t=Er();be(e,!0);let r=F(e,"ref",15,null),i=F(e,"id",19,()=>Ar(t)),s=Re(e,["$$slots","$$events","$$legacy","ref","id","children"]);const o=yg.create({id:ge.with(()=>i()),ref:ge.with(()=>r(),h=>r(h))}),a=q(()=>en(s,o.props)),l=q(()=>en({},o.contentProps));var c=KM();St(c,()=>({...w(a)}));var u=he(c);St(u,()=>({...w(l)}));var d=he(u);Se(d,()=>e.children??Te),ue(u),ue(c),I(n,c),ve()}var YM=de("<div><!></div>");function $_(n,e){be(e,!0);let t=Re(e,["$$slots","$$events","$$legacy","child","children"]);const r=kg.create(),i=q(()=>en(t,r.props));var s=te(),o=j(s);{var a=c=>{var u=te(),d=j(u);Se(d,()=>e.child,()=>({props:w(i)})),I(c,u)},l=c=>{var u=YM();St(u,()=>({...w(i)}));var d=he(u);Se(d,()=>e.children??Te),ue(u),I(c,u)};xe(o,c=>{e.child?c(a):c(l,!1)})}I(n,s),ve()}function XM(n,e){be(e,!0);let t=Re(e,["$$slots","$$events","$$legacy"]);const r=new Cp,i=Ag.create({mounted:ge.with(()=>r.current)}),s=q(()=>en(t,i.props));$_(n,Ve(()=>w(s))),ve()}function ZM(n,e){be(e,!0);let t=Re(e,["$$slots","$$events","$$legacy"]);const r=new Cp,i=Sg.create({mounted:ge.with(()=>r.current)}),s=q(()=>en(t,i.props));$_(n,Ve(()=>w(s))),ve()}function Ed(n,e){be(e,!0);let t=Re(e,["$$slots","$$events","$$legacy"]);const r=Eg.create();var i=te(),s=j(i);{var o=l=>{XM(l,Ve(()=>t))},a=l=>{ZM(l,Ve(()=>t))};xe(s,l=>{r.scrollbar.opts.orientation.current==="horizontal"?l(o):l(a,!1)})}I(n,i),ve()}function QM(n,e){be(e,!0);let t=F(e,"forceMount",3,!1),r=Re(e,["$$slots","$$events","$$legacy","forceMount"]);const i=wd.create(),s=q(()=>en(r,i.props));{const o=l=>{Ed(l,Ve(()=>w(s)))};let a=q(()=>t()||i.isVisible);ao(n,{get open(){return w(a)},get ref(){return i.scrollbar.opts.ref},presence:o,$$slots:{presence:!0}})}ve()}function JM(n,e){be(e,!0);let t=F(e,"forceMount",3,!1),r=Re(e,["$$slots","$$events","$$legacy","forceMount"]);const i=xg.create(),s=q(()=>en(r,i.props));{const o=l=>{Ed(l,Ve(()=>w(s)))};let a=q(()=>t()||!i.isHidden);ao(n,Ve(()=>w(s),{get open(){return w(a)},get ref(){return i.scrollbar.opts.ref},presence:o,$$slots:{presence:!0}}))}ve()}function eD(n,e){be(e,!0);let t=F(e,"forceMount",3,!1),r=Re(e,["$$slots","$$events","$$legacy","forceMount"]);const i=_g.create(),s=wd.create(),o=q(()=>en(r,i.props,s.props,{"data-state":i.isVisible?"visible":"hidden"})),a=q(()=>t()||i.isVisible&&s.isVisible);ao(n,{get open(){return w(a)},get ref(){return s.scrollbar.opts.ref},presence:c=>{Ed(c,Ve(()=>w(o)))},$$slots:{presence:!0}}),ve()}function tD(n,e){const t=Er();be(e,!0);let r=F(e,"ref",15,null),i=F(e,"id",19,()=>Ar(t)),s=Re(e,["$$slots","$$events","$$legacy","ref","id","orientation"]);const o=wg.create({orientation:ge.with(()=>e.orientation),id:ge.with(()=>i()),ref:ge.with(()=>r(),h=>r(h))}),a=q(()=>o.root.opts.type.current);var l=te(),c=j(l);{var u=h=>{eD(h,Ve(()=>s,{get id(){return i()}}))},d=h=>{var f=te(),g=j(f);{var m=v=>{JM(v,Ve(()=>s,{get id(){return i()}}))},y=v=>{var A=te(),E=j(A);{var S=x=>{QM(x,Ve(()=>s,{get id(){return i()}}))},C=x=>{var N=te(),D=j(N);{var V=O=>{Ed(O,Ve(()=>s,{get id(){return i()}}))};xe(D,O=>{w(a)==="always"&&O(V)},!0)}I(x,N)};xe(E,x=>{w(a)==="auto"?x(S):x(C,!1)},!0)}I(v,A)};xe(g,v=>{w(a)==="scroll"?v(m):v(y,!1)},!0)}I(h,f)};xe(c,h=>{w(a)==="hover"?h(u):h(d,!1)})}I(n,l),ve()}var nD=de("<div><!></div>");function rD(n,e){be(e,!0);let t=F(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","ref","id","child","children","present"]);const i=new Cp,s=Cg.create({id:ge.with(()=>e.id),ref:ge.with(()=>t(),d=>t(d)),mounted:ge.with(()=>i.current)}),o=q(()=>en(r,s.props,{style:{hidden:!e.present}}));var a=te(),l=j(a);{var c=d=>{var h=te(),f=j(h);Se(f,()=>e.child,()=>({props:w(o)})),I(d,h)},u=d=>{var h=nD();St(h,()=>({...w(o)}));var f=he(h);Se(f,()=>e.children??Te),ue(h),I(d,h)};xe(l,d=>{e.child?d(c):d(u,!1)})}I(n,a),ve()}function iD(n,e){const t=Er();be(e,!0);let r=F(e,"id",19,()=>Ar(t)),i=F(e,"ref",15,null),s=F(e,"forceMount",3,!1),o=Re(e,["$$slots","$$events","$$legacy","id","ref","forceMount"]);const a=yd.get();{const l=(u,d)=>{let h=()=>d?.().present;rD(u,Ve(()=>o,{get id(){return r()},get present(){return h()},get ref(){return i()},set ref(f){i(f)}}))};let c=q(()=>s()||a.hasThumb);ao(n,{get open(){return w(c)},get ref(){return a.scrollbar.opts.ref},presence:l,$$slots:{presence:!0}})}ve()}var sD=de("<div><!></div>");function oD(n,e){be(e,!0);let t=F(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","ref","id","children","child"]);const i=Tg.create({id:ge.with(()=>e.id),ref:ge.with(()=>t(),u=>t(u))}),s=q(()=>en(r,i.props));var o=te(),a=j(o);{var l=u=>{var d=te(),h=j(d);Se(h,()=>e.child,()=>({props:w(s)})),I(u,d)},c=u=>{var d=sD();St(d,()=>({...w(s)}));var h=he(d);Se(h,()=>e.children??Te),ue(d),I(u,d)};xe(a,u=>{e.child?u(l):u(c,!1)})}I(n,o),ve()}function aD(n,e){const t=Er();be(e,!0);let r=F(e,"ref",15,null),i=F(e,"id",19,()=>Ar(t)),s=Re(e,["$$slots","$$events","$$legacy","ref","id"]);const o=ec.get(),a=q(()=>!!(o.scrollbarXNode&&o.scrollbarYNode)),l=q(()=>o.opts.type.current!=="scroll"&&w(a));var c=te(),u=j(c);{var d=h=>{oD(h,Ve(()=>s,{get id(){return i()},get ref(){return r()},set ref(f){r(f)}}))};xe(u,h=>{w(l)&&h(d)})}I(n,c),ve()}const lD={immediate:!0};class Ng{#e;#t;#n;#r=null;constructor(e,t,r={}){this.#n=e,this.#t=t,this.#e={...lD,...r},this.stop=this.stop.bind(this),this.start=this.start.bind(this),this.#e.immediate&&Cr&&this.start(),La(this.stop)}#s(){this.#r!==null&&(window.clearTimeout(this.#r),this.#r=null)}stop(){this.#s()}start(...e){this.#s(),this.#r=window.setTimeout(()=>{this.#r=null,this.#n(...e)},this.#t)}}const Y_=Qu({component:"tooltip",parts:["content","trigger"]}),X_=new ri("Tooltip.Provider"),Ig=new ri("Tooltip.Root");class Pg{static create(e){return X_.set(new Pg(e))}opts;#e=_e(!0);get isOpenDelayed(){return w(this.#e)}set isOpenDelayed(e){G(this.#e,e,!0)}isPointerInTransit=ge(!1);#t;#n=_e(null);constructor(e){this.opts=e,this.#t=new Ng(()=>{this.isOpenDelayed=!0},this.opts.skipDelayDuration.current,{immediate:!1})}#r=()=>{this.opts.skipDelayDuration.current!==0&&this.#t.start()};#s=()=>{this.#t.stop()};onOpen=e=>{w(this.#n)&&w(this.#n)!==e&&w(this.#n).handleClose(),this.#s(),this.isOpenDelayed=!1,G(this.#n,e,!0)};onClose=e=>{w(this.#n)===e&&G(this.#n,null),this.#r()};isTooltipOpen=e=>w(this.#n)===e}class Rg{static create(e){return Ig.set(new Rg(e,X_.get()))}opts;provider;#e=q(()=>this.opts.delayDuration.current??this.provider.opts.delayDuration.current);get delayDuration(){return w(this.#e)}set delayDuration(e){G(this.#e,e)}#t=q(()=>this.opts.disableHoverableContent.current??this.provider.opts.disableHoverableContent.current);get disableHoverableContent(){return w(this.#t)}set disableHoverableContent(e){G(this.#t,e)}#n=q(()=>this.opts.disableCloseOnTriggerClick.current??this.provider.opts.disableCloseOnTriggerClick.current);get disableCloseOnTriggerClick(){return w(this.#n)}set disableCloseOnTriggerClick(e){G(this.#n,e)}#r=q(()=>this.opts.disabled.current??this.provider.opts.disabled.current);get disabled(){return w(this.#r)}set disabled(e){G(this.#r,e)}#s=q(()=>this.opts.ignoreNonKeyboardFocus.current??this.provider.opts.ignoreNonKeyboardFocus.current);get ignoreNonKeyboardFocus(){return w(this.#s)}set ignoreNonKeyboardFocus(e){G(this.#s,e)}#i=_e(null);get contentNode(){return w(this.#i)}set contentNode(e){G(this.#i,e,!0)}#o=_e(null);get triggerNode(){return w(this.#o)}set triggerNode(e){G(this.#o,e,!0)}#a=_e(!1);#l;#c=q(()=>this.opts.open.current?w(this.#a)?"delayed-open":"instant-open":"closed");get stateAttr(){return w(this.#c)}set stateAttr(e){G(this.#c,e)}constructor(e,t){this.opts=e,this.provider=t,this.#l=new Ng(()=>{G(this.#a,!0),this.opts.open.current=!0},this.delayDuration??0,{immediate:!1}),new Jw({open:this.opts.open,ref:ge.with(()=>this.contentNode),onComplete:()=>{this.opts.onOpenChangeComplete.current(this.opts.open.current)}}),Bn(()=>this.delayDuration,()=>{this.delayDuration!==void 0&&(this.#l=new Ng(()=>{G(this.#a,!0),this.opts.open.current=!0},this.delayDuration,{immediate:!1}))}),Bn(()=>this.opts.open.current,r=>{r?this.provider.onOpen(this):this.provider.onClose(this)})}handleOpen=()=>{this.#l.stop(),G(this.#a,!1),this.opts.open.current=!0};handleClose=()=>{this.#l.stop(),this.opts.open.current=!1};#d=()=>{this.#l.stop();const e=!this.provider.isOpenDelayed,t=this.delayDuration??0;e||t===0?(G(this.#a,t>0&&e,!0),this.opts.open.current=!0):this.#l.start()};onTriggerEnter=()=>{this.#d()};onTriggerLeave=()=>{this.disableHoverableContent?this.handleClose():this.#l.stop()}}class Og{static create(e){return new Og(e,Ig.get())}opts;root;attachment;#e=ge(!1);#t=_e(!1);#n=q(()=>this.opts.disabled.current||this.root.disabled);domContext;constructor(e,t){this.opts=e,this.root=t,this.domContext=new Zu(e.ref),this.attachment=Xn(this.opts.ref,r=>this.root.triggerNode=r)}handlePointerUp=()=>{this.#e.current=!1};#r=()=>{w(this.#n)||(this.#e.current=!1)};#s=()=>{w(this.#n)||(this.#e.current=!0,this.domContext.getDocument().addEventListener("pointerup",()=>{this.handlePointerUp()},{once:!0}))};#i=e=>{w(this.#n)||e.pointerType!=="touch"&&(w(this.#t)||this.root.provider.isPointerInTransit.current||(this.root.onTriggerEnter(),G(this.#t,!0)))};#o=()=>{w(this.#n)||(this.root.onTriggerLeave(),G(this.#t,!1))};#a=e=>{this.#e.current||w(this.#n)||this.root.ignoreNonKeyboardFocus&&!fR(e.currentTarget)||this.root.handleOpen()};#l=()=>{w(this.#n)||this.root.handleClose()};#c=()=>{this.root.disableCloseOnTriggerClick||w(this.#n)||this.root.handleClose()};#d=q(()=>({id:this.opts.id.current,"aria-describedby":this.root.opts.open.current?this.root.contentNode?.id:void 0,"data-state":this.root.stateAttr,"data-disabled":Ip(w(this.#n)),"data-delay-duration":`${this.root.delayDuration}`,[Y_.trigger]:"",tabindex:w(this.#n)?void 0:0,disabled:this.opts.disabled.current,onpointerup:this.#r,onpointerdown:this.#s,onpointermove:this.#i,onpointerleave:this.#o,onfocus:this.#a,onblur:this.#l,onclick:this.#c,...this.attachment}));get props(){return w(this.#d)}set props(e){G(this.#d,e)}}class Mg{static create(e){return new Mg(e,Ig.get())}opts;root;attachment;constructor(e,t){this.opts=e,this.root=t,this.attachment=Xn(this.opts.ref,r=>this.root.contentNode=r),new RM({triggerNode:()=>this.root.triggerNode,contentNode:()=>this.root.contentNode,enabled:()=>this.root.opts.open.current&&!this.root.disableHoverableContent,onPointerExit:()=>{this.root.provider.isTooltipOpen(this.root)&&this.root.handleClose()},setIsPointerInTransit:r=>{this.root.provider.isPointerInTransit.current=r},transitTimeout:this.root.provider.opts.skipDelayDuration.current}),BP(()=>vn(window,"scroll",r=>{const i=r.target;i&&i.contains(this.root.triggerNode)&&this.root.handleClose()}))}onInteractOutside=e=>{if(Hp(e.target)&&this.root.triggerNode?.contains(e.target)&&this.root.disableCloseOnTriggerClick){e.preventDefault();return}this.opts.onInteractOutside.current(e),!e.defaultPrevented&&this.root.handleClose()};onEscapeKeydown=e=>{this.opts.onEscapeKeydown.current?.(e),!e.defaultPrevented&&this.root.handleClose()};onOpenAutoFocus=e=>{e.preventDefault()};onCloseAutoFocus=e=>{e.preventDefault()};#e=q(()=>({open:this.root.opts.open.current}));get snippetProps(){return w(this.#e)}set snippetProps(e){G(this.#e,e)}#t=q(()=>({id:this.opts.id.current,"data-state":this.root.stateAttr,"data-disabled":Ip(this.root.disabled),style:{pointerEvents:"auto",outline:"none"},[Y_.content]:"",...this.attachment}));get props(){return w(this.#t)}set props(e){G(this.#t,e)}popperProps={onInteractOutside:this.onInteractOutside,onEscapeKeydown:this.onEscapeKeydown,onOpenAutoFocus:this.onOpenAutoFocus,onCloseAutoFocus:this.onCloseAutoFocus}}function cD(n,e){be(e,!0);let t=F(e,"open",15,!1),r=F(e,"onOpenChange",3,bn),i=F(e,"onOpenChangeComplete",3,bn);Rg.create({open:ge.with(()=>t(),s=>{t(s),r()(s)}),delayDuration:ge.with(()=>e.delayDuration),disableCloseOnTriggerClick:ge.with(()=>e.disableCloseOnTriggerClick),disableHoverableContent:ge.with(()=>e.disableHoverableContent),ignoreNonKeyboardFocus:ge.with(()=>e.ignoreNonKeyboardFocus),disabled:ge.with(()=>e.disabled),onOpenChangeComplete:ge.with(()=>i())}),vM(n,{tooltip:!0,children:(s,o)=>{var a=te(),l=j(a);Se(l,()=>e.children??Te),I(s,a)},$$slots:{default:!0}}),ve()}var uD=de("<div><div><!></div></div>"),dD=de("<div><div><!></div></div>");function hD(n,e){const t=Er();be(e,!0);let r=F(e,"id",19,()=>Ar(t)),i=F(e,"ref",15,null),s=F(e,"side",3,"top"),o=F(e,"sideOffset",3,0),a=F(e,"align",3,"center"),l=F(e,"avoidCollisions",3,!0),c=F(e,"arrowPadding",3,0),u=F(e,"sticky",3,"partial"),d=F(e,"hideWhenDetached",3,!1),h=F(e,"collisionPadding",3,0),f=F(e,"onInteractOutside",3,bn),g=F(e,"onEscapeKeydown",3,bn),m=F(e,"forceMount",3,!1),y=Re(e,["$$slots","$$events","$$legacy","children","child","id","ref","side","sideOffset","align","avoidCollisions","arrowPadding","sticky","hideWhenDetached","collisionPadding","onInteractOutside","onEscapeKeydown","forceMount"]);const v=Mg.create({id:ge.with(()=>r()),ref:ge.with(()=>i(),D=>i(D)),onInteractOutside:ge.with(()=>f()),onEscapeKeydown:ge.with(()=>g())}),A=q(()=>({side:s(),sideOffset:o(),align:a(),avoidCollisions:l(),arrowPadding:c(),sticky:u(),hideWhenDetached:d(),collisionPadding:h()})),E=q(()=>en(y,w(A),v.props));var S=te(),C=j(S);{var x=D=>{PM(D,Ve(()=>w(E),()=>v.popperProps,{get enabled(){return v.root.opts.open.current},get id(){return r()},trapFocus:!1,loop:!1,preventScroll:!1,forceMount:!0,get ref(){return v.opts.ref},tooltip:!0,popper:(O,K)=>{let B=()=>K?.().props,U=()=>K?.().wrapperProps;var L=te();const W=q(()=>en(B(),{style:B_("tooltip")}));var H=j(L);{var Q=le=>{var R=te(),Ae=j(R);{let ke=q(()=>({props:w(W),wrapperProps:U(),...v.snippetProps}));Se(Ae,()=>e.child,()=>w(ke))}I(le,R)},X=le=>{var R=uD();St(R,()=>({...U()}));var Ae=he(R);St(Ae,()=>({...w(W)}));var ke=he(Ae);Se(ke,()=>e.children??Te),ue(Ae),ue(R),I(le,R)};xe(H,le=>{e.child?le(Q):le(X,!1)})}I(O,L)},$$slots:{popper:!0}}))},N=D=>{var V=te(),O=j(V);{var K=B=>{IM(B,Ve(()=>w(E),()=>v.popperProps,{get open(){return v.root.opts.open.current},get id(){return r()},trapFocus:!1,loop:!1,preventScroll:!1,forceMount:!1,get ref(){return v.opts.ref},tooltip:!0,popper:(L,W)=>{let H=()=>W?.().props,Q=()=>W?.().wrapperProps;var X=te();const le=q(()=>en(H(),{style:B_("tooltip")}));var R=j(X);{var Ae=M=>{var fe=te(),Oe=j(fe);{let Le=q(()=>({props:w(le),wrapperProps:Q(),...v.snippetProps}));Se(Oe,()=>e.child,()=>w(Le))}I(M,fe)},ke=M=>{var fe=dD();St(fe,()=>({...Q()}));var Oe=he(fe);St(Oe,()=>({...w(le)}));var Le=he(Oe);Se(Le,()=>e.children??Te),ue(Oe),ue(fe),I(M,fe)};xe(R,M=>{e.child?M(Ae):M(ke,!1)})}I(L,X)},$$slots:{popper:!0}}))};xe(O,B=>{m()||B(K)},!0)}I(D,V)};xe(C,D=>{m()?D(x):D(N,!1)})}I(n,S),ve()}var fD=de("<button><!></button>");function pD(n,e){const t=Er();be(e,!0);let r=F(e,"id",19,()=>Ar(t)),i=F(e,"disabled",3,!1),s=F(e,"type",3,"button"),o=F(e,"ref",15,null),a=Re(e,["$$slots","$$events","$$legacy","children","child","id","disabled","type","ref"]);const l=Og.create({id:ge.with(()=>r()),disabled:ge.with(()=>i()??!1),ref:ge.with(()=>o(),u=>o(u))}),c=q(()=>en(a,l.props,{type:s()}));_M(n,{get id(){return r()},get ref(){return l.opts.ref},tooltip:!0,children:(u,d)=>{var h=te(),f=j(h);{var g=y=>{var v=te(),A=j(v);Se(A,()=>e.child,()=>({props:w(c)})),I(y,v)},m=y=>{var v=fD();St(v,()=>({...w(c)}));var A=he(v);Se(A,()=>e.children??Te),ue(v),I(y,v)};xe(f,y=>{e.child?y(g):y(m,!1)})}I(u,h)},$$slots:{default:!0}}),ve()}function gD(n,e){be(e,!0);let t=F(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","ref"]);SM(n,Ve(()=>r,{get ref(){return t()},set ref(i){t(i)}})),ve()}function mD(n,e){be(e,!0);let t=F(e,"delayDuration",3,700),r=F(e,"disableCloseOnTriggerClick",3,!1),i=F(e,"disableHoverableContent",3,!1),s=F(e,"disabled",3,!1),o=F(e,"ignoreNonKeyboardFocus",3,!1),a=F(e,"skipDelayDuration",3,300);Pg.create({delayDuration:ge.with(()=>t()),disableCloseOnTriggerClick:ge.with(()=>r()),disableHoverableContent:ge.with(()=>i()),disabled:ge.with(()=>s()),ignoreNonKeyboardFocus:ge.with(()=>o()),skipDelayDuration:ge.with(()=>a())});var l=te(),c=j(l);Se(c,()=>e.children??Te),I(n,l),ve()}function Dg(n,e){be(e,!0);let t=F(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","ref"]);var i=te(),s=j(i);We(s,()=>pD,(o,a)=>{a(o,Ve({"data-slot":"tooltip-trigger"},()=>r,{get ref(){return t()},set ref(l){t(l)}}))}),I(n,i),ve()}var bD=de("<div></div>"),vD=de("<!> <!>",1);function Lg(n,e){be(e,!0);let t=F(e,"ref",15,null),r=F(e,"sideOffset",3,0),i=F(e,"side",3,"top"),s=Re(e,["$$slots","$$events","$$legacy","ref","class","sideOffset","side","children","arrowClasses"]);var o=te(),a=j(o);We(a,()=>id,(l,c)=>{c(l,{children:(u,d)=>{var h=te(),f=j(h);{let g=q(()=>zt("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-(--bits-tooltip-content-transform-origin) z-50 w-fit text-balance rounded-md px-3 py-1.5 text-xs",e.class));We(f,()=>hD,(m,y)=>{y(m,Ve({"data-slot":"tooltip-content",get sideOffset(){return r()},get side(){return i()},get class(){return w(g)}},()=>s,{get ref(){return t()},set ref(v){t(v)},children:(v,A)=>{var E=vD(),S=j(E);Se(S,()=>e.children??Te);var C=Ne(S,2);{const x=(N,D)=>{let V=()=>D?.().props;var O=bD();St(O,K=>({class:K,...V()}),[()=>zt("bg-primary z-50 size-2.5 rotate-45 rounded-[2px]","data-[side=top]:translate-x-1/2 data-[side=top]:translate-y-[calc(-50%_+_2px)]","data-[side=bottom]:-translate-x-1/2 data-[side=bottom]:-translate-y-[calc(-50%_+_1px)]","data-[side=right]:translate-x-[calc(50%_+_2px)] data-[side=right]:translate-y-1/2","data-[side=left]:-translate-y-[calc(50%_-_3px)]",e.arrowClasses)]),I(N,O)};We(C,()=>gD,(N,D)=>{D(N,{child:x,$$slots:{child:!0}})})}I(v,E)},$$slots:{default:!0}}))})}I(u,h)},$$slots:{default:!0}})}),I(n,o),ve()}const Fg=cD,yD=mD;$u({base:"peer/menu-button outline-hidden ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground group-has-data-[sidebar=menu-action]/menu-item:pr-8 data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm transition-[width,height,padding] focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:font-medium [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background hover:bg-sidebar-accent hover:text-sidebar-accent-foreground shadow-[0_0_0_1px_var(--sidebar-border)] hover:shadow-[0_0_0_1px_var(--sidebar-accent)]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"group-data-[collapsible=icon]:p-0! h-12 text-sm"}},defaultVariants:{variant:"default",size:"default"}});var wD=de("<li><!></li>");function _D(n,e){be(e,!0);let t=F(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=wD();St(i,o=>({"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",class:o,...r}),[()=>zt("group/menu-item relative",e.class)]);var s=he(i);Se(s,()=>e.children??Te),ue(i),fn(i,o=>t(o),()=>t()),I(n,i),ve()}var xD=de("<ul><!></ul>");function ED(n,e){be(e,!0);let t=F(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=xD();St(i,o=>({"data-slot":"sidebar-menu","data-sidebar":"menu",class:o,...r}),[()=>zt("flex w-full min-w-0 flex-col gap-1",e.class)]);var s=he(i);Se(s,()=>e.children??Te),ue(i),fn(i,o=>t(o),()=>t()),I(n,i),ve()}var AD=de("<div><!></div>");function SD(n,e){be(e,!0);let t=F(e,"ref",15,null),r=F(e,"open",15,!0),i=F(e,"onOpenChange",3,()=>{}),s=Re(e,["$$slots","$$events","$$legacy","ref","open","onOpenChange","class","style","children"]);const o=kN({open:()=>r(),setOpen:c=>{r(c),i()(c),document.cookie=`${yN}=${r()}; path=/; max-age=${wN}`}});var a=te();pi("keydown",of,function(...c){o.handleShortcutKeydown?.apply(this,c)});var l=j(a);We(l,()=>yD,(c,u)=>{u(c,{delayDuration:0,children:(d,h)=>{var f=AD();St(f,m=>({"data-slot":"sidebar-wrapper",style:`--sidebar-width: ${_N}; --sidebar-width-icon: ${EN}; ${e.style??""}`,class:m,...s}),[()=>zt("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",e.class)]);var g=he(f);Se(g,()=>e.children??Te),ue(f),fn(f,m=>t(m),()=>t()),I(d,f)},$$slots:{default:!0}})}),I(n,a),ve()}const Ad=$u({base:"focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive inline-flex shrink-0 items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium outline-none transition-all focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60 text-white",outline:"bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 border",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 gap-1.5 rounded-md px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});var kD=de("<a><!></a>"),CD=de("<button><!></button>");function Zn(n,e){be(e,!0);let t=F(e,"variant",3,"default"),r=F(e,"size",3,"default"),i=F(e,"ref",15,null),s=F(e,"href",3,void 0),o=F(e,"type",3,"button"),a=Re(e,["$$slots","$$events","$$legacy","class","variant","size","ref","href","type","disabled","children"]);var l=te(),c=j(l);{var u=h=>{var f=kD();St(f,m=>({"data-slot":"button",class:m,href:e.disabled?void 0:s(),"aria-disabled":e.disabled,role:e.disabled?"link":void 0,tabindex:e.disabled?-1:void 0,...a}),[()=>zt(Ad({variant:t(),size:r()}),e.class)],void 0,"svelte-1fk696n");var g=he(f);Se(g,()=>e.children??Te),ue(f),fn(f,m=>i(m),()=>i()),I(h,f)},d=h=>{var f=CD();St(f,m=>({"data-slot":"button",class:m,type:o(),disabled:e.disabled,...a}),[()=>zt(Ad({variant:t(),size:r()}),e.class)],void 0,"svelte-1fk696n");var g=he(f);Se(g,()=>e.children??Te),ue(f),fn(f,m=>i(m),()=>i()),I(h,f)};xe(c,h=>{s()?h(u):h(d,!1)})}I(n,l),ve()}/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 */const TD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var ND=Oo("<svg><!><!></svg>");function wn(n,e){be(e,!0);const t=F(e,"color",3,"currentColor"),r=F(e,"size",3,24),i=F(e,"strokeWidth",3,2),s=F(e,"absoluteStrokeWidth",3,!1),o=F(e,"iconNode",19,()=>[]),a=Re(e,["$$slots","$$events","$$legacy","name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","children"]);var l=ND();St(l,d=>({...TD,...a,width:r(),height:r(),stroke:t(),"stroke-width":d,class:["lucide-icon lucide",e.name&&`lucide-${e.name}`,e.class]}),[()=>s()?Number(i())*24/Number(r()):i()]);var c=he(l);es(c,17,o,Al,(d,h)=>{var f=q(()=>AS(w(h),2));let g=()=>w(f)[0],m=()=>w(f)[1];var y=te(),v=j(y);Wv(v,g,!0,(A,E)=>{St(A,()=>({...m()}))}),I(d,y)});var u=Ne(c);Se(u,()=>e.children??Te),ue(l),I(n,l),ve()}function ID(n,e){be(e,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=Re(e,["$$slots","$$events","$$legacy"]);const r=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M9 3v18"}]];wn(n,Ve({name:"panel-left"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=te(),a=j(o);Se(a,()=>e.children??Te),I(i,o)},$$slots:{default:!0}})),ve()}var PD=de('<!> <span class="sr-only">Toggle Sidebar</span>',1);function RD(n,e){be(e,!0),F(e,"ref",11,null);let t=Re(e,["$$slots","$$events","$$legacy","ref","class","onclick"]);const r=aw();{let i=q(()=>zt("size-7",e.class));Zn(n,Ve({"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",get class(){return w(i)},type:"button",onclick:s=>{e.onclick?.(s),r.toggle()}},()=>t,{children:(s,o)=>{var a=PD(),l=j(a);ID(l,{}),jn(2),I(s,a)},$$slots:{default:!0}}))}ve()}function OD(n,e){be(e,!0);let t=F(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","ref","class"]);var i=te(),s=j(i);{let o=q(()=>zt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e.class));We(s,()=>Qp,(a,l)=>{l(a,Ve({"data-slot":"sheet-overlay",get class(){return w(o)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))})}I(n,i),ve()}function qa(n,e){be(e,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=Re(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];wn(n,Ve({name:"x"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=te(),a=j(o);Se(a,()=>e.children??Te),I(i,o)},$$slots:{default:!0}})),ve()}const MD=$u({base:"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",variants:{side:{top:"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",bottom:"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",left:"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",right:"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm"}},defaultVariants:{side:"right"}});var DD=de('<!> <span class="sr-only">Close</span>',1),LD=de("<!> <!>",1),FD=de("<!> <!>",1);function BD(n,e){be(e,!0);let t=F(e,"ref",15,null),r=F(e,"side",3,"right"),i=Re(e,["$$slots","$$events","$$legacy","ref","class","side","portalProps","children"]);var s=te(),o=j(s);We(o,()=>id,(a,l)=>{l(a,Ve(()=>e.portalProps,{children:(c,u)=>{var d=FD(),h=j(d);OD(h,{});var f=Ne(h,2);{let g=q(()=>zt(MD({side:r()}),e.class));We(f,()=>G_,(m,y)=>{y(m,Ve({"data-slot":"sheet-content",get class(){return w(g)}},()=>i,{get ref(){return t()},set ref(v){t(v)},children:(v,A)=>{var E=LD(),S=j(E);Se(S,()=>e.children??Te);var C=Ne(S,2);We(C,()=>H_,(x,N)=>{N(x,{class:"ring-offset-background focus-visible:ring-ring rounded-xs focus-visible:outline-hidden absolute right-4 top-4 opacity-70 transition-opacity hover:opacity-100 focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none",children:(D,V)=>{var O=DD(),K=j(O);qa(K,{class:"size-4"}),jn(2),I(D,O)},$$slots:{default:!0}})}),I(v,E)},$$slots:{default:!0}}))})}I(c,d)},$$slots:{default:!0}}))}),I(n,s),ve()}var zD=de("<div><!></div>");function UD(n,e){be(e,!0);let t=F(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=zD();St(i,o=>({"data-slot":"sheet-header",class:o,...r}),[()=>zt("flex flex-col gap-1.5 p-4",e.class)]);var s=he(i);Se(s,()=>e.children??Te),ue(i),fn(i,o=>t(o),()=>t()),I(n,i),ve()}function HD(n,e){be(e,!0);let t=F(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","ref","class"]);var i=te(),s=j(i);{let o=q(()=>zt("text-foreground font-semibold",e.class));We(s,()=>Bp,(a,l)=>{l(a,Ve({"data-slot":"sheet-title",get class(){return w(o)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))})}I(n,i),ve()}function GD(n,e){be(e,!0);let t=F(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","ref","class"]);var i=te(),s=j(i);{let o=q(()=>zt("text-muted-foreground text-sm",e.class));We(s,()=>m_,(a,l)=>{l(a,Ve({"data-slot":"sheet-description",get class(){return w(o)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))})}I(n,i),ve()}const VD=U_;var jD=de("<div><!></div>"),qD=de("<!> <!>",1),WD=de('<!> <div class="flex h-full w-full flex-col"><!></div>',1),KD=de('<div class="text-sidebar-foreground group peer hidden md:block" data-slot="sidebar"><div data-slot="sidebar-gap"></div> <div><div data-sidebar="sidebar" data-slot="sidebar-inner" class="bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm"><!></div></div></div>');function $D(n,e){be(e,!0);let t=F(e,"ref",15,null),r=F(e,"side",3,"left"),i=F(e,"variant",3,"sidebar"),s=F(e,"collapsible",3,"offcanvas"),o=Re(e,["$$slots","$$events","$$legacy","ref","side","variant","collapsible","class","children"]);const a=aw();var l=te(),c=j(l);{var u=h=>{var f=jD();St(f,m=>({class:m,...o}),[()=>zt("bg-sidebar text-sidebar-foreground w-(--sidebar-width) flex h-full flex-col",e.class)]);var g=he(f);Se(g,()=>e.children??Te),ue(f),fn(f,m=>t(m),()=>t()),I(h,f)},d=h=>{var f=te(),g=j(f);{var m=v=>{var A=te(),E=j(A),S=()=>a.openMobile,C=x=>a.setOpenMobile(x);We(E,()=>VD,(x,N)=>{N(x,Ve({get open(){return S()},set open(D){C(D)}},()=>o,{children:(D,V)=>{var O=te(),K=j(O);We(K,()=>BD,(B,U)=>{U(B,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",class:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",get style(){return`--sidebar-width: ${xN};`},get side(){return r()},children:(L,W)=>{var H=WD(),Q=j(H);We(Q,()=>UD,(R,Ae)=>{Ae(R,{class:"sr-only",children:(ke,M)=>{var fe=qD(),Oe=j(fe);We(Oe,()=>HD,(Pe,$e)=>{$e(Pe,{children:(Fe,nn)=>{jn();var wt=Vr("Sidebar");I(Fe,wt)},$$slots:{default:!0}})});var Le=Ne(Oe,2);We(Le,()=>GD,(Pe,$e)=>{$e(Pe,{children:(Fe,nn)=>{jn();var wt=Vr("Displays the mobile sidebar.");I(Fe,wt)},$$slots:{default:!0}})}),I(ke,fe)},$$slots:{default:!0}})});var X=Ne(Q,2),le=he(X);Se(le,()=>e.children??Te),ue(X),I(L,H)},$$slots:{default:!0}})}),I(D,O)},$$slots:{default:!0}}))}),I(v,A)},y=v=>{var A=KD(),E=he(A),S=Ne(E,2);St(S,N=>({"data-slot":"sidebar-container",class:N,...o}),[()=>zt("w-(--sidebar-width) fixed inset-y-0 z-10 hidden h-svh transition-[left,right,width] duration-200 ease-linear md:flex",r()==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",i()==="floating"||i()==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",e.class)]);var C=he(S),x=he(C);Se(x,()=>e.children??Te),ue(C),ue(S),ue(A),fn(A,N=>t(N),()=>t()),ft(N=>{Ct(A,"data-state",a.state),Ct(A,"data-collapsible",a.state==="collapsed"?s():""),Ct(A,"data-variant",i()),Ct(A,"data-side",r()),Rn(E,1,N)},[()=>Ri(zt("w-(--sidebar-width) relative bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",i()==="floating"||i()==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)"))]),I(v,A)};xe(g,v=>{a.isMobile?v(m):v(y,!1)},!0)}I(h,f)};xe(c,h=>{s()==="none"?h(u):h(d,!1)})}I(n,l),ve()}function YD(n,e){be(e,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=Re(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]];wn(n,Ve({name:"arrow-up"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=te(),a=j(o);Se(a,()=>e.children??Te),I(i,o)},$$slots:{default:!0}})),ve()}function XD(n,e){be(e,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=Re(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M4.5 3h15"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3"}],["path",{d:"M6 14h12"}]];wn(n,Ve({name:"beaker"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=te(),a=j(o);Se(a,()=>e.children??Te),I(i,o)},$$slots:{default:!0}})),ve()}function ZD(n,e){be(e,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=Re(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18"}]];wn(n,Ve({name:"brain"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=te(),a=j(o);Se(a,()=>e.children??Te),I(i,o)},$$slots:{default:!0}})),ve()}function Z_(n,e){be(e,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=Re(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M20 6 9 17l-5-5"}]];wn(n,Ve({name:"check"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=te(),a=j(o);Se(a,()=>e.children??Te),I(i,o)},$$slots:{default:!0}})),ve()}function QD(n,e){be(e,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=Re(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m6 9 6 6 6-6"}]];wn(n,Ve({name:"chevron-down"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=te(),a=j(o);Se(a,()=>e.children??Te),I(i,o)},$$slots:{default:!0}})),ve()}function JD(n,e){be(e,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=Re(e,["$$slots","$$events","$$legacy"]);const r=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]];wn(n,Ve({name:"copy"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=te(),a=j(o);Se(a,()=>e.children??Te),I(i,o)},$$slots:{default:!0}})),ve()}function eL(n,e){be(e,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=Re(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}],["circle",{cx:"12",cy:"12",r:"3"}]];wn(n,Ve({name:"eye"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=te(),a=j(o);Se(a,()=>e.children??Te),I(i,o)},$$slots:{default:!0}})),ve()}function tL(n,e){be(e,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=Re(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M10 9H8"}],["path",{d:"M16 13H8"}],["path",{d:"M16 17H8"}]];wn(n,Ve({name:"file-text"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=te(),a=j(o);Se(a,()=>e.children??Te),I(i,o)},$$slots:{default:!0}})),ve()}function nL(n,e){be(e,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=Re(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}]];wn(n,Ve({name:"file"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=te(),a=j(o);Se(a,()=>e.children??Te),I(i,o)},$$slots:{default:!0}})),ve()}function rL(n,e){be(e,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=Re(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z"}]];wn(n,Ve({name:"funnel"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=te(),a=j(o);Se(a,()=>e.children??Te),I(i,o)},$$slots:{default:!0}})),ve()}function iL(n,e){be(e,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=Re(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15"}]];wn(n,Ve({name:"hand"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=te(),a=j(o);Se(a,()=>e.children??Te),I(i,o)},$$slots:{default:!0}})),ve()}function sL(n,e){be(e,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=Re(e,["$$slots","$$events","$$legacy"]);const r=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}],["circle",{cx:"9",cy:"9",r:"2"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"}]];wn(n,Ve({name:"image"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=te(),a=j(o);Se(a,()=>e.children??Te),I(i,o)},$$slots:{default:!0}})),ve()}function oL(n,e){be(e,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=Re(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}]];wn(n,Ve({name:"message-square"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=te(),a=j(o);Se(a,()=>e.children??Te),I(i,o)},$$slots:{default:!0}})),ve()}function Q_(n,e){be(e,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=Re(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 19v3"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3"}]];wn(n,Ve({name:"mic"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=te(),a=j(o);Se(a,()=>e.children??Te),I(i,o)},$$slots:{default:!0}})),ve()}function aL(n,e){be(e,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=Re(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M5 12h14"}]];wn(n,Ve({name:"minus"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=te(),a=j(o);Se(a,()=>e.children??Te),I(i,o)},$$slots:{default:!0}})),ve()}function J_(n,e){be(e,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=Re(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M9 18V5l12-2v13"}],["circle",{cx:"6",cy:"18",r:"3"}],["circle",{cx:"18",cy:"16",r:"3"}]];wn(n,Ve({name:"music"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=te(),a=j(o);Se(a,()=>e.children??Te),I(i,o)},$$slots:{default:!0}})),ve()}function lL(n,e){be(e,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=Re(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551"}]];wn(n,Ve({name:"paperclip"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=te(),a=j(o);Se(a,()=>e.children??Te),I(i,o)},$$slots:{default:!0}})),ve()}function cL(n,e){be(e,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=Re(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}],["path",{d:"m15 5 4 4"}]];wn(n,Ve({name:"pencil"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=te(),a=j(o);Se(a,()=>e.children??Te),I(i,o)},$$slots:{default:!0}})),ve()}function e0(n,e){be(e,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=Re(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];wn(n,Ve({name:"plus"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=te(),a=j(o);Se(a,()=>e.children??Te),I(i,o)},$$slots:{default:!0}})),ve()}function uL(n,e){be(e,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=Re(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}],["path",{d:"M21 3v5h-5"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}],["path",{d:"M8 16H3v5"}]];wn(n,Ve({name:"refresh-cw"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=te(),a=j(o);Se(a,()=>e.children??Te),I(i,o)},$$slots:{default:!0}})),ve()}function dL(n,e){be(e,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=Re(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m21 21-4.34-4.34"}],["circle",{cx:"11",cy:"11",r:"8"}]];wn(n,Ve({name:"search"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=te(),a=j(o);Se(a,()=>e.children??Te),I(i,o)},$$slots:{default:!0}})),ve()}function hL(n,e){be(e,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=Re(e,["$$slots","$$events","$$legacy"]);const r=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18"}]];wn(n,Ve({name:"server"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=te(),a=j(o);Se(a,()=>e.children??Te),I(i,o)},$$slots:{default:!0}})),ve()}function Bg(n,e){be(e,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=Re(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}],["circle",{cx:"12",cy:"12",r:"3"}]];wn(n,Ve({name:"settings"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=te(),a=j(o);Se(a,()=>e.children??Te),I(i,o)},$$slots:{default:!0}})),ve()}function fL(n,e){be(e,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=Re(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"}]];wn(n,Ve({name:"square-pen"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=te(),a=j(o);Se(a,()=>e.children??Te),I(i,o)},$$slots:{default:!0}})),ve()}function pL(n,e){be(e,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=Re(e,["$$slots","$$events","$$legacy"]);const r=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}]];wn(n,Ve({name:"square"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=te(),a=j(o);Se(a,()=>e.children??Te),I(i,o)},$$slots:{default:!0}})),ve()}function gL(n,e){be(e,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=Re(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]];wn(n,Ve({name:"trash-2"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=te(),a=j(o);Se(a,()=>e.children??Te),I(i,o)},$$slots:{default:!0}})),ve()}function mL(n,e){be(e,!0);/**
 * @license @lucide/svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */let t=Re(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 3v12"}],["path",{d:"m17 8-5-5-5 5"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}]];wn(n,Ve({name:"upload"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=te(),a=j(o);Se(a,()=>e.children??Te),I(i,o)},$$slots:{default:!0}})),ve()}function bL(n,e){be(e,!0);let t=F(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","ref"]);var i=te(),s=j(i);We(s,()=>tO,(o,a)=>{a(o,Ve({"data-slot":"alert-dialog-trigger"},()=>r,{get ref(){return t()},set ref(l){t(l)}}))}),I(n,i),ve()}function vL(n,e){be(e,!0);let t=F(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","ref","class"]);var i=te(),s=j(i);{let o=q(()=>zt("text-lg font-semibold",e.class));We(s,()=>Bp,(a,l)=>{l(a,Ve({"data-slot":"alert-dialog-title",get class(){return w(o)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))})}I(n,i),ve()}function yL(n,e){be(e,!0);let t=F(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","ref","class"]);var i=te(),s=j(i);{let o=q(()=>zt(Ad(),e.class));We(s,()=>lR,(a,l)=>{l(a,Ve({"data-slot":"alert-dialog-action",get class(){return w(o)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))})}I(n,i),ve()}function wL(n,e){be(e,!0);let t=F(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","ref","class"]);var i=te(),s=j(i);{let o=q(()=>zt(Ad({variant:"outline"}),e.class));We(s,()=>uR,(a,l)=>{l(a,Ve({"data-slot":"alert-dialog-cancel",get class(){return w(o)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))})}I(n,i),ve()}var _L=de("<div><!></div>");function xL(n,e){be(e,!0);let t=F(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=_L();St(i,o=>({"data-slot":"alert-dialog-footer",class:o,...r}),[()=>zt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e.class)]);var s=he(i);Se(s,()=>e.children??Te),ue(i),fn(i,o=>t(o),()=>t()),I(n,i),ve()}var EL=de("<div><!></div>");function AL(n,e){be(e,!0);let t=F(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=EL();St(i,o=>({"data-slot":"alert-dialog-header",class:o,...r}),[()=>zt("flex flex-col gap-2 text-center sm:text-left",e.class)]);var s=he(i);Se(s,()=>e.children??Te),ue(i),fn(i,o=>t(o),()=>t()),I(n,i),ve()}function SL(n,e){be(e,!0);let t=F(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","ref","class"]);var i=te(),s=j(i);{let o=q(()=>zt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e.class));We(s,()=>Qp,(a,l)=>{l(a,Ve({"data-slot":"alert-dialog-overlay",get class(){return w(o)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))})}I(n,i),ve()}var kL=de("<!> <!>",1);function CL(n,e){be(e,!0);let t=F(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","ref","class","portalProps"]);var i=te(),s=j(i);We(s,()=>id,(o,a)=>{a(o,Ve(()=>e.portalProps,{children:(l,c)=>{var u=kL(),d=j(u);SL(d,{});var h=Ne(d,2);{let f=q(()=>zt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed left-[50%] top-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e.class));We(h,()=>QR,(g,m)=>{m(g,Ve({"data-slot":"alert-dialog-content",get class(){return w(f)}},()=>r,{get ref(){return t()},set ref(y){t(y)}}))})}I(l,u)},$$slots:{default:!0}}))}),I(n,i),ve()}function TL(n,e){be(e,!0);let t=F(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","ref","class"]);var i=te(),s=j(i);{let o=q(()=>zt("text-muted-foreground text-sm",e.class));We(s,()=>m_,(a,l)=>{l(a,Ve({"data-slot":"alert-dialog-description",get class(){return w(o)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))})}I(n,i),ve()}const NL=sR;function IL(n,e){e.onSelect?.(e.conversation.id)}var PL=de('<div class="mt-2 flex flex-wrap items-center space-x-2 space-y-2"><span class="text-muted-foreground w-full text-xs"> </span></div>'),RL=de("<!> <!>",1),OL=de("<!> <!>",1),ML=de("<!> <!>",1),DL=de("<!> <!>",1),LL=de('<button><div class="text flex min-w-0 flex-1 items-center space-x-3"><div class="min-w-0 flex-1"><p class="truncate text-sm font-medium"> </p> <!></div></div> <div class="actions flex items-center space-x-1 svelte-11sul7w"><!> <!></div></button>');function FL(n,e){be(e,!0);let t=F(e,"isActive",3,!1),r=F(e,"showLastModified",3,!1);function i(A){const S=Date.now()-A,C=Math.floor(S/(1e3*60)),x=Math.floor(S/(1e3*60*60)),N=Math.floor(S/(1e3*60*60*24));return C<1?"Just now":C<60?`${C}m ago`:x<24?`${x}h ago`:`${N}d ago`}function s(A){A.stopPropagation(),e.onEdit?.(e.conversation.id)}function o(A){A.stopPropagation()}function a(){e.onDelete?.(e.conversation.id)}var l=LL();l.__click=[IL,e];var c=he(l),u=he(c),d=he(u),h=he(d,!0);ue(d);var f=Ne(d,2);{var g=A=>{var E=PL(),S=he(E),C=he(S,!0);ue(S),ue(E),ft(x=>Xt(C,x),[()=>i(e.conversation.lastModified)]),I(A,E)};xe(f,A=>{r()&&A(g)})}ue(u),ue(c);var m=Ne(c,2),y=he(m);Zn(y,{size:"sm",variant:"ghost",class:"h-6 w-6 p-0",onclick:s,children:(A,E)=>{cL(A,{class:"h-3 w-3"})},$$slots:{default:!0}});var v=Ne(y,2);We(v,()=>NL,(A,E)=>{E(A,{children:(S,C)=>{var x=DL(),N=j(x);We(N,()=>bL,(V,O)=>{O(V,{onclick:o,children:(K,B)=>{Zn(K,{size:"sm",variant:"ghost",class:"text-destructive hover:text-destructive h-6 w-6 p-0",children:(U,L)=>{gL(U,{class:"h-3 w-3"})},$$slots:{default:!0}})},$$slots:{default:!0}})});var D=Ne(N,2);We(D,()=>CL,(V,O)=>{O(V,{children:(K,B)=>{var U=ML(),L=j(U);We(L,()=>AL,(H,Q)=>{Q(H,{children:(X,le)=>{var R=RL(),Ae=j(R);We(Ae,()=>vL,(M,fe)=>{fe(M,{children:(Oe,Le)=>{jn();var Pe=Vr("Delete Conversation");I(Oe,Pe)},$$slots:{default:!0}})});var ke=Ne(Ae,2);We(ke,()=>TL,(M,fe)=>{fe(M,{children:(Oe,Le)=>{jn();var Pe=Vr();ft(()=>Xt(Pe,`Are you sure you want to delete "${e.conversation.name??""}"? This action cannot be
						undone and will permanently remove all messages in this conversation.`)),I(Oe,Pe)},$$slots:{default:!0}})}),I(X,R)},$$slots:{default:!0}})});var W=Ne(L,2);We(W,()=>xL,(H,Q)=>{Q(H,{children:(X,le)=>{var R=OL(),Ae=j(R);We(Ae,()=>wL,(M,fe)=>{fe(M,{children:(Oe,Le)=>{jn();var Pe=Vr("Cancel");I(Oe,Pe)},$$slots:{default:!0}})});var ke=Ne(Ae,2);We(ke,()=>yL,(M,fe)=>{fe(M,{class:"bg-destructive text-destructive-foreground",onclick:a,children:(Oe,Le)=>{jn();var Pe=Vr("Delete");I(Oe,Pe)},$$slots:{default:!0}})}),I(X,R)},$$slots:{default:!0}})}),I(K,U)},$$slots:{default:!0}})}),I(S,x)},$$slots:{default:!0}})}),ue(m),ue(l),ft(()=>{Rn(l,1,`hover:bg-accent group flex w-full cursor-pointer items-center justify-between space-x-3 rounded-lg p-3 text-left transition-colors ${t()?"bg-accent text-accent-foreground border-border border":"border border-transparent"}`,"svelte-11sul7w"),Xt(h,e.conversation.name)}),I(n,l),ve()}to(["click"]);class nc{baseUrl;abortController=null;constructor(e="http://localhost:8080"){this.baseUrl=e}async sendMessage(e,t={}){const{stream:r,temperature:i,max_tokens:s,onChunk:o,onComplete:a,onError:l}=t;this.abort(),this.abortController=new AbortController;const c={messages:e.map(u=>({role:u.role,content:u.content})),stream:r,temperature:i,max_tokens:s};try{const u=await fetch(`${this.baseUrl}/v1/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c),signal:this.abortController.signal});if(!u.ok)throw new Error(`HTTP error! status: ${u.status}`);return r?this.handleStreamResponse(u,o,a,l):this.handleNonStreamResponse(u,a,l)}catch(u){if(u instanceof Error&&u.name==="AbortError")return;const d=u instanceof Error?u:new Error("Unknown error");throw l?.(d),d}}async handleStreamResponse(e,t,r,i){const s=e.body?.getReader();if(!s)throw new Error("No response body");const o=new TextDecoder;let a="",l="",c="",u=!1;try{for(;;){const{done:d,value:h}=await s.read();if(d)break;const g=o.decode(h,{stream:!0}).split(`
`);for(const m of g)if(m.startsWith("data: ")){const y=m.slice(6);if(y==="[DONE]"){l.trim()&&console.log(" Think content:",l.trim()),c.trim()&&console.log(" Regular response:",c.trim()),r?.(a);return}try{const A=JSON.parse(y).choices[0]?.delta?.content;A&&(a+=A,u=this.processContentForThinkTags(A,u,E=>{l+=E},E=>{c+=E}),t?.(A))}catch(v){console.error("Error parsing JSON chunk:",v)}}}}catch(d){const h=d instanceof Error?d:new Error("Stream error");throw i?.(h),h}finally{s.releaseLock()}}async handleNonStreamResponse(e,t,r){try{const s=(await e.json()).choices[0]?.message?.content||"";return t?.(s),s}catch(i){const s=i instanceof Error?i:new Error("Parse error");throw r?.(s),s}}static convertMessageToChatData(e){if(!e.extra||e.extra.length===0)return{role:e.role,content:e.content};const t=[];e.content&&t.push({type:"text",text:e.content});const r=e.extra.filter(o=>o.type==="imageFile");for(const o of r)t.push({type:"image_url",image_url:{url:o.base64Url}});const i=e.extra.filter(o=>o.type==="textFile");for(const o of i)t.push({type:"text",text:`

--- File: ${o.name} ---
${o.content}`});const s=e.extra.filter(o=>o.type==="pdfFile");for(const o of s)if(o.processedAsImages&&o.images)for(let a=0;a<o.images.length;a++)t.push({type:"image_url",image_url:{url:o.images[a]}});else t.push({type:"text",text:`

--- PDF File: ${o.name} ---
${o.content}`});return{role:e.role,content:t}}async sendChatCompletion(e,t={}){const r=e.map(s=>{if("id"in s&&"convId"in s&&"timestamp"in s){const o=s;console.log("Converting message to API format:",{role:o.role,content:o.content,extra:o.extra});const a=nc.convertMessageToChatData(o);return console.log("Converted message:",a),a}else return s}),i={stream:!0,temperature:.7,max_tokens:2048,...t};return this.sendMessage(r,i)}static async sendChatCompletion(e,t,r,i){return await new nc().sendChatCompletion(e,{stream:!0,temperature:.7,max_tokens:2048,onChunk:t,onComplete:()=>r?.(),onError:i})}static async getServerProps(){try{const e=await fetch("http://localhost:8080/props",{headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`Failed to fetch server props: ${e.status}`);return await e.json()}catch(e){throw console.error("Error fetching server props:",e),e}}processContentForThinkTags(e,t,r,i){let s=0,o=t;for(;s<e.length;){if(!o&&e.substring(s,s+7)==="<think>"){o=!0,s+=7;continue}if(o&&e.substring(s,s+8)==="</think>"){o=!1,s+=8;continue}o?r(e[s]):i(e[s]),s++}return o}abort(){this.abortController&&(this.abortController.abort(),this.abortController=null)}}var Sd={exports:{}},BL=Sd.exports,t0;function zL(){return t0||(t0=1,function(n,e){(function(t,r){n.exports=r()})(BL,function(){var t=function(p,b){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,k){_.__proto__=k}||function(_,k){for(var T in k)Object.prototype.hasOwnProperty.call(k,T)&&(_[T]=k[T])})(p,b)},r=function(){return(r=Object.assign||function(p){for(var b,_=1,k=arguments.length;_<k;_++)for(var T in b=arguments[_])Object.prototype.hasOwnProperty.call(b,T)&&(p[T]=b[T]);return p}).apply(this,arguments)};function i(p,b,_){for(var k,T=0,P=b.length;T<P;T++)!k&&T in b||((k=k||Array.prototype.slice.call(b,0,T))[T]=b[T]);return p.concat(k||Array.prototype.slice.call(b))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:jC,o=Object.keys,a=Array.isArray;function l(p,b){return typeof b!="object"||o(b).forEach(function(_){p[_]=b[_]}),p}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var c=Object.getPrototypeOf,u={}.hasOwnProperty;function d(p,b){return u.call(p,b)}function h(p,b){typeof b=="function"&&(b=b(c(p))),(typeof Reflect>"u"?o:Reflect.ownKeys)(b).forEach(function(_){g(p,_,b[_])})}var f=Object.defineProperty;function g(p,b,_,k){f(p,b,l(_&&d(_,"get")&&typeof _.get=="function"?{get:_.get,set:_.set,configurable:!0}:{value:_,configurable:!0,writable:!0},k))}function m(p){return{from:function(b){return p.prototype=Object.create(b.prototype),g(p.prototype,"constructor",p),{extend:h.bind(null,p.prototype)}}}}var y=Object.getOwnPropertyDescriptor,v=[].slice;function A(p,b,_){return v.call(p,b,_)}function E(p,b){return b(p)}function S(p){if(!p)throw new Error("Assertion Failed")}function C(p){s.setImmediate?setImmediate(p):setTimeout(p,0)}function x(p,b){if(typeof b=="string"&&d(p,b))return p[b];if(!b)return p;if(typeof b!="string"){for(var _=[],k=0,T=b.length;k<T;++k){var P=x(p,b[k]);_.push(P)}return _}var z=b.indexOf(".");if(z!==-1){var $=p[b.substr(0,z)];return $==null?void 0:x($,b.substr(z+1))}}function N(p,b,_){if(p&&b!==void 0&&!("isFrozen"in Object&&Object.isFrozen(p)))if(typeof b!="string"&&"length"in b){S(typeof _!="string"&&"length"in _);for(var k=0,T=b.length;k<T;++k)N(p,b[k],_[k])}else{var P,z,$=b.indexOf(".");$!==-1?(P=b.substr(0,$),(z=b.substr($+1))===""?_===void 0?a(p)&&!isNaN(parseInt(P))?p.splice(P,1):delete p[P]:p[P]=_:N($=!($=p[P])||!d(p,P)?p[P]={}:$,z,_)):_===void 0?a(p)&&!isNaN(parseInt(b))?p.splice(b,1):delete p[b]:p[b]=_}}function D(p){var b,_={};for(b in p)d(p,b)&&(_[b]=p[b]);return _}var V=[].concat;function O(p){return V.apply([],p)}var ce="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(O([8,16,32,64].map(function(p){return["Int","Uint","Float"].map(function(b){return b+p+"Array"})}))).filter(function(p){return s[p]}),K=new Set(ce.map(function(p){return s[p]})),B=null;function U(p){return B=new WeakMap,p=function b(_){if(!_||typeof _!="object")return _;var k=B.get(_);if(k)return k;if(a(_)){k=[],B.set(_,k);for(var T=0,P=_.length;T<P;++T)k.push(b(_[T]))}else if(K.has(_.constructor))k=_;else{var z,$=c(_);for(z in k=$===Object.prototype?{}:Object.create($),B.set(_,k),_)d(_,z)&&(k[z]=b(_[z]))}return k}(p),B=null,p}var L={}.toString;function W(p){return L.call(p).slice(8,-1)}var H=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Q=typeof H=="symbol"?function(p){var b;return p!=null&&(b=p[H])&&b.apply(p)}:function(){return null};function X(p,b){return b=p.indexOf(b),0<=b&&p.splice(b,1),0<=b}var le={};function R(p){var b,_,k,T;if(arguments.length===1){if(a(p))return p.slice();if(this===le&&typeof p=="string")return[p];if(T=Q(p)){for(_=[];!(k=T.next()).done;)_.push(k.value);return _}if(p==null)return[p];if(typeof(b=p.length)!="number")return[p];for(_=new Array(b);b--;)_[b]=p[b];return _}for(b=arguments.length,_=new Array(b);b--;)_[b]=arguments[b];return _}var Ae=typeof Symbol<"u"?function(p){return p[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Pt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ui=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Pt),ke={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function M(p,b){this.name=p,this.message=b}function fe(p,b){return p+". Errors: "+Object.keys(b).map(function(_){return b[_].toString()}).filter(function(_,k,T){return T.indexOf(_)===k}).join(`
`)}function Oe(p,b,_,k){this.failures=b,this.failedKeys=k,this.successCount=_,this.message=fe(p,b)}function Le(p,b){this.name="BulkError",this.failures=Object.keys(b).map(function(_){return b[_]}),this.failuresByPos=b,this.message=fe(p,this.failures)}m(M).from(Error).extend({toString:function(){return this.name+": "+this.message}}),m(Oe).from(M),m(Le).from(M);var Pe=Ui.reduce(function(p,b){return p[b]=b+"Error",p},{}),$e=M,Fe=Ui.reduce(function(p,b){var _=b+"Error";function k(T,P){this.name=_,T?typeof T=="string"?(this.message="".concat(T).concat(P?`
 `+P:""),this.inner=P||null):typeof T=="object"&&(this.message="".concat(T.name," ").concat(T.message),this.inner=T):(this.message=ke[b]||_,this.inner=null)}return m(k).from($e),p[b]=k,p},{});Fe.Syntax=SyntaxError,Fe.Type=TypeError,Fe.Range=RangeError;var nn=Pt.reduce(function(p,b){return p[b+"Error"]=Fe[b],p},{}),wt=Ui.reduce(function(p,b){return["Syntax","Type","Range"].indexOf(b)===-1&&(p[b+"Error"]=Fe[b]),p},{});function ut(){}function Vt(p){return p}function rn(p,b){return p==null||p===Vt?b:function(_){return b(p(_))}}function it(p,b){return function(){p.apply(this,arguments),b.apply(this,arguments)}}function Ut(p,b){return p===ut?b:function(){var _=p.apply(this,arguments);_!==void 0&&(arguments[0]=_);var k=this.onsuccess,T=this.onerror;this.onsuccess=null,this.onerror=null;var P=b.apply(this,arguments);return k&&(this.onsuccess=this.onsuccess?it(k,this.onsuccess):k),T&&(this.onerror=this.onerror?it(T,this.onerror):T),P!==void 0?P:_}}function ar(p,b){return p===ut?b:function(){p.apply(this,arguments);var _=this.onsuccess,k=this.onerror;this.onsuccess=this.onerror=null,b.apply(this,arguments),_&&(this.onsuccess=this.onsuccess?it(_,this.onsuccess):_),k&&(this.onerror=this.onerror?it(k,this.onerror):k)}}function Un(p,b){return p===ut?b:function(_){var k=p.apply(this,arguments);l(_,k);var T=this.onsuccess,P=this.onerror;return this.onsuccess=null,this.onerror=null,_=b.apply(this,arguments),T&&(this.onsuccess=this.onsuccess?it(T,this.onsuccess):T),P&&(this.onerror=this.onerror?it(P,this.onerror):P),k===void 0?_===void 0?void 0:_:l(k,_)}}function lr(p,b){return p===ut?b:function(){return b.apply(this,arguments)!==!1&&p.apply(this,arguments)}}function Mn(p,b){return p===ut?b:function(){var _=p.apply(this,arguments);if(_&&typeof _.then=="function"){for(var k=this,T=arguments.length,P=new Array(T);T--;)P[T]=arguments[T];return _.then(function(){return b.apply(k,P)})}return b.apply(this,arguments)}}wt.ModifyError=Oe,wt.DexieError=M,wt.BulkError=Le;var An=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function pt(p){An=p}var At={},Nt=100,ce=typeof Promise>"u"?[]:function(){var p=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[p,c(p),p];var b=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[b,c(b),p]}(),Pt=ce[0],Ui=ce[1],ce=ce[2],Ui=Ui&&Ui.then,Ee=Pt&&Pt.constructor,Je=!!ce,_t=function(p,b){tt.push([p,b]),Sn&&(queueMicrotask(at),Sn=!1)},Mt=!0,Sn=!0,pn=[],hn=[],Hn=Vt,kn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ut,pgp:!1,env:{},finalize:ut},Ie=kn,tt=[],dt=0,sn=[];function De(p){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var b=this._PSD=Ie;if(typeof p!="function"){if(p!==At)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Cn(this,this._value))}this._state=null,this._value=null,++b.ref,function _(k,T){try{T(function(P){if(k._state===null){if(P===k)throw new TypeError("A promise cannot be resolved with itself.");var z=k._lib&&jt();P&&typeof P.then=="function"?_(k,function($,J){P instanceof De?P._then($,J):P.then($,J)}):(k._state=!0,k._value=P,Y(k)),z&&dn()}},Cn.bind(null,k))}catch(P){Cn(k,P)}}(this,p)}var bt={get:function(){var p=Ie,b=Yr;function _(k,T){var P=this,z=!p.global&&(p!==Ie||b!==Yr),$=z&&!Bi(),J=new De(function(ne,se){we(P,new Yt(ia(k,p,z,$),ia(T,p,z,$),ne,se,p))});return this._consoleTask&&(J._consoleTask=this._consoleTask),J}return _.prototype=At,_},set:function(p){g(this,"then",p&&p.prototype===At?bt:{get:function(){return p},set:bt.set})}};function Yt(p,b,_,k,T){this.onFulfilled=typeof p=="function"?p:null,this.onRejected=typeof b=="function"?b:null,this.resolve=_,this.reject=k,this.psd=T}function Cn(p,b){var _,k;hn.push(b),p._state===null&&(_=p._lib&&jt(),b=Hn(b),p._state=!1,p._value=b,k=p,pn.some(function(T){return T._value===k._value})||pn.push(k),Y(p),_&&dn())}function Y(p){var b=p._listeners;p._listeners=[];for(var _=0,k=b.length;_<k;++_)we(p,b[_]);var T=p._PSD;--T.ref||T.finalize(),dt===0&&(++dt,_t(function(){--dt==0&&et()},[]))}function we(p,b){if(p._state!==null){var _=p._state?b.onFulfilled:b.onRejected;if(_===null)return(p._state?b.resolve:b.reject)(p._value);++b.psd.ref,++dt,_t(Me,[_,p,b])}else p._listeners.push(b)}function Me(p,b,_){try{var k,T=b._value;!b._state&&hn.length&&(hn=[]),k=An&&b._consoleTask?b._consoleTask.run(function(){return p(T)}):p(T),b._state||hn.indexOf(T)!==-1||function(P){for(var z=pn.length;z;)if(pn[--z]._value===P._value)return pn.splice(z,1)}(b),_.resolve(k)}catch(P){_.reject(P)}finally{--dt==0&&et(),--_.psd.ref||_.psd.finalize()}}function at(){Ai(kn,function(){jt()&&dn()})}function jt(){var p=Mt;return Sn=Mt=!1,p}function dn(){var p,b,_;do for(;0<tt.length;)for(p=tt,tt=[],_=p.length,b=0;b<_;++b){var k=p[b];k[0].apply(null,k[1])}while(0<tt.length);Sn=Mt=!0}function et(){var p=pn;pn=[],p.forEach(function(k){k._PSD.onunhandled.call(null,k._value,k)});for(var b=sn.slice(0),_=b.length;_;)b[--_]()}function Xe(p){return new De(At,!1,p)}function Ke(p,b){var _=Ie;return function(){var k=jt(),T=Ie;try{return kr(_,!0),p.apply(this,arguments)}catch(P){b&&b(P)}finally{kr(T,!1),k&&dn()}}}h(De.prototype,{then:bt,_then:function(p,b){we(this,new Yt(null,null,p,b,Ie))},catch:function(p){if(arguments.length===1)return this.then(null,p);var b=p,_=arguments[1];return typeof b=="function"?this.then(null,function(k){return(k instanceof b?_:Xe)(k)}):this.then(null,function(k){return(k&&k.name===b?_:Xe)(k)})},finally:function(p){return this.then(function(b){return De.resolve(p()).then(function(){return b})},function(b){return De.resolve(p()).then(function(){return Xe(b)})})},timeout:function(p,b){var _=this;return p<1/0?new De(function(k,T){var P=setTimeout(function(){return T(new Fe.Timeout(b))},p);_.then(k,T).finally(clearTimeout.bind(null,P))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&g(De.prototype,Symbol.toStringTag,"Dexie.Promise"),kn.env=dl(),h(De,{all:function(){var p=R.apply(null,arguments).map(Ei);return new De(function(b,_){p.length===0&&b([]);var k=p.length;p.forEach(function(T,P){return De.resolve(T).then(function(z){p[P]=z,--k||b(p)},_)})})},resolve:function(p){return p instanceof De?p:p&&typeof p.then=="function"?new De(function(b,_){p.then(b,_)}):new De(At,!0,p)},reject:Xe,race:function(){var p=R.apply(null,arguments).map(Ei);return new De(function(b,_){p.map(function(k){return De.resolve(k).then(b,_)})})},PSD:{get:function(){return Ie},set:function(p){return Ie=p}},totalEchoes:{get:function(){return Yr}},newPSD:Mr,usePSD:Ai,scheduler:{get:function(){return _t},set:function(p){_t=p}},rejectionMapper:{get:function(){return Hn},set:function(p){Hn=p}},follow:function(p,b){return new De(function(_,k){return Mr(function(T,P){var z=Ie;z.unhandleds=[],z.onunhandled=P,z.finalize=it(function(){var $,J=this;$=function(){J.unhandleds.length===0?T():P(J.unhandleds[0])},sn.push(function ne(){$(),sn.splice(sn.indexOf(ne),1)}),++dt,_t(function(){--dt==0&&et()},[])},z.finalize),p()},b,_,k)})}}),Ee&&(Ee.allSettled&&g(De,"allSettled",function(){var p=R.apply(null,arguments).map(Ei);return new De(function(b){p.length===0&&b([]);var _=p.length,k=new Array(_);p.forEach(function(T,P){return De.resolve(T).then(function(z){return k[P]={status:"fulfilled",value:z}},function(z){return k[P]={status:"rejected",reason:z}}).then(function(){return--_||b(k)})})})}),Ee.any&&typeof AggregateError<"u"&&g(De,"any",function(){var p=R.apply(null,arguments).map(Ei);return new De(function(b,_){p.length===0&&_(new AggregateError([]));var k=p.length,T=new Array(k);p.forEach(function(P,z){return De.resolve(P).then(function($){return b($)},function($){T[z]=$,--k||_(new AggregateError(T))})})})}),Ee.withResolvers&&(De.withResolvers=Ee.withResolvers));var Lt={awaits:0,echoes:0,id:0},Dn=0,Fi=[],ms=0,Yr=0,Vs=0;function Mr(p,b,_,k){var T=Ie,P=Object.create(T);return P.parent=T,P.ref=0,P.global=!1,P.id=++Vs,kn.env,P.env=Je?{Promise:De,PromiseProp:{value:De,configurable:!0,writable:!0},all:De.all,race:De.race,allSettled:De.allSettled,any:De.any,resolve:De.resolve,reject:De.reject}:{},b&&l(P,b),++T.ref,P.finalize=function(){--this.parent.ref||this.parent.finalize()},k=Ai(P,p,_,k),P.ref===0&&P.finalize(),k}function bs(){return Lt.id||(Lt.id=++Dn),++Lt.awaits,Lt.echoes+=Nt,Lt.id}function Bi(){return!!Lt.awaits&&(--Lt.awaits==0&&(Lt.id=0),Lt.echoes=Lt.awaits*Nt,!0)}function Ei(p){return Lt.echoes&&p&&p.constructor===Ee?(bs(),p.then(function(b){return Bi(),b},function(b){return Bi(),Gn(b)})):p}function vs(){var p=Fi[Fi.length-1];Fi.pop(),kr(p,!1)}function kr(p,b){var _,k=Ie;(b?!Lt.echoes||ms++&&p===Ie:!ms||--ms&&p===Ie)||queueMicrotask(b?(function(T){++Yr,Lt.echoes&&--Lt.echoes!=0||(Lt.echoes=Lt.awaits=Lt.id=0),Fi.push(Ie),kr(T,!0)}).bind(null,p):vs),p!==Ie&&(Ie=p,k===kn&&(kn.env=dl()),Je&&(_=kn.env.Promise,b=p.env,(k.global||p.global)&&(Object.defineProperty(s,"Promise",b.PromiseProp),_.all=b.all,_.race=b.race,_.resolve=b.resolve,_.reject=b.reject,b.allSettled&&(_.allSettled=b.allSettled),b.any&&(_.any=b.any))))}function dl(){var p=s.Promise;return Je?{Promise:p,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:p.all,race:p.race,allSettled:p.allSettled,any:p.any,resolve:p.resolve,reject:p.reject}:{}}function Ai(p,b,_,k,T){var P=Ie;try{return kr(p,!0),b(_,k,T)}finally{kr(P,!1)}}function ia(p,b,_,k){return typeof p!="function"?p:function(){var T=Ie;_&&bs(),kr(b,!0);try{return p.apply(this,arguments)}finally{kr(T,!1),k&&queueMicrotask(Bi)}}}function ci(p){Promise===Ee&&Lt.echoes===0?ms===0?p():enqueueNativeMicroTask(p):setTimeout(p,0)}(""+Ui).indexOf("[native code]")===-1&&(bs=Bi=ut);var Gn=De.reject,ys="",Xi="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",wh="String expected.",mo=[],js="__dbnames",Dc="readonly",ze="readwrite";function ht(p,b){return p?b?function(){return p.apply(this,arguments)&&b.apply(this,arguments)}:p:b}var Zt={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function mn(p){return typeof p!="string"||/\./.test(p)?function(b){return b}:function(b){return b[p]===void 0&&p in b&&delete(b=U(b))[p],b}}function Wn(){throw Fe.Type()}function It(p,b){try{var _=Zi(p),k=Zi(b);if(_!==k)return _==="Array"?1:k==="Array"?-1:_==="binary"?1:k==="binary"?-1:_==="string"?1:k==="string"?-1:_==="Date"?1:k!=="Date"?NaN:-1;switch(_){case"number":case"Date":case"string":return b<p?1:p<b?-1:0;case"binary":return function(T,P){for(var z=T.length,$=P.length,J=z<$?z:$,ne=0;ne<J;++ne)if(T[ne]!==P[ne])return T[ne]<P[ne]?-1:1;return z===$?0:z<$?-1:1}(sa(p),sa(b));case"Array":return function(T,P){for(var z=T.length,$=P.length,J=z<$?z:$,ne=0;ne<J;++ne){var se=It(T[ne],P[ne]);if(se!==0)return se}return z===$?0:z<$?-1:1}(p,b)}}catch{}return NaN}function Zi(p){var b=typeof p;return b!="object"?b:ArrayBuffer.isView(p)?"binary":(p=W(p),p==="ArrayBuffer"?"binary":p)}function sa(p){return p instanceof Uint8Array?p:ArrayBuffer.isView(p)?new Uint8Array(p.buffer,p.byteOffset,p.byteLength):new Uint8Array(p)}var Dr=(cn.prototype._trans=function(p,b,_){var k=this._tx||Ie.trans,T=this.name,P=An&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(p==="readonly"?"read":"write"," ").concat(this.name));function z(ne,se,Z){if(!Z.schema[T])throw new Fe.NotFound("Table "+T+" not part of transaction");return b(Z.idbtrans,Z)}var $=jt();try{var J=k&&k.db._novip===this.db._novip?k===Ie.trans?k._promise(p,z,_):Mr(function(){return k._promise(p,z,_)},{trans:k,transless:Ie.transless||Ie}):function ne(se,Z,ae,ee){if(se.idbdb&&(se._state.openComplete||Ie.letThrough||se._vip)){var ie=se._createTransaction(Z,ae,se._dbSchema);try{ie.create(),se._state.PR1398_maxLoop=3}catch(oe){return oe.name===Pe.InvalidState&&se.isOpen()&&0<--se._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),se.close({disableAutoOpen:!1}),se.open().then(function(){return ne(se,Z,ae,ee)})):Gn(oe)}return ie._promise(Z,function(oe,re){return Mr(function(){return Ie.trans=ie,ee(oe,re,ie)})}).then(function(oe){if(Z==="readwrite")try{ie.idbtrans.commit()}catch{}return Z==="readonly"?oe:ie._completion.then(function(){return oe})})}if(se._state.openComplete)return Gn(new Fe.DatabaseClosed(se._state.dbOpenError));if(!se._state.isBeingOpened){if(!se._state.autoOpen)return Gn(new Fe.DatabaseClosed);se.open().catch(ut)}return se._state.dbReadyPromise.then(function(){return ne(se,Z,ae,ee)})}(this.db,p,[this.name],z);return P&&(J._consoleTask=P,J=J.catch(function(ne){return console.trace(ne),Gn(ne)})),J}finally{$&&dn()}},cn.prototype.get=function(p,b){var _=this;return p&&p.constructor===Object?this.where(p).first(b):p==null?Gn(new Fe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(k){return _.core.get({trans:k,key:p}).then(function(T){return _.hook.reading.fire(T)})}).then(b)},cn.prototype.where=function(p){if(typeof p=="string")return new this.db.WhereClause(this,p);if(a(p))return new this.db.WhereClause(this,"[".concat(p.join("+"),"]"));var b=o(p);if(b.length===1)return this.where(b[0]).equals(p[b[0]]);var _=this.schema.indexes.concat(this.schema.primKey).filter(function($){if($.compound&&b.every(function(ne){return 0<=$.keyPath.indexOf(ne)})){for(var J=0;J<b.length;++J)if(b.indexOf($.keyPath[J])===-1)return!1;return!0}return!1}).sort(function($,J){return $.keyPath.length-J.keyPath.length})[0];if(_&&this.db._maxKey!==ys){var P=_.keyPath.slice(0,b.length);return this.where(P).equals(P.map(function(J){return p[J]}))}!_&&An&&console.warn("The query ".concat(JSON.stringify(p)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(b.join("+"),"]"));var k=this.schema.idxByName;function T($,J){return It($,J)===0}var z=b.reduce(function(Z,J){var ne=Z[0],se=Z[1],Z=k[J],ae=p[J];return[ne||Z,ne||!Z?ht(se,Z&&Z.multi?function(ee){return ee=x(ee,J),a(ee)&&ee.some(function(ie){return T(ae,ie)})}:function(ee){return T(ae,x(ee,J))}):se]},[null,null]),P=z[0],z=z[1];return P?this.where(P.name).equals(p[P.keyPath]).filter(z):_?this.filter(z):this.where(b).equals("")},cn.prototype.filter=function(p){return this.toCollection().and(p)},cn.prototype.count=function(p){return this.toCollection().count(p)},cn.prototype.offset=function(p){return this.toCollection().offset(p)},cn.prototype.limit=function(p){return this.toCollection().limit(p)},cn.prototype.each=function(p){return this.toCollection().each(p)},cn.prototype.toArray=function(p){return this.toCollection().toArray(p)},cn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},cn.prototype.orderBy=function(p){return new this.db.Collection(new this.db.WhereClause(this,a(p)?"[".concat(p.join("+"),"]"):p))},cn.prototype.reverse=function(){return this.toCollection().reverse()},cn.prototype.mapToClass=function(p){var b,_=this.db,k=this.name;function T(){return b!==null&&b.apply(this,arguments)||this}(this.schema.mappedClass=p).prototype instanceof Wn&&(function(J,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Class extends value "+String(ne)+" is not a constructor or null");function se(){this.constructor=J}t(J,ne),J.prototype=ne===null?Object.create(ne):(se.prototype=ne.prototype,new se)}(T,b=p),Object.defineProperty(T.prototype,"db",{get:function(){return _},enumerable:!1,configurable:!0}),T.prototype.table=function(){return k},p=T);for(var P=new Set,z=p.prototype;z;z=c(z))Object.getOwnPropertyNames(z).forEach(function(J){return P.add(J)});function $(J){if(!J)return J;var ne,se=Object.create(p.prototype);for(ne in J)if(!P.has(ne))try{se[ne]=J[ne]}catch{}return se}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=$,this.hook("reading",$),p},cn.prototype.defineClass=function(){return this.mapToClass(function(p){l(this,p)})},cn.prototype.add=function(p,b){var _=this,k=this.schema.primKey,T=k.auto,P=k.keyPath,z=p;return P&&T&&(z=mn(P)(p)),this._trans("readwrite",function($){return _.core.mutate({trans:$,type:"add",keys:b!=null?[b]:null,values:[z]})}).then(function($){return $.numFailures?De.reject($.failures[0]):$.lastResult}).then(function($){if(P)try{N(p,P,$)}catch{}return $})},cn.prototype.update=function(p,b){return typeof p!="object"||a(p)?this.where(":id").equals(p).modify(b):(p=x(p,this.schema.primKey.keyPath),p===void 0?Gn(new Fe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(p).modify(b))},cn.prototype.put=function(p,b){var _=this,k=this.schema.primKey,T=k.auto,P=k.keyPath,z=p;return P&&T&&(z=mn(P)(p)),this._trans("readwrite",function($){return _.core.mutate({trans:$,type:"put",values:[z],keys:b!=null?[b]:null})}).then(function($){return $.numFailures?De.reject($.failures[0]):$.lastResult}).then(function($){if(P)try{N(p,P,$)}catch{}return $})},cn.prototype.delete=function(p){var b=this;return this._trans("readwrite",function(_){return b.core.mutate({trans:_,type:"delete",keys:[p]})}).then(function(_){return _.numFailures?De.reject(_.failures[0]):void 0})},cn.prototype.clear=function(){var p=this;return this._trans("readwrite",function(b){return p.core.mutate({trans:b,type:"deleteRange",range:Zt})}).then(function(b){return b.numFailures?De.reject(b.failures[0]):void 0})},cn.prototype.bulkGet=function(p){var b=this;return this._trans("readonly",function(_){return b.core.getMany({keys:p,trans:_}).then(function(k){return k.map(function(T){return b.hook.reading.fire(T)})})})},cn.prototype.bulkAdd=function(p,b,_){var k=this,T=Array.isArray(b)?b:void 0,P=(_=_||(T?void 0:b))?_.allKeys:void 0;return this._trans("readwrite",function(z){var ne=k.schema.primKey,$=ne.auto,ne=ne.keyPath;if(ne&&T)throw new Fe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(T&&T.length!==p.length)throw new Fe.InvalidArgument("Arguments objects and keys must have the same length");var J=p.length,ne=ne&&$?p.map(mn(ne)):p;return k.core.mutate({trans:z,type:"add",keys:T,values:ne,wantResults:P}).then(function(ie){var Z=ie.numFailures,ae=ie.results,ee=ie.lastResult,ie=ie.failures;if(Z===0)return P?ae:ee;throw new Le("".concat(k.name,".bulkAdd(): ").concat(Z," of ").concat(J," operations failed"),ie)})})},cn.prototype.bulkPut=function(p,b,_){var k=this,T=Array.isArray(b)?b:void 0,P=(_=_||(T?void 0:b))?_.allKeys:void 0;return this._trans("readwrite",function(z){var ne=k.schema.primKey,$=ne.auto,ne=ne.keyPath;if(ne&&T)throw new Fe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(T&&T.length!==p.length)throw new Fe.InvalidArgument("Arguments objects and keys must have the same length");var J=p.length,ne=ne&&$?p.map(mn(ne)):p;return k.core.mutate({trans:z,type:"put",keys:T,values:ne,wantResults:P}).then(function(ie){var Z=ie.numFailures,ae=ie.results,ee=ie.lastResult,ie=ie.failures;if(Z===0)return P?ae:ee;throw new Le("".concat(k.name,".bulkPut(): ").concat(Z," of ").concat(J," operations failed"),ie)})})},cn.prototype.bulkUpdate=function(p){var b=this,_=this.core,k=p.map(function(z){return z.key}),T=p.map(function(z){return z.changes}),P=[];return this._trans("readwrite",function(z){return _.getMany({trans:z,keys:k,cache:"clone"}).then(function($){var J=[],ne=[];p.forEach(function(Z,ae){var ee=Z.key,ie=Z.changes,oe=$[ae];if(oe){for(var re=0,pe=Object.keys(ie);re<pe.length;re++){var me=pe[re],ye=ie[me];if(me===b.schema.primKey.keyPath){if(It(ye,ee)!==0)throw new Fe.Constraint("Cannot update primary key in bulkUpdate()")}else N(oe,me,ye)}P.push(ae),J.push(ee),ne.push(oe)}});var se=J.length;return _.mutate({trans:z,type:"put",keys:J,values:ne,updates:{keys:k,changeSpecs:T}}).then(function(Z){var ae=Z.numFailures,ee=Z.failures;if(ae===0)return se;for(var ie=0,oe=Object.keys(ee);ie<oe.length;ie++){var re,pe=oe[ie],me=P[Number(pe)];me!=null&&(re=ee[pe],delete ee[pe],ee[me]=re)}throw new Le("".concat(b.name,".bulkUpdate(): ").concat(ae," of ").concat(se," operations failed"),ee)})})})},cn.prototype.bulkDelete=function(p){var b=this,_=p.length;return this._trans("readwrite",function(k){return b.core.mutate({trans:k,type:"delete",keys:p})}).then(function(z){var T=z.numFailures,P=z.lastResult,z=z.failures;if(T===0)return P;throw new Le("".concat(b.name,".bulkDelete(): ").concat(T," of ").concat(_," operations failed"),z)})},cn);function cn(){}function bo(p){function b(z,$){if($){for(var J=arguments.length,ne=new Array(J-1);--J;)ne[J-1]=arguments[J];return _[z].subscribe.apply(null,ne),p}if(typeof z=="string")return _[z]}var _={};b.addEventType=P;for(var k=1,T=arguments.length;k<T;++k)P(arguments[k]);return b;function P(z,$,J){if(typeof z!="object"){var ne;$=$||lr;var se={subscribers:[],fire:J=J||ut,subscribe:function(Z){se.subscribers.indexOf(Z)===-1&&(se.subscribers.push(Z),se.fire=$(se.fire,Z))},unsubscribe:function(Z){se.subscribers=se.subscribers.filter(function(ae){return ae!==Z}),se.fire=se.subscribers.reduce($,J)}};return _[z]=b[z]=se}o(ne=z).forEach(function(Z){var ae=ne[Z];if(a(ae))P(Z,ne[Z][0],ne[Z][1]);else{if(ae!=="asap")throw new Fe.InvalidArgument("Invalid event config");var ee=P(Z,Vt,function(){for(var ie=arguments.length,oe=new Array(ie);ie--;)oe[ie]=arguments[ie];ee.subscribers.forEach(function(re){C(function(){re.apply(null,oe)})})})}})}}function vo(p,b){return m(b).from({prototype:p}),b}function qs(p,b){return!(p.filter||p.algorithm||p.or)&&(b?p.justLimit:!p.replayFilter)}function Lc(p,b){p.filter=ht(p.filter,b)}function Fc(p,b,_){var k=p.replayFilter;p.replayFilter=k?function(){return ht(k(),b())}:b,p.justLimit=_&&!k}function hl(p,b){if(p.isPrimKey)return b.primaryKey;var _=b.getIndexByKeyPath(p.index);if(!_)throw new Fe.Schema("KeyPath "+p.index+" on object store "+b.name+" is not indexed");return _}function _h(p,b,_){var k=hl(p,b.schema);return b.openCursor({trans:_,values:!p.keysOnly,reverse:p.dir==="prev",unique:!!p.unique,query:{index:k,range:p.range}})}function Ws(p,b,_,k){var T=p.replayFilter?ht(p.filter,p.replayFilter()):p.filter;if(p.or){var P={},z=function($,J,ne){var se,Z;T&&!T(J,ne,function(ae){return J.stop(ae)},function(ae){return J.fail(ae)})||((Z=""+(se=J.primaryKey))=="[object ArrayBuffer]"&&(Z=""+new Uint8Array(se)),d(P,Z)||(P[Z]=!0,b($,J,ne)))};return Promise.all([p.or._iterate(z,_),Bc(_h(p,k,_),p.algorithm,z,!p.keysOnly&&p.valueMapper)])}return Bc(_h(p,k,_),ht(p.algorithm,T),b,!p.keysOnly&&p.valueMapper)}function Bc(p,b,_,k){var T=Ke(k?function(P,z,$){return _(k(P),z,$)}:_);return p.then(function(P){if(P)return P.start(function(){var z=function(){return P.continue()};b&&!b(P,function($){return z=$},function($){P.stop($),z=ut},function($){P.fail($),z=ut})||T(P.value,P,function($){return z=$}),z()})})}var Lr=(xh.prototype.execute=function(p){var b=this["@@propmod"];if(b.add!==void 0){var _=b.add;if(a(_))return i(i([],a(p)?p:[],!0),_).sort();if(typeof _=="number")return(Number(p)||0)+_;if(typeof _=="bigint")try{return BigInt(p)+_}catch{return BigInt(0)+_}throw new TypeError("Invalid term ".concat(_))}if(b.remove!==void 0){var k=b.remove;if(a(k))return a(p)?p.filter(function(T){return!k.includes(T)}).sort():[];if(typeof k=="number")return Number(p)-k;if(typeof k=="bigint")try{return BigInt(p)-k}catch{return BigInt(0)-k}throw new TypeError("Invalid subtrahend ".concat(k))}return _=(_=b.replacePrefix)===null||_===void 0?void 0:_[0],_&&typeof p=="string"&&p.startsWith(_)?b.replacePrefix[1]+p.substring(_.length):p},xh);function xh(p){this["@@propmod"]=p}var zc=(Ze.prototype._read=function(p,b){var _=this._ctx;return _.error?_.table._trans(null,Gn.bind(null,_.error)):_.table._trans("readonly",p).then(b)},Ze.prototype._write=function(p){var b=this._ctx;return b.error?b.table._trans(null,Gn.bind(null,b.error)):b.table._trans("readwrite",p,"locked")},Ze.prototype._addAlgorithm=function(p){var b=this._ctx;b.algorithm=ht(b.algorithm,p)},Ze.prototype._iterate=function(p,b){return Ws(this._ctx,p,b,this._ctx.table.core)},Ze.prototype.clone=function(p){var b=Object.create(this.constructor.prototype),_=Object.create(this._ctx);return p&&l(_,p),b._ctx=_,b},Ze.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ze.prototype.each=function(p){var b=this._ctx;return this._read(function(_){return Ws(b,p,_,b.table.core)})},Ze.prototype.count=function(p){var b=this;return this._read(function(_){var k=b._ctx,T=k.table.core;if(qs(k,!0))return T.count({trans:_,query:{index:hl(k,T.schema),range:k.range}}).then(function(z){return Math.min(z,k.limit)});var P=0;return Ws(k,function(){return++P,!1},_,T).then(function(){return P})}).then(p)},Ze.prototype.sortBy=function(p,b){var _=p.split(".").reverse(),k=_[0],T=_.length-1;function P(J,ne){return ne?P(J[_[ne]],ne-1):J[k]}var z=this._ctx.dir==="next"?1:-1;function $(J,ne){return It(P(J,T),P(ne,T))*z}return this.toArray(function(J){return J.sort($)}).then(b)},Ze.prototype.toArray=function(p){var b=this;return this._read(function(_){var k=b._ctx;if(k.dir==="next"&&qs(k,!0)&&0<k.limit){var T=k.valueMapper,P=hl(k,k.table.core.schema);return k.table.core.query({trans:_,limit:k.limit,values:!0,query:{index:P,range:k.range}}).then(function($){return $=$.result,T?$.map(T):$})}var z=[];return Ws(k,function($){return z.push($)},_,k.table.core).then(function(){return z})},p)},Ze.prototype.offset=function(p){var b=this._ctx;return p<=0||(b.offset+=p,qs(b)?Fc(b,function(){var _=p;return function(k,T){return _===0||(_===1?--_:T(function(){k.advance(_),_=0}),!1)}}):Fc(b,function(){var _=p;return function(){return--_<0}})),this},Ze.prototype.limit=function(p){return this._ctx.limit=Math.min(this._ctx.limit,p),Fc(this._ctx,function(){var b=p;return function(_,k,T){return--b<=0&&k(T),0<=b}},!0),this},Ze.prototype.until=function(p,b){return Lc(this._ctx,function(_,k,T){return!p(_.value)||(k(T),b)}),this},Ze.prototype.first=function(p){return this.limit(1).toArray(function(b){return b[0]}).then(p)},Ze.prototype.last=function(p){return this.reverse().first(p)},Ze.prototype.filter=function(p){var b;return Lc(this._ctx,function(_){return p(_.value)}),(b=this._ctx).isMatch=ht(b.isMatch,p),this},Ze.prototype.and=function(p){return this.filter(p)},Ze.prototype.or=function(p){return new this.db.WhereClause(this._ctx.table,p,this)},Ze.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ze.prototype.desc=function(){return this.reverse()},Ze.prototype.eachKey=function(p){var b=this._ctx;return b.keysOnly=!b.isMatch,this.each(function(_,k){p(k.key,k)})},Ze.prototype.eachUniqueKey=function(p){return this._ctx.unique="unique",this.eachKey(p)},Ze.prototype.eachPrimaryKey=function(p){var b=this._ctx;return b.keysOnly=!b.isMatch,this.each(function(_,k){p(k.primaryKey,k)})},Ze.prototype.keys=function(p){var b=this._ctx;b.keysOnly=!b.isMatch;var _=[];return this.each(function(k,T){_.push(T.key)}).then(function(){return _}).then(p)},Ze.prototype.primaryKeys=function(p){var b=this._ctx;if(b.dir==="next"&&qs(b,!0)&&0<b.limit)return this._read(function(k){var T=hl(b,b.table.core.schema);return b.table.core.query({trans:k,values:!1,limit:b.limit,query:{index:T,range:b.range}})}).then(function(k){return k.result}).then(p);b.keysOnly=!b.isMatch;var _=[];return this.each(function(k,T){_.push(T.primaryKey)}).then(function(){return _}).then(p)},Ze.prototype.uniqueKeys=function(p){return this._ctx.unique="unique",this.keys(p)},Ze.prototype.firstKey=function(p){return this.limit(1).keys(function(b){return b[0]}).then(p)},Ze.prototype.lastKey=function(p){return this.reverse().firstKey(p)},Ze.prototype.distinct=function(){var p=this._ctx,p=p.index&&p.table.schema.idxByName[p.index];if(!p||!p.multi)return this;var b={};return Lc(this._ctx,function(T){var k=T.primaryKey.toString(),T=d(b,k);return b[k]=!0,!T}),this},Ze.prototype.modify=function(p){var b=this,_=this._ctx;return this._write(function(k){var T,P,z;z=typeof p=="function"?p:(T=o(p),P=T.length,function(re){for(var pe=!1,me=0;me<P;++me){var ye=T[me],Ce=p[ye],Ue=x(re,ye);Ce instanceof Lr?(N(re,ye,Ce.execute(Ue)),pe=!0):Ue!==Ce&&(N(re,ye,Ce),pe=!0)}return pe});var $=_.table.core,Z=$.schema.primaryKey,J=Z.outbound,ne=Z.extractKey,se=200,Z=b.db._options.modifyChunkSize;Z&&(se=typeof Z=="object"?Z[$.name]||Z["*"]||200:Z);function ae(re,ye){var me=ye.failures,ye=ye.numFailures;ie+=re-ye;for(var Ce=0,Ue=o(me);Ce<Ue.length;Ce++){var qe=Ue[Ce];ee.push(me[qe])}}var ee=[],ie=0,oe=[];return b.clone().primaryKeys().then(function(re){function pe(ye){var Ce=Math.min(se,re.length-ye);return $.getMany({trans:k,keys:re.slice(ye,ye+Ce),cache:"immutable"}).then(function(Ue){for(var qe=[],He=[],Ge=J?[]:null,Ye=[],je=0;je<Ce;++je){var nt=Ue[je],Ht={value:U(nt),primKey:re[ye+je]};z.call(Ht,Ht.value,Ht)!==!1&&(Ht.value==null?Ye.push(re[ye+je]):J||It(ne(nt),ne(Ht.value))===0?(He.push(Ht.value),J&&Ge.push(re[ye+je])):(Ye.push(re[ye+je]),qe.push(Ht.value)))}return Promise.resolve(0<qe.length&&$.mutate({trans:k,type:"add",values:qe}).then(function(Qt){for(var Jt in Qt.failures)Ye.splice(parseInt(Jt),1);ae(qe.length,Qt)})).then(function(){return(0<He.length||me&&typeof p=="object")&&$.mutate({trans:k,type:"put",keys:Ge,values:He,criteria:me,changeSpec:typeof p!="function"&&p,isAdditionalChunk:0<ye}).then(function(Qt){return ae(He.length,Qt)})}).then(function(){return(0<Ye.length||me&&p===fl)&&$.mutate({trans:k,type:"delete",keys:Ye,criteria:me,isAdditionalChunk:0<ye}).then(function(Qt){return ae(Ye.length,Qt)})}).then(function(){return re.length>ye+Ce&&pe(ye+se)})})}var me=qs(_)&&_.limit===1/0&&(typeof p!="function"||p===fl)&&{index:_.index,range:_.range};return pe(0).then(function(){if(0<ee.length)throw new Oe("Error modifying one or more objects",ee,ie,oe);return re.length})})})},Ze.prototype.delete=function(){var p=this._ctx,b=p.range;return qs(p)&&(p.isPrimKey||b.type===3)?this._write(function(_){var k=p.table.core.schema.primaryKey,T=b;return p.table.core.count({trans:_,query:{index:k,range:T}}).then(function(P){return p.table.core.mutate({trans:_,type:"deleteRange",range:T}).then(function(z){var $=z.failures;if(z.lastResult,z.results,z=z.numFailures,z)throw new Oe("Could not delete some values",Object.keys($).map(function(J){return $[J]}),P-z);return P-z})})}):this.modify(fl)},Ze);function Ze(){}var fl=function(p,b){return b.value=null};function fr(p,b){return p<b?-1:p===b?0:1}function Tn(p,b){return b<p?-1:p===b?0:1}function vr(p,b,_){return p=p instanceof gt?new p.Collection(p):p,p._ctx.error=new(_||TypeError)(b),p}function ui(p){return new p.Collection(p,function(){return Qe("")}).limit(0)}function yo(p,b,_,k){var T,P,z,$,J,ne,se,Z=_.length;if(!_.every(function(ie){return typeof ie=="string"}))return vr(p,wh);function ae(ie){T=ie==="next"?function(re){return re.toUpperCase()}:function(re){return re.toLowerCase()},P=ie==="next"?function(re){return re.toLowerCase()}:function(re){return re.toUpperCase()},z=ie==="next"?fr:Tn;var oe=_.map(function(re){return{lower:P(re),upper:T(re)}}).sort(function(re,pe){return z(re.lower,pe.lower)});$=oe.map(function(re){return re.upper}),J=oe.map(function(re){return re.lower}),se=(ne=ie)==="next"?"":k}ae("next"),p=new p.Collection(p,function(){return zi($[0],J[Z-1]+k)}),p._ondirectionchange=function(ie){ae(ie)};var ee=0;return p._addAlgorithm(function(ie,oe,re){var pe=ie.key;if(typeof pe!="string")return!1;var me=P(pe);if(b(me,J,ee))return!0;for(var ye=null,Ce=ee;Ce<Z;++Ce){var Ue=function(qe,He,Ge,Ye,je,nt){for(var Ht=Math.min(qe.length,Ye.length),Qt=-1,Jt=0;Jt<Ht;++Jt){var Si=He[Jt];if(Si!==Ye[Jt])return je(qe[Jt],Ge[Jt])<0?qe.substr(0,Jt)+Ge[Jt]+Ge.substr(Jt+1):je(qe[Jt],Ye[Jt])<0?qe.substr(0,Jt)+Ye[Jt]+Ge.substr(Jt+1):0<=Qt?qe.substr(0,Qt)+He[Qt]+Ge.substr(Qt+1):null;je(qe[Jt],Si)<0&&(Qt=Jt)}return Ht<Ye.length&&nt==="next"?qe+Ge.substr(qe.length):Ht<qe.length&&nt==="prev"?qe.substr(0,Ge.length):Qt<0?null:qe.substr(0,Qt)+Ye[Qt]+Ge.substr(Qt+1)}(pe,me,$[Ce],J[Ce],z,ne);Ue===null&&ye===null?ee=Ce+1:(ye===null||0<z(ye,Ue))&&(ye=Ue)}return oe(ye!==null?function(){ie.continue(ye+se)}:re),!1}),p}function zi(p,b,_,k){return{type:2,lower:p,upper:b,lowerOpen:_,upperOpen:k}}function Qe(p){return{type:1,lower:p,upper:p}}var gt=(Object.defineProperty(mt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),mt.prototype.between=function(p,b,_,k){_=_!==!1,k=k===!0;try{return 0<this._cmp(p,b)||this._cmp(p,b)===0&&(_||k)&&(!_||!k)?ui(this):new this.Collection(this,function(){return zi(p,b,!_,!k)})}catch{return vr(this,Xi)}},mt.prototype.equals=function(p){return p==null?vr(this,Xi):new this.Collection(this,function(){return Qe(p)})},mt.prototype.above=function(p){return p==null?vr(this,Xi):new this.Collection(this,function(){return zi(p,void 0,!0)})},mt.prototype.aboveOrEqual=function(p){return p==null?vr(this,Xi):new this.Collection(this,function(){return zi(p,void 0,!1)})},mt.prototype.below=function(p){return p==null?vr(this,Xi):new this.Collection(this,function(){return zi(void 0,p,!1,!0)})},mt.prototype.belowOrEqual=function(p){return p==null?vr(this,Xi):new this.Collection(this,function(){return zi(void 0,p)})},mt.prototype.startsWith=function(p){return typeof p!="string"?vr(this,wh):this.between(p,p+ys,!0,!0)},mt.prototype.startsWithIgnoreCase=function(p){return p===""?this.startsWith(p):yo(this,function(b,_){return b.indexOf(_[0])===0},[p],ys)},mt.prototype.equalsIgnoreCase=function(p){return yo(this,function(b,_){return b===_[0]},[p],"")},mt.prototype.anyOfIgnoreCase=function(){var p=R.apply(le,arguments);return p.length===0?ui(this):yo(this,function(b,_){return _.indexOf(b)!==-1},p,"")},mt.prototype.startsWithAnyOfIgnoreCase=function(){var p=R.apply(le,arguments);return p.length===0?ui(this):yo(this,function(b,_){return _.some(function(k){return b.indexOf(k)===0})},p,ys)},mt.prototype.anyOf=function(){var p=this,b=R.apply(le,arguments),_=this._cmp;try{b.sort(_)}catch{return vr(this,Xi)}if(b.length===0)return ui(this);var k=new this.Collection(this,function(){return zi(b[0],b[b.length-1])});k._ondirectionchange=function(P){_=P==="next"?p._ascending:p._descending,b.sort(_)};var T=0;return k._addAlgorithm(function(P,z,$){for(var J=P.key;0<_(J,b[T]);)if(++T===b.length)return z($),!1;return _(J,b[T])===0||(z(function(){P.continue(b[T])}),!1)}),k},mt.prototype.notEqual=function(p){return this.inAnyRange([[-1/0,p],[p,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},mt.prototype.noneOf=function(){var p=R.apply(le,arguments);if(p.length===0)return new this.Collection(this);try{p.sort(this._ascending)}catch{return vr(this,Xi)}var b=p.reduce(function(_,k){return _?_.concat([[_[_.length-1][1],k]]):[[-1/0,k]]},null);return b.push([p[p.length-1],this.db._maxKey]),this.inAnyRange(b,{includeLowers:!1,includeUppers:!1})},mt.prototype.inAnyRange=function(pe,b){var _=this,k=this._cmp,T=this._ascending,P=this._descending,z=this._min,$=this._max;if(pe.length===0)return ui(this);if(!pe.every(function(me){return me[0]!==void 0&&me[1]!==void 0&&T(me[0],me[1])<=0}))return vr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Fe.InvalidArgument);var J=!b||b.includeLowers!==!1,ne=b&&b.includeUppers===!0,se,Z=T;function ae(me,ye){return Z(me[0],ye[0])}try{(se=pe.reduce(function(me,ye){for(var Ce=0,Ue=me.length;Ce<Ue;++Ce){var qe=me[Ce];if(k(ye[0],qe[1])<0&&0<k(ye[1],qe[0])){qe[0]=z(qe[0],ye[0]),qe[1]=$(qe[1],ye[1]);break}}return Ce===Ue&&me.push(ye),me},[])).sort(ae)}catch{return vr(this,Xi)}var ee=0,ie=ne?function(me){return 0<T(me,se[ee][1])}:function(me){return 0<=T(me,se[ee][1])},oe=J?function(me){return 0<P(me,se[ee][0])}:function(me){return 0<=P(me,se[ee][0])},re=ie,pe=new this.Collection(this,function(){return zi(se[0][0],se[se.length-1][1],!J,!ne)});return pe._ondirectionchange=function(me){Z=me==="next"?(re=ie,T):(re=oe,P),se.sort(ae)},pe._addAlgorithm(function(me,ye,Ce){for(var Ue,qe=me.key;re(qe);)if(++ee===se.length)return ye(Ce),!1;return!ie(Ue=qe)&&!oe(Ue)||(_._cmp(qe,se[ee][1])===0||_._cmp(qe,se[ee][0])===0||ye(function(){Z===T?me.continue(se[ee][0]):me.continue(se[ee][1])}),!1)}),pe},mt.prototype.startsWithAnyOf=function(){var p=R.apply(le,arguments);return p.every(function(b){return typeof b=="string"})?p.length===0?ui(this):this.inAnyRange(p.map(function(b){return[b,b+ys]})):vr(this,"startsWithAnyOf() only works with strings")},mt);function mt(){}function qt(p){return Ke(function(b){return Kn(b),p(b.target.error),!1})}function Kn(p){p.stopPropagation&&p.stopPropagation(),p.preventDefault&&p.preventDefault()}var Xr="storagemutated",Uc="x-storagemutated-1",ws=bo(null,Xr),Kq=(_s.prototype._lock=function(){return S(!Ie.global),++this._reculock,this._reculock!==1||Ie.global||(Ie.lockOwnerFor=this),this},_s.prototype._unlock=function(){if(S(!Ie.global),--this._reculock==0)for(Ie.global||(Ie.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var p=this._blockedFuncs.shift();try{Ai(p[1],p[0])}catch{}}return this},_s.prototype._locked=function(){return this._reculock&&Ie.lockOwnerFor!==this},_s.prototype.create=function(p){var b=this;if(!this.mode)return this;var _=this.db.idbdb,k=this.db._state.dbOpenError;if(S(!this.idbtrans),!p&&!_)switch(k&&k.name){case"DatabaseClosedError":throw new Fe.DatabaseClosed(k);case"MissingAPIError":throw new Fe.MissingAPI(k.message,k);default:throw new Fe.OpenFailed(k)}if(!this.active)throw new Fe.TransactionInactive;return S(this._completion._state===null),(p=this.idbtrans=p||(this.db.core||_).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ke(function(T){Kn(T),b._reject(p.error)}),p.onabort=Ke(function(T){Kn(T),b.active&&b._reject(new Fe.Abort(p.error)),b.active=!1,b.on("abort").fire(T)}),p.oncomplete=Ke(function(){b.active=!1,b._resolve(),"mutatedParts"in p&&ws.storagemutated.fire(p.mutatedParts)}),this},_s.prototype._promise=function(p,b,_){var k=this;if(p==="readwrite"&&this.mode!=="readwrite")return Gn(new Fe.ReadOnly("Transaction is readonly"));if(!this.active)return Gn(new Fe.TransactionInactive);if(this._locked())return new De(function(P,z){k._blockedFuncs.push([function(){k._promise(p,b,_).then(P,z)},Ie])});if(_)return Mr(function(){var P=new De(function(z,$){k._lock();var J=b(z,$,k);J&&J.then&&J.then(z,$)});return P.finally(function(){return k._unlock()}),P._lib=!0,P});var T=new De(function(P,z){var $=b(P,z,k);$&&$.then&&$.then(P,z)});return T._lib=!0,T},_s.prototype._root=function(){return this.parent?this.parent._root():this},_s.prototype.waitFor=function(p){var b,_=this._root(),k=De.resolve(p);_._waitingFor?_._waitingFor=_._waitingFor.then(function(){return k}):(_._waitingFor=k,_._waitingQueue=[],b=_.idbtrans.objectStore(_.storeNames[0]),function P(){for(++_._spinCount;_._waitingQueue.length;)_._waitingQueue.shift()();_._waitingFor&&(b.get(-1/0).onsuccess=P)}());var T=_._waitingFor;return new De(function(P,z){k.then(function($){return _._waitingQueue.push(Ke(P.bind(null,$)))},function($){return _._waitingQueue.push(Ke(z.bind(null,$)))}).finally(function(){_._waitingFor===T&&(_._waitingFor=null)})})},_s.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Fe.Abort))},_s.prototype.table=function(p){var b=this._memoizedTables||(this._memoizedTables={});if(d(b,p))return b[p];var _=this.schema[p];if(!_)throw new Fe.NotFound("Table "+p+" not part of transaction");return _=new this.db.Table(p,_,this),_.core=this.db.core.table(p),b[p]=_},_s);function _s(){}function Eb(p,b,_,k,T,P,z){return{name:p,keyPath:b,unique:_,multi:k,auto:T,compound:P,src:(_&&!z?"&":"")+(k?"*":"")+(T?"++":"")+eS(b)}}function eS(p){return typeof p=="string"?p:p?"["+[].join.call(p,"+")+"]":""}function Ab(p,b,_){return{name:p,primKey:b,indexes:_,mappedClass:null,idxByName:(k=function(T){return[T.name,T]},_.reduce(function(T,P,z){return z=k(P,z),z&&(T[z[0]]=z[1]),T},{}))};var k}var Hc=function(p){try{return p.only([[]]),Hc=function(){return[[]]},[[]]}catch{return Hc=function(){return ys},ys}};function Sb(p){return p==null?function(){}:typeof p=="string"?(b=p).split(".").length===1?function(_){return _[b]}:function(_){return x(_,b)}:function(_){return x(_,p)};var b}function tS(p){return[].slice.call(p)}var $q=0;function Gc(p){return p==null?":id":typeof p=="string"?p:"[".concat(p.join("+"),"]")}function Yq(p,b,J){function k(re){if(re.type===3)return null;if(re.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var ee=re.lower,ie=re.upper,oe=re.lowerOpen,re=re.upperOpen;return ee===void 0?ie===void 0?null:b.upperBound(ie,!!re):ie===void 0?b.lowerBound(ee,!!oe):b.bound(ee,ie,!!oe,!!re)}function T(ae){var ee,ie=ae.name;return{name:ie,schema:ae,mutate:function(oe){var re=oe.trans,pe=oe.type,me=oe.keys,ye=oe.values,Ce=oe.range;return new Promise(function(Ue,qe){Ue=Ke(Ue);var He=re.objectStore(ie),Ge=He.keyPath==null,Ye=pe==="put"||pe==="add";if(!Ye&&pe!=="delete"&&pe!=="deleteRange")throw new Error("Invalid operation type: "+pe);var je,nt=(me||ye||{length:1}).length;if(me&&ye&&me.length!==ye.length)throw new Error("Given keys array must have same length as given values array.");if(nt===0)return Ue({numFailures:0,failures:{},results:[],lastResult:void 0});function Ht(Zr){++Si,Kn(Zr)}var Qt=[],Jt=[],Si=0;if(pe==="deleteRange"){if(Ce.type===4)return Ue({numFailures:Si,failures:Jt,results:[],lastResult:void 0});Ce.type===3?Qt.push(je=He.clear()):Qt.push(je=He.delete(k(Ce)))}else{var Ge=Ye?Ge?[ye,me]:[ye,null]:[me,null],Ft=Ge[0],Br=Ge[1];if(Ye)for(var zr=0;zr<nt;++zr)Qt.push(je=Br&&Br[zr]!==void 0?He[pe](Ft[zr],Br[zr]):He[pe](Ft[zr])),je.onerror=Ht;else for(zr=0;zr<nt;++zr)Qt.push(je=He[pe](Ft[zr])),je.onerror=Ht}function Dh(Zr){Zr=Zr.target.result,Qt.forEach(function(la,Vb){return la.error!=null&&(Jt[Vb]=la.error)}),Ue({numFailures:Si,failures:Jt,results:pe==="delete"?me:Qt.map(function(la){return la.result}),lastResult:Zr})}je.onerror=function(Zr){Ht(Zr),Dh(Zr)},je.onsuccess=Dh})},getMany:function(oe){var re=oe.trans,pe=oe.keys;return new Promise(function(me,ye){me=Ke(me);for(var Ce,Ue=re.objectStore(ie),qe=pe.length,He=new Array(qe),Ge=0,Ye=0,je=function(Qt){Qt=Qt.target,He[Qt._pos]=Qt.result,++Ye===Ge&&me(He)},nt=qt(ye),Ht=0;Ht<qe;++Ht)pe[Ht]!=null&&((Ce=Ue.get(pe[Ht]))._pos=Ht,Ce.onsuccess=je,Ce.onerror=nt,++Ge);Ge===0&&me(He)})},get:function(oe){var re=oe.trans,pe=oe.key;return new Promise(function(me,ye){me=Ke(me);var Ce=re.objectStore(ie).get(pe);Ce.onsuccess=function(Ue){return me(Ue.target.result)},Ce.onerror=qt(ye)})},query:(ee=ne,function(oe){return new Promise(function(re,pe){re=Ke(re);var me,ye,Ce,Ge=oe.trans,Ue=oe.values,qe=oe.limit,je=oe.query,He=qe===1/0?void 0:qe,Ye=je.index,je=je.range,Ge=Ge.objectStore(ie),Ye=Ye.isPrimaryKey?Ge:Ge.index(Ye.name),je=k(je);if(qe===0)return re({result:[]});ee?((He=Ue?Ye.getAll(je,He):Ye.getAllKeys(je,He)).onsuccess=function(nt){return re({result:nt.target.result})},He.onerror=qt(pe)):(me=0,ye=!Ue&&"openKeyCursor"in Ye?Ye.openKeyCursor(je):Ye.openCursor(je),Ce=[],ye.onsuccess=function(nt){var Ht=ye.result;return Ht?(Ce.push(Ue?Ht.value:Ht.primaryKey),++me===qe?re({result:Ce}):void Ht.continue()):re({result:Ce})},ye.onerror=qt(pe))})}),openCursor:function(oe){var re=oe.trans,pe=oe.values,me=oe.query,ye=oe.reverse,Ce=oe.unique;return new Promise(function(Ue,qe){Ue=Ke(Ue);var Ye=me.index,He=me.range,Ge=re.objectStore(ie),Ge=Ye.isPrimaryKey?Ge:Ge.index(Ye.name),Ye=ye?Ce?"prevunique":"prev":Ce?"nextunique":"next",je=!pe&&"openKeyCursor"in Ge?Ge.openKeyCursor(k(He),Ye):Ge.openCursor(k(He),Ye);je.onerror=qt(qe),je.onsuccess=Ke(function(nt){var Ht,Qt,Jt,Si,Ft=je.result;Ft?(Ft.___id=++$q,Ft.done=!1,Ht=Ft.continue.bind(Ft),Qt=(Qt=Ft.continuePrimaryKey)&&Qt.bind(Ft),Jt=Ft.advance.bind(Ft),Si=function(){throw new Error("Cursor not stopped")},Ft.trans=re,Ft.stop=Ft.continue=Ft.continuePrimaryKey=Ft.advance=function(){throw new Error("Cursor not started")},Ft.fail=Ke(qe),Ft.next=function(){var Br=this,zr=1;return this.start(function(){return zr--?Br.continue():Br.stop()}).then(function(){return Br})},Ft.start=function(Br){function zr(){if(je.result)try{Br()}catch(Zr){Ft.fail(Zr)}else Ft.done=!0,Ft.start=function(){throw new Error("Cursor behind last entry")},Ft.stop()}var Dh=new Promise(function(Zr,la){Zr=Ke(Zr),je.onerror=qt(la),Ft.fail=la,Ft.stop=function(Vb){Ft.stop=Ft.continue=Ft.continuePrimaryKey=Ft.advance=Si,Zr(Vb)}});return je.onsuccess=Ke(function(Zr){je.onsuccess=zr,zr()}),Ft.continue=Ht,Ft.continuePrimaryKey=Qt,Ft.advance=Jt,zr(),Dh},Ue(Ft)):Ue(null)},qe)})},count:function(oe){var re=oe.query,pe=oe.trans,me=re.index,ye=re.range;return new Promise(function(Ce,Ue){var qe=pe.objectStore(ie),He=me.isPrimaryKey?qe:qe.index(me.name),qe=k(ye),He=qe?He.count(qe):He.count();He.onsuccess=Ke(function(Ge){return Ce(Ge.target.result)}),He.onerror=qt(Ue)})}}}var P,z,$,se=(z=J,$=tS((P=p).objectStoreNames),{schema:{name:P.name,tables:$.map(function(ae){return z.objectStore(ae)}).map(function(ae){var ee=ae.keyPath,re=ae.autoIncrement,ie=a(ee),oe={},re={name:ae.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:ee==null,compound:ie,keyPath:ee,autoIncrement:re,unique:!0,extractKey:Sb(ee)},indexes:tS(ae.indexNames).map(function(pe){return ae.index(pe)}).map(function(Ce){var me=Ce.name,ye=Ce.unique,Ue=Ce.multiEntry,Ce=Ce.keyPath,Ue={name:me,compound:a(Ce),keyPath:Ce,unique:ye,multiEntry:Ue,extractKey:Sb(Ce)};return oe[Gc(Ce)]=Ue}),getIndexByKeyPath:function(pe){return oe[Gc(pe)]}};return oe[":id"]=re.primaryKey,ee!=null&&(oe[Gc(ee)]=re.primaryKey),re})},hasGetAll:0<$.length&&"getAll"in z.objectStore($[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),J=se.schema,ne=se.hasGetAll,se=J.tables.map(T),Z={};return se.forEach(function(ae){return Z[ae.name]=ae}),{stack:"dbcore",transaction:p.transaction.bind(p),table:function(ae){if(!Z[ae])throw new Error("Table '".concat(ae,"' not found"));return Z[ae]},MIN_KEY:-1/0,MAX_KEY:Hc(b),schema:J}}function Xq(p,b,_,k){var T=_.IDBKeyRange;return _.indexedDB,{dbcore:(k=Yq(b,T,k),p.dbcore.reduce(function(P,z){return z=z.create,r(r({},P),z(P))},k))}}function Eh(p,k){var _=k.db,k=Xq(p._middlewares,_,p._deps,k);p.core=k.dbcore,p.tables.forEach(function(T){var P=T.name;p.core.schema.tables.some(function(z){return z.name===P})&&(T.core=p.core.table(P),p[P]instanceof p.Table&&(p[P].core=T.core))})}function Ah(p,b,_,k){_.forEach(function(T){var P=k[T];b.forEach(function(z){var $=function J(ne,se){return y(ne,se)||(ne=c(ne))&&J(ne,se)}(z,T);(!$||"value"in $&&$.value===void 0)&&(z===p.Transaction.prototype||z instanceof p.Transaction?g(z,T,{get:function(){return this.table(T)},set:function(J){f(this,T,{value:J,writable:!0,configurable:!0,enumerable:!0})}}):z[T]=new p.Table(T,P))})})}function kb(p,b){b.forEach(function(_){for(var k in _)_[k]instanceof p.Table&&delete _[k]})}function Zq(p,b){return p._cfg.version-b._cfg.version}function Qq(p,b,_,k){var T=p._dbSchema;_.objectStoreNames.contains("$meta")&&!T.$meta&&(T.$meta=Ab("$meta",rS("")[0],[]),p._storeNames.push("$meta"));var P=p._createTransaction("readwrite",p._storeNames,T);P.create(_),P._completion.catch(k);var z=P._reject.bind(P),$=Ie.transless||Ie;Mr(function(){return Ie.trans=P,Ie.transless=$,b!==0?(Eh(p,_),ne=b,((J=P).storeNames.includes("$meta")?J.table("$meta").get("version").then(function(se){return se??ne}):De.resolve(ne)).then(function(se){return ae=se,ee=P,ie=_,oe=[],se=(Z=p)._versions,re=Z._dbSchema=kh(0,Z.idbdb,ie),(se=se.filter(function(pe){return pe._cfg.version>=ae})).length!==0?(se.forEach(function(pe){oe.push(function(){var me=re,ye=pe._cfg.dbschema;Ch(Z,me,ie),Ch(Z,ye,ie),re=Z._dbSchema=ye;var Ce=Cb(me,ye);Ce.add.forEach(function(Ye){Tb(ie,Ye[0],Ye[1].primKey,Ye[1].indexes)}),Ce.change.forEach(function(Ye){if(Ye.recreate)throw new Fe.Upgrade("Not yet support for changing primary key");var je=ie.objectStore(Ye.name);Ye.add.forEach(function(nt){return Sh(je,nt)}),Ye.change.forEach(function(nt){je.deleteIndex(nt.name),Sh(je,nt)}),Ye.del.forEach(function(nt){return je.deleteIndex(nt)})});var Ue=pe._cfg.contentUpgrade;if(Ue&&pe._cfg.version>ae){Eh(Z,ie),ee._memoizedTables={};var qe=D(ye);Ce.del.forEach(function(Ye){qe[Ye]=me[Ye]}),kb(Z,[Z.Transaction.prototype]),Ah(Z,[Z.Transaction.prototype],o(qe),qe),ee.schema=qe;var He,Ge=Ae(Ue);return Ge&&bs(),Ce=De.follow(function(){var Ye;(He=Ue(ee))&&Ge&&(Ye=Bi.bind(null,null),He.then(Ye,Ye))}),He&&typeof He.then=="function"?De.resolve(He):Ce.then(function(){return He})}}),oe.push(function(me){var ye,Ce,Ue=pe._cfg.dbschema;ye=Ue,Ce=me,[].slice.call(Ce.db.objectStoreNames).forEach(function(qe){return ye[qe]==null&&Ce.db.deleteObjectStore(qe)}),kb(Z,[Z.Transaction.prototype]),Ah(Z,[Z.Transaction.prototype],Z._storeNames,Z._dbSchema),ee.schema=Z._dbSchema}),oe.push(function(me){Z.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Z.idbdb.version/10)===pe._cfg.version?(Z.idbdb.deleteObjectStore("$meta"),delete Z._dbSchema.$meta,Z._storeNames=Z._storeNames.filter(function(ye){return ye!=="$meta"})):me.objectStore("$meta").put(pe._cfg.version,"version"))})}),function pe(){return oe.length?De.resolve(oe.shift()(ee.idbtrans)).then(pe):De.resolve()}().then(function(){nS(re,ie)})):De.resolve();var Z,ae,ee,ie,oe,re}).catch(z)):(o(T).forEach(function(se){Tb(_,se,T[se].primKey,T[se].indexes)}),Eh(p,_),void De.follow(function(){return p.on.populate.fire(P)}).catch(z));var J,ne})}function Jq(p,b){nS(p._dbSchema,b),b.db.version%10!=0||b.objectStoreNames.contains("$meta")||b.db.createObjectStore("$meta").add(Math.ceil(b.db.version/10-1),"version");var _=kh(0,p.idbdb,b);Ch(p,p._dbSchema,b);for(var k=0,T=Cb(_,p._dbSchema).change;k<T.length;k++){var P=function(z){if(z.change.length||z.recreate)return console.warn("Unable to patch indexes of table ".concat(z.name," because it has changes on the type of index or primary key.")),{value:void 0};var $=b.objectStore(z.name);z.add.forEach(function(J){An&&console.debug("Dexie upgrade patch: Creating missing index ".concat(z.name,".").concat(J.src)),Sh($,J)})}(T[k]);if(typeof P=="object")return P.value}}function Cb(p,b){var _,k={del:[],add:[],change:[]};for(_ in p)b[_]||k.del.push(_);for(_ in b){var T=p[_],P=b[_];if(T){var z={name:_,def:P,recreate:!1,del:[],add:[],change:[]};if(""+(T.primKey.keyPath||"")!=""+(P.primKey.keyPath||"")||T.primKey.auto!==P.primKey.auto)z.recreate=!0,k.change.push(z);else{var $=T.idxByName,J=P.idxByName,ne=void 0;for(ne in $)J[ne]||z.del.push(ne);for(ne in J){var se=$[ne],Z=J[ne];se?se.src!==Z.src&&z.change.push(Z):z.add.push(Z)}(0<z.del.length||0<z.add.length||0<z.change.length)&&k.change.push(z)}}else k.add.push([_,P])}return k}function Tb(p,b,_,k){var T=p.db.createObjectStore(b,_.keyPath?{keyPath:_.keyPath,autoIncrement:_.auto}:{autoIncrement:_.auto});return k.forEach(function(P){return Sh(T,P)}),T}function nS(p,b){o(p).forEach(function(_){b.db.objectStoreNames.contains(_)||(An&&console.debug("Dexie: Creating missing table",_),Tb(b,_,p[_].primKey,p[_].indexes))})}function Sh(p,b){p.createIndex(b.name,b.keyPath,{unique:b.unique,multiEntry:b.multi})}function kh(p,b,_){var k={};return A(b.objectStoreNames,0).forEach(function(T){for(var P=_.objectStore(T),z=Eb(eS(ne=P.keyPath),ne||"",!0,!1,!!P.autoIncrement,ne&&typeof ne!="string",!0),$=[],J=0;J<P.indexNames.length;++J){var se=P.index(P.indexNames[J]),ne=se.keyPath,se=Eb(se.name,ne,!!se.unique,!!se.multiEntry,!1,ne&&typeof ne!="string",!1);$.push(se)}k[T]=Ab(T,z,$)}),k}function Ch(p,b,_){for(var k=_.db.objectStoreNames,T=0;T<k.length;++T){var P=k[T],z=_.objectStore(P);p._hasGetAll="getAll"in z;for(var $=0;$<z.indexNames.length;++$){var J=z.indexNames[$],ne=z.index(J).keyPath,se=typeof ne=="string"?ne:"["+A(ne).join("+")+"]";!b[P]||(ne=b[P].idxByName[se])&&(ne.name=J,delete b[P].idxByName[se],b[P].idxByName[J]=ne)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(p._hasGetAll=!1)}function rS(p){return p.split(",").map(function(b,_){var k=(b=b.trim()).replace(/([&*]|\+\+)/g,""),T=/^\[/.test(k)?k.match(/^\[(.*)\]$/)[1].split("+"):k;return Eb(k,T||null,/\&/.test(b),/\*/.test(b),/\+\+/.test(b),a(T),_===0)})}var e6=(Th.prototype._parseStoresSpec=function(p,b){o(p).forEach(function(_){if(p[_]!==null){var k=rS(p[_]),T=k.shift();if(T.unique=!0,T.multi)throw new Fe.Schema("Primary key cannot be multi-valued");k.forEach(function(P){if(P.auto)throw new Fe.Schema("Only primary key can be marked as autoIncrement (++)");if(!P.keyPath)throw new Fe.Schema("Index must have a name and cannot be an empty string")}),b[_]=Ab(_,T,k)}})},Th.prototype.stores=function(_){var b=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,_):_;var _=b._versions,k={},T={};return _.forEach(function(P){l(k,P._cfg.storesSource),T=P._cfg.dbschema={},P._parseStoresSpec(k,T)}),b._dbSchema=T,kb(b,[b._allTables,b,b.Transaction.prototype]),Ah(b,[b._allTables,b,b.Transaction.prototype,this._cfg.tables],o(T),T),b._storeNames=o(T),this},Th.prototype.upgrade=function(p){return this._cfg.contentUpgrade=Mn(this._cfg.contentUpgrade||ut,p),this},Th);function Th(){}function Nb(p,b){var _=p._dbNamesDB;return _||(_=p._dbNamesDB=new Ks(js,{addons:[],indexedDB:p,IDBKeyRange:b})).version(1).stores({dbnames:"name"}),_.table("dbnames")}function Ib(p){return p&&typeof p.databases=="function"}function Pb(p){return Mr(function(){return Ie.letThrough=!0,p()})}function Rb(p){return!("from"in p)}var Fr=function(p,b){if(!this){var _=new Fr;return p&&"d"in p&&l(_,p),_}l(this,arguments.length?{d:1,from:p,to:1<arguments.length?b:p}:{d:0})};function Vc(p,b,_){var k=It(b,_);if(!isNaN(k)){if(0<k)throw RangeError();if(Rb(p))return l(p,{from:b,to:_,d:1});var T=p.l,k=p.r;if(It(_,p.from)<0)return T?Vc(T,b,_):p.l={from:b,to:_,d:1,l:null,r:null},sS(p);if(0<It(b,p.to))return k?Vc(k,b,_):p.r={from:b,to:_,d:1,l:null,r:null},sS(p);It(b,p.from)<0&&(p.from=b,p.l=null,p.d=k?k.d+1:1),0<It(_,p.to)&&(p.to=_,p.r=null,p.d=p.l?p.l.d+1:1),_=!p.r,T&&!p.l&&jc(p,T),k&&_&&jc(p,k)}}function jc(p,b){Rb(b)||function _(k,J){var P=J.from,z=J.to,$=J.l,J=J.r;Vc(k,P,z),$&&_(k,$),J&&_(k,J)}(p,b)}function iS(p,b){var _=Nh(b),k=_.next();if(k.done)return!1;for(var T=k.value,P=Nh(p),z=P.next(T.from),$=z.value;!k.done&&!z.done;){if(It($.from,T.to)<=0&&0<=It($.to,T.from))return!0;It(T.from,$.from)<0?T=(k=_.next($.from)).value:$=(z=P.next(T.from)).value}return!1}function Nh(p){var b=Rb(p)?null:{s:0,n:p};return{next:function(_){for(var k=0<arguments.length;b;)switch(b.s){case 0:if(b.s=1,k)for(;b.n.l&&It(_,b.n.from)<0;)b={up:b,n:b.n.l,s:1};else for(;b.n.l;)b={up:b,n:b.n.l,s:1};case 1:if(b.s=2,!k||It(_,b.n.to)<=0)return{value:b.n,done:!1};case 2:if(b.n.r){b.s=3,b={up:b,n:b.n.r,s:0};continue}case 3:b=b.up}return{done:!0}}}}function sS(p){var b,_,k=(((b=p.r)===null||b===void 0?void 0:b.d)||0)-(((_=p.l)===null||_===void 0?void 0:_.d)||0),T=1<k?"r":k<-1?"l":"";T&&(b=T=="r"?"l":"r",_=r({},p),k=p[T],p.from=k.from,p.to=k.to,p[T]=k[T],_[T]=k[b],(p[b]=_).d=oS(_)),p.d=oS(p)}function oS(_){var b=_.r,_=_.l;return(b?_?Math.max(b.d,_.d):b.d:_?_.d:0)+1}function Ih(p,b){return o(b).forEach(function(_){p[_]?jc(p[_],b[_]):p[_]=function k(T){var P,z,$={};for(P in T)d(T,P)&&(z=T[P],$[P]=!z||typeof z!="object"||K.has(z.constructor)?z:k(z));return $}(b[_])}),p}function Ob(p,b){return p.all||b.all||Object.keys(p).some(function(_){return b[_]&&iS(b[_],p[_])})}h(Fr.prototype,((Ui={add:function(p){return jc(this,p),this},addKey:function(p){return Vc(this,p,p),this},addKeys:function(p){var b=this;return p.forEach(function(_){return Vc(b,_,_)}),this},hasKey:function(p){var b=Nh(this).next(p).value;return b&&It(b.from,p)<=0&&0<=It(b.to,p)}})[H]=function(){return Nh(this)},Ui));var oa={},Mb={},Db=!1;function Ph(p){Ih(Mb,p),Db||(Db=!0,setTimeout(function(){Db=!1,Lb(Mb,!(Mb={}))},0))}function Lb(p,b){b===void 0&&(b=!1);var _=new Set;if(p.all)for(var k=0,T=Object.values(oa);k<T.length;k++)aS(z=T[k],p,_,b);else for(var P in p){var z,$=/^idb\:\/\/(.*)\/(.*)\//.exec(P);$&&(P=$[1],$=$[2],(z=oa["idb://".concat(P,"/").concat($)])&&aS(z,p,_,b))}_.forEach(function(J){return J()})}function aS(p,b,_,k){for(var T=[],P=0,z=Object.entries(p.queries.query);P<z.length;P++){for(var $=z[P],J=$[0],ne=[],se=0,Z=$[1];se<Z.length;se++){var ae=Z[se];Ob(b,ae.obsSet)?ae.subscribers.forEach(function(re){return _.add(re)}):k&&ne.push(ae)}k&&T.push([J,ne])}if(k)for(var ee=0,ie=T;ee<ie.length;ee++){var oe=ie[ee],J=oe[0],ne=oe[1];p.queries.query[J]=ne}}function t6(p){var b=p._state,_=p._deps.indexedDB;if(b.isBeingOpened||p.idbdb)return b.dbReadyPromise.then(function(){return b.dbOpenError?Gn(b.dbOpenError):p});b.isBeingOpened=!0,b.dbOpenError=null,b.openComplete=!1;var k=b.openCanceller,T=Math.round(10*p.verno),P=!1;function z(){if(b.openCanceller!==k)throw new Fe.DatabaseClosed("db.open() was cancelled")}function $(){return new De(function(ae,ee){if(z(),!_)throw new Fe.MissingAPI;var ie=p.name,oe=b.autoSchema||!T?_.open(ie):_.open(ie,T);if(!oe)throw new Fe.MissingAPI;oe.onerror=qt(ee),oe.onblocked=Ke(p._fireOnBlocked),oe.onupgradeneeded=Ke(function(re){var pe;se=oe.transaction,b.autoSchema&&!p._options.allowEmptyDB?(oe.onerror=Kn,se.abort(),oe.result.close(),(pe=_.deleteDatabase(ie)).onsuccess=pe.onerror=Ke(function(){ee(new Fe.NoSuchDatabase("Database ".concat(ie," doesnt exist")))})):(se.onerror=qt(ee),re=re.oldVersion>Math.pow(2,62)?0:re.oldVersion,Z=re<1,p.idbdb=oe.result,P&&Jq(p,se),Qq(p,re/10,se,ee))},ee),oe.onsuccess=Ke(function(){se=null;var re,pe,me,ye,Ce,Ue=p.idbdb=oe.result,qe=A(Ue.objectStoreNames);if(0<qe.length)try{var He=Ue.transaction((ye=qe).length===1?ye[0]:ye,"readonly");if(b.autoSchema)pe=Ue,me=He,(re=p).verno=pe.version/10,me=re._dbSchema=kh(0,pe,me),re._storeNames=A(pe.objectStoreNames,0),Ah(re,[re._allTables],o(me),me);else if(Ch(p,p._dbSchema,He),((Ce=Cb(kh(0,(Ce=p).idbdb,He),Ce._dbSchema)).add.length||Ce.change.some(function(Ge){return Ge.add.length||Ge.change.length}))&&!P)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ue.close(),T=Ue.version+1,P=!0,ae($());Eh(p,He)}catch{}mo.push(p),Ue.onversionchange=Ke(function(Ge){b.vcFired=!0,p.on("versionchange").fire(Ge)}),Ue.onclose=Ke(function(Ge){p.on("close").fire(Ge)}),Z&&(Ce=p._deps,He=ie,Ue=Ce.indexedDB,Ce=Ce.IDBKeyRange,Ib(Ue)||He===js||Nb(Ue,Ce).put({name:He}).catch(ut)),ae()},ee)}).catch(function(ae){switch(ae?.name){case"UnknownError":if(0<b.PR1398_maxLoop)return b.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),$();break;case"VersionError":if(0<T)return T=0,$()}return De.reject(ae)})}var J,ne=b.dbReadyResolve,se=null,Z=!1;return De.race([k,(typeof navigator>"u"?De.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ae){function ee(){return indexedDB.databases().finally(ae)}J=setInterval(ee,100),ee()}).finally(function(){return clearInterval(J)}):Promise.resolve()).then($)]).then(function(){return z(),b.onReadyBeingFired=[],De.resolve(Pb(function(){return p.on.ready.fire(p.vip)})).then(function ae(){if(0<b.onReadyBeingFired.length){var ee=b.onReadyBeingFired.reduce(Mn,ut);return b.onReadyBeingFired=[],De.resolve(Pb(function(){return ee(p.vip)})).then(ae)}})}).finally(function(){b.openCanceller===k&&(b.onReadyBeingFired=null,b.isBeingOpened=!1)}).catch(function(ae){b.dbOpenError=ae;try{se&&se.abort()}catch{}return k===b.openCanceller&&p._close(),Gn(ae)}).finally(function(){b.openComplete=!0,ne()}).then(function(){var ae;return Z&&(ae={},p.tables.forEach(function(ee){ee.schema.indexes.forEach(function(ie){ie.name&&(ae["idb://".concat(p.name,"/").concat(ee.name,"/").concat(ie.name)]=new Fr(-1/0,[[[]]]))}),ae["idb://".concat(p.name,"/").concat(ee.name,"/")]=ae["idb://".concat(p.name,"/").concat(ee.name,"/:dels")]=new Fr(-1/0,[[[]]])}),ws(Xr).fire(ae),Lb(ae,!0)),p})}function Fb(p){function b(P){return p.next(P)}var _=T(b),k=T(function(P){return p.throw(P)});function T(P){return function(J){var $=P(J),J=$.value;return $.done?J:J&&typeof J.then=="function"?J.then(_,k):a(J)?Promise.all(J).then(_,k):_(J)}}return T(b)()}function Rh(p,b,_){for(var k=a(p)?p.slice():[p],T=0;T<_;++T)k.push(b);return k}var n6={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(p){return r(r({},p),{table:function(b){var _=p.table(b),k=_.schema,T={},P=[];function z(Z,ae,ee){var ie=Gc(Z),oe=T[ie]=T[ie]||[],re=Z==null?0:typeof Z=="string"?1:Z.length,pe=0<ae,pe=r(r({},ee),{name:pe?"".concat(ie,"(virtual-from:").concat(ee.name,")"):ee.name,lowLevelIndex:ee,isVirtual:pe,keyTail:ae,keyLength:re,extractKey:Sb(Z),unique:!pe&&ee.unique});return oe.push(pe),pe.isPrimaryKey||P.push(pe),1<re&&z(re===2?Z[0]:Z.slice(0,re-1),ae+1,ee),oe.sort(function(me,ye){return me.keyTail-ye.keyTail}),pe}b=z(k.primaryKey.keyPath,0,k.primaryKey),T[":id"]=[b];for(var $=0,J=k.indexes;$<J.length;$++){var ne=J[$];z(ne.keyPath,0,ne)}function se(Z){var ae,ee=Z.query.index;return ee.isVirtual?r(r({},Z),{query:{index:ee.lowLevelIndex,range:(ae=Z.query.range,ee=ee.keyTail,{type:ae.type===1?2:ae.type,lower:Rh(ae.lower,ae.lowerOpen?p.MAX_KEY:p.MIN_KEY,ee),lowerOpen:!0,upper:Rh(ae.upper,ae.upperOpen?p.MIN_KEY:p.MAX_KEY,ee),upperOpen:!0})}}):Z}return r(r({},_),{schema:r(r({},k),{primaryKey:b,indexes:P,getIndexByKeyPath:function(Z){return(Z=T[Gc(Z)])&&Z[0]}}),count:function(Z){return _.count(se(Z))},query:function(Z){return _.query(se(Z))},openCursor:function(Z){var ae=Z.query.index,ee=ae.keyTail,ie=ae.isVirtual,oe=ae.keyLength;return ie?_.openCursor(se(Z)).then(function(pe){return pe&&re(pe)}):_.openCursor(Z);function re(pe){return Object.create(pe,{continue:{value:function(me){me!=null?pe.continue(Rh(me,Z.reverse?p.MAX_KEY:p.MIN_KEY,ee)):Z.unique?pe.continue(pe.key.slice(0,oe).concat(Z.reverse?p.MIN_KEY:p.MAX_KEY,ee)):pe.continue()}},continuePrimaryKey:{value:function(me,ye){pe.continuePrimaryKey(Rh(me,p.MAX_KEY,ee),ye)}},primaryKey:{get:function(){return pe.primaryKey}},key:{get:function(){var me=pe.key;return oe===1?me[0]:me.slice(0,oe)}},value:{get:function(){return pe.value}}})}}})}})}};function Bb(p,b,_,k){return _=_||{},k=k||"",o(p).forEach(function(T){var P,z,$;d(b,T)?(P=p[T],z=b[T],typeof P=="object"&&typeof z=="object"&&P&&z?($=W(P))!==W(z)?_[k+T]=b[T]:$==="Object"?Bb(P,z,_,k+T+"."):P!==z&&(_[k+T]=b[T]):P!==z&&(_[k+T]=b[T])):_[k+T]=void 0}),o(b).forEach(function(T){d(p,T)||(_[k+T]=b[T])}),_}function zb(p,b){return b.type==="delete"?b.keys:b.keys||b.values.map(p.extractKey)}var r6={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(p){return r(r({},p),{table:function(b){var _=p.table(b),k=_.schema.primaryKey;return r(r({},_),{mutate:function(T){var P=Ie.trans,z=P.table(b).hook,$=z.deleting,J=z.creating,ne=z.updating;switch(T.type){case"add":if(J.fire===ut)break;return P._promise("readwrite",function(){return se(T)},!0);case"put":if(J.fire===ut&&ne.fire===ut)break;return P._promise("readwrite",function(){return se(T)},!0);case"delete":if($.fire===ut)break;return P._promise("readwrite",function(){return se(T)},!0);case"deleteRange":if($.fire===ut)break;return P._promise("readwrite",function(){return function Z(ae,ee,ie){return _.query({trans:ae,values:!1,query:{index:k,range:ee},limit:ie}).then(function(oe){var re=oe.result;return se({type:"delete",keys:re,trans:ae}).then(function(pe){return 0<pe.numFailures?Promise.reject(pe.failures[0]):re.length<ie?{failures:[],numFailures:0,lastResult:void 0}:Z(ae,r(r({},ee),{lower:re[re.length-1],lowerOpen:!0}),ie)})})}(T.trans,T.range,1e4)},!0)}return _.mutate(T);function se(Z){var ae,ee,ie,oe=Ie.trans,re=Z.keys||zb(k,Z);if(!re)throw new Error("Keys missing");return(Z=Z.type==="add"||Z.type==="put"?r(r({},Z),{keys:re}):r({},Z)).type!=="delete"&&(Z.values=i([],Z.values)),Z.keys&&(Z.keys=i([],Z.keys)),ae=_,ie=re,((ee=Z).type==="add"?Promise.resolve([]):ae.getMany({trans:ee.trans,keys:ie,cache:"immutable"})).then(function(pe){var me=re.map(function(ye,Ce){var Ue,qe,He,Ge=pe[Ce],Ye={onerror:null,onsuccess:null};return Z.type==="delete"?$.fire.call(Ye,ye,Ge,oe):Z.type==="add"||Ge===void 0?(Ue=J.fire.call(Ye,ye,Z.values[Ce],oe),ye==null&&Ue!=null&&(Z.keys[Ce]=ye=Ue,k.outbound||N(Z.values[Ce],k.keyPath,ye))):(Ue=Bb(Ge,Z.values[Ce]),(qe=ne.fire.call(Ye,Ue,ye,Ge,oe))&&(He=Z.values[Ce],Object.keys(qe).forEach(function(je){d(He,je)?He[je]=qe[je]:N(He,je,qe[je])}))),Ye});return _.mutate(Z).then(function(ye){for(var Ce=ye.failures,Ue=ye.results,qe=ye.numFailures,ye=ye.lastResult,He=0;He<re.length;++He){var Ge=(Ue||re)[He],Ye=me[He];Ge==null?Ye.onerror&&Ye.onerror(Ce[He]):Ye.onsuccess&&Ye.onsuccess(Z.type==="put"&&pe[He]?Z.values[He]:Ge)}return{failures:Ce,results:Ue,numFailures:qe,lastResult:ye}}).catch(function(ye){return me.forEach(function(Ce){return Ce.onerror&&Ce.onerror(ye)}),Promise.reject(ye)})})}}})}})}};function lS(p,b,_){try{if(!b||b.keys.length<p.length)return null;for(var k=[],T=0,P=0;T<b.keys.length&&P<p.length;++T)It(b.keys[T],p[P])===0&&(k.push(_?U(b.values[T]):b.values[T]),++P);return k.length===p.length?k:null}catch{return null}}var i6={stack:"dbcore",level:-1,create:function(p){return{table:function(b){var _=p.table(b);return r(r({},_),{getMany:function(k){if(!k.cache)return _.getMany(k);var T=lS(k.keys,k.trans._cache,k.cache==="clone");return T?De.resolve(T):_.getMany(k).then(function(P){return k.trans._cache={keys:k.keys,values:k.cache==="clone"?U(P):P},P})},mutate:function(k){return k.type!=="add"&&(k.trans._cache=null),_.mutate(k)}})}}}};function cS(p,b){return p.trans.mode==="readonly"&&!!p.subscr&&!p.trans.explicit&&p.trans.db._options.cache!=="disabled"&&!b.schema.primaryKey.outbound}function uS(p,b){switch(p){case"query":return b.values&&!b.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var s6={stack:"dbcore",level:0,name:"Observability",create:function(p){var b=p.schema.name,_=new Fr(p.MIN_KEY,p.MAX_KEY);return r(r({},p),{transaction:function(k,T,P){if(Ie.subscr&&T!=="readonly")throw new Fe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ie.querier));return p.transaction(k,T,P)},table:function(k){var T=p.table(k),P=T.schema,z=P.primaryKey,Z=P.indexes,$=z.extractKey,J=z.outbound,ne=z.autoIncrement&&Z.filter(function(ee){return ee.compound&&ee.keyPath.includes(z.keyPath)}),se=r(r({},T),{mutate:function(ee){function ie(je){return je="idb://".concat(b,"/").concat(k,"/").concat(je),ye[je]||(ye[je]=new Fr)}var oe,re,pe,me=ee.trans,ye=ee.mutatedParts||(ee.mutatedParts={}),Ce=ie(""),Ue=ie(":dels"),qe=ee.type,Ye=ee.type==="deleteRange"?[ee.range]:ee.type==="delete"?[ee.keys]:ee.values.length<50?[zb(z,ee).filter(function(je){return je}),ee.values]:[],He=Ye[0],Ge=Ye[1],Ye=ee.trans._cache;return a(He)?(Ce.addKeys(He),(Ye=qe==="delete"||He.length===Ge.length?lS(He,Ye):null)||Ue.addKeys(He),(Ye||Ge)&&(oe=ie,re=Ye,pe=Ge,P.indexes.forEach(function(je){var nt=oe(je.name||"");function Ht(Jt){return Jt!=null?je.extractKey(Jt):null}function Qt(Jt){return je.multiEntry&&a(Jt)?Jt.forEach(function(Si){return nt.addKey(Si)}):nt.addKey(Jt)}(re||pe).forEach(function(Jt,Br){var Ft=re&&Ht(re[Br]),Br=pe&&Ht(pe[Br]);It(Ft,Br)!==0&&(Ft!=null&&Qt(Ft),Br!=null&&Qt(Br))})}))):He?(Ge={from:(Ge=He.lower)!==null&&Ge!==void 0?Ge:p.MIN_KEY,to:(Ge=He.upper)!==null&&Ge!==void 0?Ge:p.MAX_KEY},Ue.add(Ge),Ce.add(Ge)):(Ce.add(_),Ue.add(_),P.indexes.forEach(function(je){return ie(je.name).add(_)})),T.mutate(ee).then(function(je){return!He||ee.type!=="add"&&ee.type!=="put"||(Ce.addKeys(je.results),ne&&ne.forEach(function(nt){for(var Ht=ee.values.map(function(Ft){return nt.extractKey(Ft)}),Qt=nt.keyPath.findIndex(function(Ft){return Ft===z.keyPath}),Jt=0,Si=je.results.length;Jt<Si;++Jt)Ht[Jt][Qt]=je.results[Jt];ie(nt.name).addKeys(Ht)})),me.mutatedParts=Ih(me.mutatedParts||{},ye),je})}}),Z=function(ie){var oe=ie.query,ie=oe.index,oe=oe.range;return[ie,new Fr((ie=oe.lower)!==null&&ie!==void 0?ie:p.MIN_KEY,(oe=oe.upper)!==null&&oe!==void 0?oe:p.MAX_KEY)]},ae={get:function(ee){return[z,new Fr(ee.key)]},getMany:function(ee){return[z,new Fr().addKeys(ee.keys)]},count:Z,query:Z,openCursor:Z};return o(ae).forEach(function(ee){se[ee]=function(ie){var oe=Ie.subscr,re=!!oe,pe=cS(Ie,T)&&uS(ee,ie)?ie.obsSet={}:oe;if(re){var me=function(Ge){return Ge="idb://".concat(b,"/").concat(k,"/").concat(Ge),pe[Ge]||(pe[Ge]=new Fr)},ye=me(""),Ce=me(":dels"),oe=ae[ee](ie),re=oe[0],oe=oe[1];if((ee==="query"&&re.isPrimaryKey&&!ie.values?Ce:me(re.name||"")).add(oe),!re.isPrimaryKey){if(ee!=="count"){var Ue=ee==="query"&&J&&ie.values&&T.query(r(r({},ie),{values:!1}));return T[ee].apply(this,arguments).then(function(Ge){if(ee==="query"){if(J&&ie.values)return Ue.then(function(Ht){return Ht=Ht.result,ye.addKeys(Ht),Ge});var Ye=ie.values?Ge.result.map($):Ge.result;(ie.values?ye:Ce).addKeys(Ye)}else if(ee==="openCursor"){var je=Ge,nt=ie.values;return je&&Object.create(je,{key:{get:function(){return Ce.addKey(je.primaryKey),je.key}},primaryKey:{get:function(){var Ht=je.primaryKey;return Ce.addKey(Ht),Ht}},value:{get:function(){return nt&&ye.addKey(je.primaryKey),je.value}}})}return Ge})}Ce.add(_)}}return T[ee].apply(this,arguments)}}),se}})}};function dS(p,b,_){if(_.numFailures===0)return b;if(b.type==="deleteRange")return null;var k=b.keys?b.keys.length:"values"in b&&b.values?b.values.length:1;return _.numFailures===k?null:(b=r({},b),a(b.keys)&&(b.keys=b.keys.filter(function(T,P){return!(P in _.failures)})),"values"in b&&a(b.values)&&(b.values=b.values.filter(function(T,P){return!(P in _.failures)})),b)}function Ub(p,b){return _=p,((k=b).lower===void 0||(k.lowerOpen?0<It(_,k.lower):0<=It(_,k.lower)))&&(p=p,(b=b).upper===void 0||(b.upperOpen?It(p,b.upper)<0:It(p,b.upper)<=0));var _,k}function hS(p,b,ae,k,T,P){if(!ae||ae.length===0)return p;var z=b.query.index,$=z.multiEntry,J=b.query.range,ne=k.schema.primaryKey.extractKey,se=z.extractKey,Z=(z.lowLevelIndex||z).extractKey,ae=ae.reduce(function(ee,ie){var oe=ee,re=[];if(ie.type==="add"||ie.type==="put")for(var pe=new Fr,me=ie.values.length-1;0<=me;--me){var ye,Ce=ie.values[me],Ue=ne(Ce);pe.hasKey(Ue)||(ye=se(Ce),($&&a(ye)?ye.some(function(je){return Ub(je,J)}):Ub(ye,J))&&(pe.addKey(Ue),re.push(Ce)))}switch(ie.type){case"add":var qe=new Fr().addKeys(b.values?ee.map(function(nt){return ne(nt)}):ee),oe=ee.concat(b.values?re.filter(function(nt){return nt=ne(nt),!qe.hasKey(nt)&&(qe.addKey(nt),!0)}):re.map(function(nt){return ne(nt)}).filter(function(nt){return!qe.hasKey(nt)&&(qe.addKey(nt),!0)}));break;case"put":var He=new Fr().addKeys(ie.values.map(function(nt){return ne(nt)}));oe=ee.filter(function(nt){return!He.hasKey(b.values?ne(nt):nt)}).concat(b.values?re:re.map(function(nt){return ne(nt)}));break;case"delete":var Ge=new Fr().addKeys(ie.keys);oe=ee.filter(function(nt){return!Ge.hasKey(b.values?ne(nt):nt)});break;case"deleteRange":var Ye=ie.range;oe=ee.filter(function(nt){return!Ub(ne(nt),Ye)})}return oe},p);return ae===p?p:(ae.sort(function(ee,ie){return It(Z(ee),Z(ie))||It(ne(ee),ne(ie))}),b.limit&&b.limit<1/0&&(ae.length>b.limit?ae.length=b.limit:p.length===b.limit&&ae.length<b.limit&&(T.dirty=!0)),P?Object.freeze(ae):ae)}function fS(p,b){return It(p.lower,b.lower)===0&&It(p.upper,b.upper)===0&&!!p.lowerOpen==!!b.lowerOpen&&!!p.upperOpen==!!b.upperOpen}function o6(p,b){return function(_,k,T,P){if(_===void 0)return k!==void 0?-1:0;if(k===void 0)return 1;if((k=It(_,k))===0){if(T&&P)return 0;if(T)return 1;if(P)return-1}return k}(p.lower,b.lower,p.lowerOpen,b.lowerOpen)<=0&&0<=function(_,k,T,P){if(_===void 0)return k!==void 0?1:0;if(k===void 0)return-1;if((k=It(_,k))===0){if(T&&P)return 0;if(T)return-1;if(P)return 1}return k}(p.upper,b.upper,p.upperOpen,b.upperOpen)}function a6(p,b,_,k){p.subscribers.add(_),k.addEventListener("abort",function(){var T,P;p.subscribers.delete(_),p.subscribers.size===0&&(T=p,P=b,setTimeout(function(){T.subscribers.size===0&&X(P,T)},3e3))})}var l6={stack:"dbcore",level:0,name:"Cache",create:function(p){var b=p.schema.name;return r(r({},p),{transaction:function(_,k,T){var P,z,$=p.transaction(_,k,T);return k==="readwrite"&&(z=(P=new AbortController).signal,T=function(J){return function(){if(P.abort(),k==="readwrite"){for(var ne=new Set,se=0,Z=_;se<Z.length;se++){var ae=Z[se],ee=oa["idb://".concat(b,"/").concat(ae)];if(ee){var ie=p.table(ae),oe=ee.optimisticOps.filter(function(nt){return nt.trans===$});if($._explicit&&J&&$.mutatedParts)for(var re=0,pe=Object.values(ee.queries.query);re<pe.length;re++)for(var me=0,ye=(qe=pe[re]).slice();me<ye.length;me++)Ob((He=ye[me]).obsSet,$.mutatedParts)&&(X(qe,He),He.subscribers.forEach(function(nt){return ne.add(nt)}));else if(0<oe.length){ee.optimisticOps=ee.optimisticOps.filter(function(nt){return nt.trans!==$});for(var Ce=0,Ue=Object.values(ee.queries.query);Ce<Ue.length;Ce++)for(var qe,He,Ge,Ye=0,je=(qe=Ue[Ce]).slice();Ye<je.length;Ye++)(He=je[Ye]).res!=null&&$.mutatedParts&&(J&&!He.dirty?(Ge=Object.isFrozen(He.res),Ge=hS(He.res,He.req,oe,ie,He,Ge),He.dirty?(X(qe,He),He.subscribers.forEach(function(nt){return ne.add(nt)})):Ge!==He.res&&(He.res=Ge,He.promise=De.resolve({result:Ge}))):(He.dirty&&X(qe,He),He.subscribers.forEach(function(nt){return ne.add(nt)})))}}}ne.forEach(function(nt){return nt()})}}},$.addEventListener("abort",T(!1),{signal:z}),$.addEventListener("error",T(!1),{signal:z}),$.addEventListener("complete",T(!0),{signal:z})),$},table:function(_){var k=p.table(_),T=k.schema.primaryKey;return r(r({},k),{mutate:function(P){var z=Ie.trans;if(T.outbound||z.db._options.cache==="disabled"||z.explicit||z.idbtrans.mode!=="readwrite")return k.mutate(P);var $=oa["idb://".concat(b,"/").concat(_)];return $?(z=k.mutate(P),P.type!=="add"&&P.type!=="put"||!(50<=P.values.length||zb(T,P).some(function(J){return J==null}))?($.optimisticOps.push(P),P.mutatedParts&&Ph(P.mutatedParts),z.then(function(J){0<J.numFailures&&(X($.optimisticOps,P),(J=dS(0,P,J))&&$.optimisticOps.push(J),P.mutatedParts&&Ph(P.mutatedParts))}),z.catch(function(){X($.optimisticOps,P),P.mutatedParts&&Ph(P.mutatedParts)})):z.then(function(J){var ne=dS(0,r(r({},P),{values:P.values.map(function(se,Z){var ae;return J.failures[Z]?se:(se=(ae=T.keyPath)!==null&&ae!==void 0&&ae.includes(".")?U(se):r({},se),N(se,T.keyPath,J.results[Z]),se)})}),J);$.optimisticOps.push(ne),queueMicrotask(function(){return P.mutatedParts&&Ph(P.mutatedParts)})}),z):k.mutate(P)},query:function(P){if(!cS(Ie,k)||!uS("query",P))return k.query(P);var z=((ne=Ie.trans)===null||ne===void 0?void 0:ne.db._options.cache)==="immutable",Z=Ie,$=Z.requery,J=Z.signal,ne=function(ie,oe,re,pe){var me=oa["idb://".concat(ie,"/").concat(oe)];if(!me)return[];if(!(oe=me.queries[re]))return[null,!1,me,null];var ye=oe[(pe.query?pe.query.index.name:null)||""];if(!ye)return[null,!1,me,null];switch(re){case"query":var Ce=ye.find(function(Ue){return Ue.req.limit===pe.limit&&Ue.req.values===pe.values&&fS(Ue.req.query.range,pe.query.range)});return Ce?[Ce,!0,me,ye]:[ye.find(function(Ue){return("limit"in Ue.req?Ue.req.limit:1/0)>=pe.limit&&(!pe.values||Ue.req.values)&&o6(Ue.req.query.range,pe.query.range)}),!1,me,ye];case"count":return Ce=ye.find(function(Ue){return fS(Ue.req.query.range,pe.query.range)}),[Ce,!!Ce,me,ye]}}(b,_,"query",P),se=ne[0],Z=ne[1],ae=ne[2],ee=ne[3];return se&&Z?se.obsSet=P.obsSet:(Z=k.query(P).then(function(ie){var oe=ie.result;if(se&&(se.res=oe),z){for(var re=0,pe=oe.length;re<pe;++re)Object.freeze(oe[re]);Object.freeze(oe)}else ie.result=U(oe);return ie}).catch(function(ie){return ee&&se&&X(ee,se),Promise.reject(ie)}),se={obsSet:P.obsSet,promise:Z,subscribers:new Set,type:"query",req:P,dirty:!1},ee?ee.push(se):(ee=[se],(ae=ae||(oa["idb://".concat(b,"/").concat(_)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[P.query.index.name||""]=ee)),a6(se,ee,$,J),se.promise.then(function(ie){return{result:hS(ie.result,P,ae?.optimisticOps,k,se,z)}})}})}})}};function Oh(p,b){return new Proxy(p,{get:function(_,k,T){return k==="db"?b:Reflect.get(_,k,T)}})}var Ks=(nr.prototype.version=function(p){if(isNaN(p)||p<.1)throw new Fe.Type("Given version is not a positive number");if(p=Math.round(10*p)/10,this.idbdb||this._state.isBeingOpened)throw new Fe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,p);var b=this._versions,_=b.filter(function(k){return k._cfg.version===p})[0];return _||(_=new this.Version(p),b.push(_),b.sort(Zq),_.stores({}),this._state.autoSchema=!1,_)},nr.prototype._whenReady=function(p){var b=this;return this.idbdb&&(this._state.openComplete||Ie.letThrough||this._vip)?p():new De(function(_,k){if(b._state.openComplete)return k(new Fe.DatabaseClosed(b._state.dbOpenError));if(!b._state.isBeingOpened){if(!b._state.autoOpen)return void k(new Fe.DatabaseClosed);b.open().catch(ut)}b._state.dbReadyPromise.then(_,k)}).then(p)},nr.prototype.use=function(p){var b=p.stack,_=p.create,k=p.level,T=p.name;return T&&this.unuse({stack:b,name:T}),p=this._middlewares[b]||(this._middlewares[b]=[]),p.push({stack:b,create:_,level:k??10,name:T}),p.sort(function(P,z){return P.level-z.level}),this},nr.prototype.unuse=function(p){var b=p.stack,_=p.name,k=p.create;return b&&this._middlewares[b]&&(this._middlewares[b]=this._middlewares[b].filter(function(T){return k?T.create!==k:!!_&&T.name!==_})),this},nr.prototype.open=function(){var p=this;return Ai(kn,function(){return t6(p)})},nr.prototype._close=function(){var p=this._state,b=mo.indexOf(this);if(0<=b&&mo.splice(b,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}p.isBeingOpened||(p.dbReadyPromise=new De(function(_){p.dbReadyResolve=_}),p.openCanceller=new De(function(_,k){p.cancelOpen=k}))},nr.prototype.close=function(_){var b=(_===void 0?{disableAutoOpen:!0}:_).disableAutoOpen,_=this._state;b?(_.isBeingOpened&&_.cancelOpen(new Fe.DatabaseClosed),this._close(),_.autoOpen=!1,_.dbOpenError=new Fe.DatabaseClosed):(this._close(),_.autoOpen=this._options.autoOpen||_.isBeingOpened,_.openComplete=!1,_.dbOpenError=null)},nr.prototype.delete=function(p){var b=this;p===void 0&&(p={disableAutoOpen:!0});var _=0<arguments.length&&typeof arguments[0]!="object",k=this._state;return new De(function(T,P){function z(){b.close(p);var $=b._deps.indexedDB.deleteDatabase(b.name);$.onsuccess=Ke(function(){var J,ne,se;J=b._deps,ne=b.name,se=J.indexedDB,J=J.IDBKeyRange,Ib(se)||ne===js||Nb(se,J).delete(ne).catch(ut),T()}),$.onerror=qt(P),$.onblocked=b._fireOnBlocked}if(_)throw new Fe.InvalidArgument("Invalid closeOptions argument to db.delete()");k.isBeingOpened?k.dbReadyPromise.then(z):z()})},nr.prototype.backendDB=function(){return this.idbdb},nr.prototype.isOpen=function(){return this.idbdb!==null},nr.prototype.hasBeenClosed=function(){var p=this._state.dbOpenError;return p&&p.name==="DatabaseClosed"},nr.prototype.hasFailed=function(){return this._state.dbOpenError!==null},nr.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(nr.prototype,"tables",{get:function(){var p=this;return o(this._allTables).map(function(b){return p._allTables[b]})},enumerable:!1,configurable:!0}),nr.prototype.transaction=function(){var p=(function(b,_,k){var T=arguments.length;if(T<2)throw new Fe.InvalidArgument("Too few arguments");for(var P=new Array(T-1);--T;)P[T-1]=arguments[T];return k=P.pop(),[b,O(P),k]}).apply(this,arguments);return this._transaction.apply(this,p)},nr.prototype._transaction=function(p,b,_){var k=this,T=Ie.trans;T&&T.db===this&&p.indexOf("!")===-1||(T=null);var P,z,$=p.indexOf("?")!==-1;p=p.replace("!","").replace("?","");try{if(z=b.map(function(ne){if(ne=ne instanceof k.Table?ne.name:ne,typeof ne!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ne}),p=="r"||p===Dc)P=Dc;else{if(p!="rw"&&p!=ze)throw new Fe.InvalidArgument("Invalid transaction mode: "+p);P=ze}if(T){if(T.mode===Dc&&P===ze){if(!$)throw new Fe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");T=null}T&&z.forEach(function(ne){if(T&&T.storeNames.indexOf(ne)===-1){if(!$)throw new Fe.SubTransaction("Table "+ne+" not included in parent transaction.");T=null}}),$&&T&&!T.active&&(T=null)}}catch(ne){return T?T._promise(null,function(se,Z){Z(ne)}):Gn(ne)}var J=(function ne(se,Z,ae,ee,ie){return De.resolve().then(function(){var oe=Ie.transless||Ie,re=se._createTransaction(Z,ae,se._dbSchema,ee);if(re.explicit=!0,oe={trans:re,transless:oe},ee)re.idbtrans=ee.idbtrans;else try{re.create(),re.idbtrans._explicit=!0,se._state.PR1398_maxLoop=3}catch(ye){return ye.name===Pe.InvalidState&&se.isOpen()&&0<--se._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),se.close({disableAutoOpen:!1}),se.open().then(function(){return ne(se,Z,ae,null,ie)})):Gn(ye)}var pe,me=Ae(ie);return me&&bs(),oe=De.follow(function(){var ye;(pe=ie.call(re,re))&&(me?(ye=Bi.bind(null,null),pe.then(ye,ye)):typeof pe.next=="function"&&typeof pe.throw=="function"&&(pe=Fb(pe)))},oe),(pe&&typeof pe.then=="function"?De.resolve(pe).then(function(ye){return re.active?ye:Gn(new Fe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):oe.then(function(){return pe})).then(function(ye){return ee&&re._resolve(),re._completion.then(function(){return ye})}).catch(function(ye){return re._reject(ye),Gn(ye)})})}).bind(null,this,P,z,T,_);return T?T._promise(P,J,"lock"):Ie.trans?Ai(Ie.transless,function(){return k._whenReady(J)}):this._whenReady(J)},nr.prototype.table=function(p){if(!d(this._allTables,p))throw new Fe.InvalidTable("Table ".concat(p," does not exist"));return this._allTables[p]},nr);function nr(p,b){var _=this;this._middlewares={},this.verno=0;var k=nr.dependencies;this._options=b=r({addons:nr.addons,autoOpen:!0,indexedDB:k.indexedDB,IDBKeyRange:k.IDBKeyRange,cache:"cloned"},b),this._deps={indexedDB:b.indexedDB,IDBKeyRange:b.IDBKeyRange},k=b.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var T,P,z,$,J,ne={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ut,dbReadyPromise:null,cancelOpen:ut,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:b.autoOpen};ne.dbReadyPromise=new De(function(Z){ne.dbReadyResolve=Z}),ne.openCanceller=new De(function(Z,ae){ne.cancelOpen=ae}),this._state=ne,this.name=p,this.on=bo(this,"populate","blocked","versionchange","close",{ready:[Mn,ut]}),this.on.ready.subscribe=E(this.on.ready.subscribe,function(Z){return function(ae,ee){nr.vip(function(){var ie,oe=_._state;oe.openComplete?(oe.dbOpenError||De.resolve().then(ae),ee&&Z(ae)):oe.onReadyBeingFired?(oe.onReadyBeingFired.push(ae),ee&&Z(ae)):(Z(ae),ie=_,ee||Z(function re(){ie.on.ready.unsubscribe(ae),ie.on.ready.unsubscribe(re)}))})}}),this.Collection=(T=this,vo(zc.prototype,function(pe,re){this.db=T;var ee=Zt,ie=null;if(re)try{ee=re()}catch(me){ie=me}var oe=pe._ctx,re=oe.table,pe=re.hook.reading.fire;this._ctx={table:re,index:oe.index,isPrimKey:!oe.index||re.schema.primKey.keyPath&&oe.index===re.schema.primKey.name,range:ee,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:ie,or:oe.or,valueMapper:pe!==Vt?pe:null}})),this.Table=(P=this,vo(Dr.prototype,function(Z,ae,ee){this.db=P,this._tx=ee,this.name=Z,this.schema=ae,this.hook=P._allTables[Z]?P._allTables[Z].hook:bo(null,{creating:[Ut,ut],reading:[rn,Vt],updating:[Un,ut],deleting:[ar,ut]})})),this.Transaction=(z=this,vo(Kq.prototype,function(Z,ae,ee,ie,oe){var re=this;this.db=z,this.mode=Z,this.storeNames=ae,this.schema=ee,this.chromeTransactionDurability=ie,this.idbtrans=null,this.on=bo(this,"complete","error","abort"),this.parent=oe||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new De(function(pe,me){re._resolve=pe,re._reject=me}),this._completion.then(function(){re.active=!1,re.on.complete.fire()},function(pe){var me=re.active;return re.active=!1,re.on.error.fire(pe),re.parent?re.parent._reject(pe):me&&re.idbtrans&&re.idbtrans.abort(),Gn(pe)})})),this.Version=($=this,vo(e6.prototype,function(Z){this.db=$,this._cfg={version:Z,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(J=this,vo(gt.prototype,function(Z,ae,ee){if(this.db=J,this._ctx={table:Z,index:ae===":id"?null:ae,or:ee},this._cmp=this._ascending=It,this._descending=function(ie,oe){return It(oe,ie)},this._max=function(ie,oe){return 0<It(ie,oe)?ie:oe},this._min=function(ie,oe){return It(ie,oe)<0?ie:oe},this._IDBKeyRange=J._deps.IDBKeyRange,!this._IDBKeyRange)throw new Fe.MissingAPI})),this.on("versionchange",function(Z){0<Z.newVersion?console.warn("Another connection wants to upgrade database '".concat(_.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(_.name,"'. Closing db now to resume the delete request.")),_.close({disableAutoOpen:!1})}),this.on("blocked",function(Z){!Z.newVersion||Z.newVersion<Z.oldVersion?console.warn("Dexie.delete('".concat(_.name,"') was blocked")):console.warn("Upgrade '".concat(_.name,"' blocked by other connection holding version ").concat(Z.oldVersion/10))}),this._maxKey=Hc(b.IDBKeyRange),this._createTransaction=function(Z,ae,ee,ie){return new _.Transaction(Z,ae,ee,_._options.chromeTransactionDurability,ie)},this._fireOnBlocked=function(Z){_.on("blocked").fire(Z),mo.filter(function(ae){return ae.name===_.name&&ae!==_&&!ae._state.vcFired}).map(function(ae){return ae.on("versionchange").fire(Z)})},this.use(i6),this.use(l6),this.use(s6),this.use(n6),this.use(r6);var se=new Proxy(this,{get:function(Z,ae,ee){if(ae==="_vip")return!0;if(ae==="table")return function(oe){return Oh(_.table(oe),se)};var ie=Reflect.get(Z,ae,ee);return ie instanceof Dr?Oh(ie,se):ae==="tables"?ie.map(function(oe){return Oh(oe,se)}):ae==="_createTransaction"?function(){return Oh(ie.apply(this,arguments),se)}:ie}});this.vip=se,k.forEach(function(Z){return Z(_)})}var Mh,Ui=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",c6=(Hb.prototype.subscribe=function(p,b,_){return this._subscribe(p&&typeof p!="function"?p:{next:p,error:b,complete:_})},Hb.prototype[Ui]=function(){return this},Hb);function Hb(p){this._subscribe=p}try{Mh={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{Mh={indexedDB:null,IDBKeyRange:null}}function pS(p){var b,_=!1,k=new c6(function(T){var P=Ae(p),z,$=!1,J={},ne={},se={get closed(){return $},unsubscribe:function(){$||($=!0,z&&z.abort(),Z&&ws.storagemutated.unsubscribe(ee))}};T.start&&T.start(se);var Z=!1,ae=function(){return ci(ie)},ee=function(oe){Ih(J,oe),Ob(ne,J)&&ae()},ie=function(){var oe,re,pe;!$&&Mh.indexedDB&&(J={},oe={},z&&z.abort(),z=new AbortController,pe=function(me){var ye=jt();try{P&&bs();var Ce=Mr(p,me);return Ce=P?Ce.finally(Bi):Ce}finally{ye&&dn()}}(re={subscr:oe,signal:z.signal,requery:ae,querier:p,trans:null}),Promise.resolve(pe).then(function(me){_=!0,b=me,$||re.signal.aborted||(J={},function(ye){for(var Ce in ye)if(d(ye,Ce))return;return 1}(ne=oe)||Z||(ws(Xr,ee),Z=!0),ci(function(){return!$&&T.next&&T.next(me)}))},function(me){_=!1,["DatabaseClosedError","AbortError"].includes(me?.name)||$||ci(function(){$||T.error&&T.error(me)})}))};return setTimeout(ae,0),se});return k.hasValue=function(){return _},k.getValue=function(){return b},k}var aa=Ks;function Gb(p){var b=wo;try{wo=!0,ws.storagemutated.fire(p),Lb(p,!0)}finally{wo=b}}h(aa,r(r({},wt),{delete:function(p){return new aa(p,{addons:[]}).delete()},exists:function(p){return new aa(p,{addons:[]}).open().then(function(b){return b.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(p){try{return b=aa.dependencies,_=b.indexedDB,b=b.IDBKeyRange,(Ib(_)?Promise.resolve(_.databases()).then(function(k){return k.map(function(T){return T.name}).filter(function(T){return T!==js})}):Nb(_,b).toCollection().primaryKeys()).then(p)}catch{return Gn(new Fe.MissingAPI)}var b,_},defineClass:function(){return function(p){l(this,p)}},ignoreTransaction:function(p){return Ie.trans?Ai(Ie.transless,p):p()},vip:Pb,async:function(p){return function(){try{var b=Fb(p.apply(this,arguments));return b&&typeof b.then=="function"?b:De.resolve(b)}catch(_){return Gn(_)}}},spawn:function(p,b,_){try{var k=Fb(p.apply(_,b||[]));return k&&typeof k.then=="function"?k:De.resolve(k)}catch(T){return Gn(T)}},currentTransaction:{get:function(){return Ie.trans||null}},waitFor:function(p,b){return b=De.resolve(typeof p=="function"?aa.ignoreTransaction(p):p).timeout(b||6e4),Ie.trans?Ie.trans.waitFor(b):b},Promise:De,debug:{get:function(){return An},set:function(p){pt(p)}},derive:m,extend:l,props:h,override:E,Events:bo,on:ws,liveQuery:pS,extendObservabilitySet:Ih,getByKeyPath:x,setByKeyPath:N,delByKeyPath:function(p,b){typeof b=="string"?N(p,b,void 0):"length"in b&&[].map.call(b,function(_){N(p,_,void 0)})},shallowClone:D,deepClone:U,getObjectDiff:Bb,cmp:It,asap:C,minKey:-1/0,addons:[],connections:mo,errnames:Pe,dependencies:Mh,cache:oa,semVer:"4.0.11",version:"4.0.11".split(".").map(function(p){return parseInt(p)}).reduce(function(p,b,_){return p+b/Math.pow(10,2*_)})})),aa.maxKey=Hc(aa.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ws(Xr,function(p){wo||(p=new CustomEvent(Uc,{detail:p}),wo=!0,dispatchEvent(p),wo=!1)}),addEventListener(Uc,function(p){p=p.detail,wo||Gb(p)}));var pl,wo=!1,gS=function(){};return typeof BroadcastChannel<"u"&&((gS=function(){(pl=new BroadcastChannel(Uc)).onmessage=function(p){return p.data&&Gb(p.data)}})(),typeof pl.unref=="function"&&pl.unref(),ws(Xr,function(p){wo||pl.postMessage(p)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(p){if(!Ks.disableBfCache&&p.persisted){An&&console.debug("Dexie: handling persisted pagehide"),pl?.close();for(var b=0,_=mo;b<_.length;b++)_[b].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(p){!Ks.disableBfCache&&p.persisted&&(An&&console.debug("Dexie: handling persisted pageshow"),gS(),Gb({all:new Fr(-1/0,[[]])}))})),De.rejectionMapper=function(p,b){return!p||p instanceof M||p instanceof TypeError||p instanceof SyntaxError||!p.name||!nn[p.name]?p:(b=new nn[p.name](b||p.message,p),"stack"in p&&g(b,"stack",{get:function(){return this.inner.stack}}),b)},pt(An),r(Ks,Object.freeze({__proto__:null,Dexie:Ks,liveQuery:pS,Entity:Wn,cmp:It,PropModification:Lr,replacePrefix:function(p,b){return new Lr({replacePrefix:[p,b]})},add:function(p){return new Lr({add:p})},remove:function(p){return new Lr({remove:p})},default:Ks,RangeSet:Fr,mergeRanges:jc,rangesOverlap:iS}),{default:Ks}),Ks})}(Sd)),Sd.exports}var UL=zL();const zg=Fu(UL),n0=Symbol.for("Dexie"),kd=globalThis[n0]||(globalThis[n0]=zg);if(zg.semVer!==kd.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${zg.semVer} and ${kd.semVer}`);const{liveQuery:x6,mergeRanges:E6,rangesOverlap:A6,RangeSet:S6,cmp:k6,Entity:C6,PropModification:T6,replacePrefix:N6,add:I6,remove:P6}=kd;class HL extends kd{conversations;messages;settings;constructor(){super("LlamacppWebui"),this.version(1).stores({conversations:"id, lastModified, currNode, name",messages:"id, convId, type, role, timestamp, parent, children",settings:"id"})}}const Nr=new HL;class jr{static async createConversation(e){const t={id:crypto.randomUUID(),name:e,lastModified:Date.now(),currNode:""};return await Nr.conversations.add(t),t}static async getConversation(e){return await Nr.conversations.get(e)}static async getAllConversations(){return await Nr.conversations.orderBy("lastModified").reverse().toArray()}static async updateConversation(e,t){await Nr.conversations.update(e,{...t,lastModified:Date.now()})}static async deleteConversation(e){await Nr.transaction("rw",[Nr.conversations,Nr.messages],async()=>{await Nr.conversations.delete(e),await Nr.messages.where("convId").equals(e).delete()})}static async addMessage(e){const t={...e,id:crypto.randomUUID()};return await Nr.messages.add(t),t}static async getConversationMessages(e){return await Nr.messages.where("convId").equals(e).sortBy("timestamp")}static async updateMessage(e,t){await Nr.messages.update(e,t)}static async deleteMessage(e){await Nr.messages.delete(e)}static async getSettings(){let e=await Nr.settings.get("default");return e||(e={id:"default",theme:"system",model:"llama-3.2-3b-instruct",temperature:.7,maxTokens:2048,topP:.9,topK:40,repeatPenalty:1.1,seed:-1,systemPrompt:"You are a helpful AI assistant."},await Nr.settings.add(e)),e}static async updateSettings(e){await Nr.settings.update("default",e)}}function Ug(n){if(n.includes("<think>")&&!n.includes("</think>")){const r=n.split("</think>")?.[1]?.trim(),i=n.split("<think>")?.[1]?.trim();return{cleanContent:r,thinking:i}}return n.includes("</think>")?{thinking:n.split("</think>")?.[0]?.trim(),cleanContent:n.split("</think>")?.[1]?.trim()}:{thinking:null,cleanContent:n}}function r0(n){const e=n.indexOf("<think>");if(e===-1)return{thinking:null,remainingContent:n};if(n.indexOf("</think>")===-1){const i=e+7;return{thinking:n.substring(i),remainingContent:n.substring(0,e)}}const r=Ug(n);return{thinking:r.thinking,remainingContent:r.cleanContent}}class GL{#e=_e(null);get activeConversation(){return w(this.#e)}set activeConversation(e){G(this.#e,e,!0)}#t=_e(Nn([]));get activeMessages(){return w(this.#t)}set activeMessages(e){G(this.#t,e,!0)}#n=_e(Nn([]));get conversations(){return w(this.#n)}set conversations(e){G(this.#n,e,!0)}#r=_e("");get currentResponse(){return w(this.#r)}set currentResponse(e){G(this.#r,e,!0)}#s=_e(!1);get isInitialized(){return w(this.#s)}set isInitialized(e){G(this.#s,e,!0)}#i=_e(!1);get isLoading(){return w(this.#i)}set isLoading(e){G(this.#i,e,!0)}chatService=new nc;constructor(){this.initialize()}async initialize(){try{await this.loadConversations(),this.isInitialized=!0}catch(e){console.error("Failed to initialize chat store:",e)}}async loadConversations(){this.conversations=await jr.getAllConversations()}async createConversation(e){const t=e||`Chat ${new Date().toLocaleString()}`,r=await jr.createConversation(t);return this.conversations.unshift(r),this.activeConversation=r,this.activeMessages=[],await Fl(`/chat/${r.id}`),r.id}async loadConversation(e){try{const t=await jr.getConversation(e);return t?(this.activeConversation=t,this.activeMessages=await jr.getConversationMessages(e),!0):!1}catch(t){return console.error("Failed to load conversation:",t),!1}}async addMessage(e,t,r="text",i="-1",s){if(!this.activeConversation)return console.error("No active conversation when trying to add message"),null;try{const o=await jr.addMessage({convId:this.activeConversation.id,role:e,content:t,type:r,timestamp:Date.now(),parent:i,thinking:"",children:[],extra:s});return this.activeMessages.push(o),this.updateConversationTimestamp(),o}catch(o){return console.error("Failed to add message:",o),null}}async streamChatCompletion(e,t,r,i){let s="";await this.chatService.sendChatCompletion(e,{stream:!0,temperature:.7,max_tokens:2048,onChunk:o=>{s+=o,this.currentResponse=s;const a=r0(s),l=this.activeMessages.findIndex(c=>c.id===t.id);l!==-1&&(this.activeMessages[l].content=a.remainingContent||s)},onComplete:async()=>{await jr.updateMessage(t.id,{content:s}),r&&await r(s),this.isLoading=!1,this.currentResponse=""},onError:o=>{if(o.name==="AbortError"||o instanceof DOMException){this.isLoading=!1,this.currentResponse="";return}console.error("Streaming error:",o),this.isLoading=!1,this.currentResponse="";const a=this.activeMessages.findIndex(l=>l.id===t.id);a!==-1&&(this.activeMessages[a].content=`Error: ${o.message}`),i&&i(o)}})}isAbortError(e){return e instanceof Error&&(e.name==="AbortError"||e instanceof DOMException)}updateConversationTimestamp(){if(!this.activeConversation)return;const e=this.conversations.findIndex(t=>t.id===this.activeConversation.id);if(e!==-1){this.conversations[e].lastModified=Date.now();const t=this.conversations.splice(e,1)[0];this.conversations.unshift(t)}}async sendMessage(e,t){if(!e.trim()||this.isLoading)return;let r=!1;if(this.activeConversation||(await this.createConversation(),r=!0),!this.activeConversation){console.error("No active conversation available for sending message");return}this.isLoading=!0,this.currentResponse="";try{if(!await this.addMessage("user",e,"text","-1",t))throw new Error("Failed to add user message");if(r&&e){const a=e.trim();await this.updateConversationName(this.activeConversation.id,a)}const s=await jr.getConversationMessages(this.activeConversation.id),o=await this.addMessage("assistant","");if(!o)throw new Error("Failed to create assistant message");await this.streamChatCompletion(s,o)}catch(i){if(this.isAbortError(i)){this.isLoading=!1;return}console.error("Failed to send message:",i),this.isLoading=!1}}stopGeneration(){this.chatService.abort(),this.savePartialResponseIfNeeded(),this.isLoading=!1,this.currentResponse=""}async gracefulStop(){this.isLoading&&(this.chatService.abort(),await this.savePartialResponseIfNeeded(),this.isLoading=!1,this.currentResponse="")}async savePartialResponseIfNeeded(){if(!this.currentResponse.trim()||!this.activeMessages.length)return;const e=this.activeMessages[this.activeMessages.length-1];if(e&&e.role==="assistant")try{const t=r0(this.currentResponse);console.log("Saving partial response:",{messageId:e.id,currentResponse:this.currentResponse,remainingContent:t.remainingContent,thinking:t.thinking});const r={content:t.remainingContent||this.currentResponse};t.thinking&&(r.thinking=t.thinking),await jr.updateMessage(e.id,r),console.log("Successfully saved partial response to database"),e.content=t.remainingContent||this.currentResponse}catch(t){console.error("Failed to save partial response:",t),e.content=this.currentResponse}else console.log("No assistant message found to save partial response to")}async updateMessage(e,t){if(!(!this.activeConversation||this.isLoading))try{const r=this.activeMessages.findIndex(a=>a.id===e);if(r===-1){console.error("Message not found for update");return}const i=this.activeMessages[r],s=i.content;if(i.role!=="user"){console.error("Only user messages can be edited");return}this.activeMessages[r].content=t;const o=this.activeMessages.slice(r+1);for(const a of o)await jr.deleteMessage(a.id);this.activeMessages=this.activeMessages.slice(0,r+1),this.updateConversationTimestamp(),this.isLoading=!0,this.currentResponse="";try{const a=await jr.getConversationMessages(this.activeConversation.id),l=await this.addMessage("assistant","");if(!l)throw new Error("Failed to create assistant message");await this.streamChatCompletion(a,l,async()=>{await jr.updateMessage(e,{content:t})},c=>{const u=this.activeMessages.findIndex(d=>d.id===e);u!==-1&&(this.activeMessages[u].content=s)})}catch(a){console.error("Failed to regenerate response:",a),this.isLoading=!1;const l=this.activeMessages.findIndex(c=>c.id===e);l!==-1&&(this.activeMessages[l].content=s)}}catch(r){if(this.isAbortError(r))return;console.error("Failed to update message:",r)}}async regenerateMessage(e){if(!(!this.activeConversation||this.isLoading))try{const t=this.activeMessages.findIndex(s=>s.id===e);if(t===-1){console.error("Message not found for regeneration");return}if(this.activeMessages[t].role!=="assistant"){console.error("Only assistant messages can be regenerated");return}const i=this.activeMessages.slice(t);for(const s of i)await jr.deleteMessage(s.id);this.activeMessages=this.activeMessages.slice(0,t),this.updateConversationTimestamp(),this.isLoading=!0,this.currentResponse="";try{const s=await jr.getConversationMessages(this.activeConversation.id),o=await this.addMessage("assistant","");if(!o)throw new Error("Failed to create assistant message");await this.streamChatCompletion(s,o)}catch(s){console.error("Failed to regenerate response:",s),this.isLoading=!1}}catch(t){if(this.isAbortError(t))return;console.error("Failed to regenerate message:",t)}}async updateConversationName(e,t){try{await jr.updateConversation(e,{name:t});const r=this.conversations.findIndex(i=>i.id===e);r!==-1&&(this.conversations[r].name=t),this.activeConversation?.id===e&&(this.activeConversation.name=t)}catch(r){console.error("Failed to update conversation name:",r)}}async deleteConversation(e){try{await jr.deleteConversation(e),this.conversations=this.conversations.filter(t=>t.id!==e),this.activeConversation?.id===e&&(this.activeConversation=null,this.activeMessages=[],await Fl("/?new_chat=true"))}catch(t){console.error("Failed to delete conversation:",t)}}clearActiveConversation(){this.activeConversation=null,this.activeMessages=[],this.currentResponse="",this.isLoading=!1}}const In=new GL,VL=()=>In.conversations,Hg=()=>In.activeConversation,Cd=()=>In.activeMessages,as=()=>In.isLoading,jL=()=>In.isInitialized;In.createConversation.bind(In),In.loadConversation.bind(In);const qL=In.sendMessage.bind(In),WL=In.updateMessage.bind(In),KL=In.regenerateMessage.bind(In);In.updateConversationName.bind(In);const $L=In.deleteConversation.bind(In);In.clearActiveConversation.bind(In);const YL=In.gracefulStop.bind(In);function rc(){In.stopGeneration()}const XL={get error(){return cr.error},get params(){return cr.params},get route(){return cr.route},get status(){return cr.status},get url(){return cr.url}};ns.updated.check;const Wa=XL;var ZL=de('<div class="px-2 py-2"><a href="/"><h1 class="text-xl font-semibold">llama.cpp</h1></a></div>'),QL=de("<!> New Chat",1),JL=de('<div class="px-2 py-4 text-center"><p class="text-muted-foreground text-sm"> </p></div>'),e2=de("<!> <!>",1),t2=de("<!> <!>",1),n2=de('<div class="px-2 py-2"><p class="text-muted-foreground text-xs">Conversations are stored locally in your browser.</p></div>'),r2=de('<!> <div class="px-2 pb-4"><div class="relative"><!> <!></div></div> <div class="px-2 pb-4"><!></div> <!> <!>',1);function i2(n,e){be(e,!0);let t=q(()=>Wa.params.id),r=_e(""),i=q(()=>VL().filter(A=>A.name.toLowerCase().includes(w(r).toLowerCase())));async function s(A){await Fl(`/chat/${A}`)}async function o(A){console.log("Editing conversation:",A)}async function a(A){await $L(A)}var l=r2(),c=j(l);We(c,()=>gI,(A,E)=>{E(A,{children:(S,C)=>{var x=ZL();I(S,x)},$$slots:{default:!0}})});var u=Ne(c,2),d=he(u),h=he(d);dL(h,{class:"text-muted-foreground absolute left-2 top-2.5 h-4 w-4"});var f=Ne(h,2);xw(f,{placeholder:"Search conversations...",class:"pl-8",get value(){return w(r)},set value(A){G(r,A,!0)}}),ue(d),ue(u);var g=Ne(u,2),m=he(g);Zn(m,{href:"/?new_chat=true",class:"border-muted-foreground/25 hover:bg-accent hover:border-accent-foreground/25 w-full justify-start gap-2 rounded-lg border-2 border-dashed bg-transparent transition-colors",variant:"ghost",children:(A,E)=>{var S=QL(),C=j(S);e0(C,{class:"h-4 w-4"}),jn(),I(A,S)},$$slots:{default:!0}}),ue(g);var y=Ne(g,2);We(y,()=>fI,(A,E)=>{E(A,{class:"space-y-2",children:(S,C)=>{var x=t2(),N=j(x);We(N,()=>dI,(V,O)=>{O(V,{children:(K,B)=>{jn();var U=Vr("Conversations");I(K,U)},$$slots:{default:!0}})});var D=Ne(N,2);We(D,()=>cI,(V,O)=>{O(V,{children:(K,B)=>{var U=te(),L=j(U);We(L,()=>ED,(W,H)=>{H(W,{class:"space-y-2",children:(Q,X)=>{var le=e2(),R=j(le);es(R,17,()=>w(i),M=>M.id,(M,fe)=>{var Oe=te(),Le=j(Oe);We(Le,()=>_D,(Pe,$e)=>{$e(Pe,{children:(Fe,nn)=>{{let wt=q(()=>({id:w(fe).id,name:w(fe).name,lastModified:w(fe).lastModified,currNode:w(fe).currNode})),ut=q(()=>w(t)===w(fe).id);FL(Fe,{get conversation(){return w(wt)},get isActive(){return w(ut)},onSelect:s,onEdit:o,onDelete:a})}},$$slots:{default:!0}})}),I(M,Oe)});var Ae=Ne(R,2);{var ke=M=>{var fe=JL(),Oe=he(fe),Le=he(Oe,!0);ue(Oe),ue(fe),ft(()=>Xt(Le,w(r)?"No conversations found":"No conversations yet")),I(M,fe)};xe(Ae,M=>{w(i).length===0&&M(ke)})}I(Q,le)},$$slots:{default:!0}})}),I(K,U)},$$slots:{default:!0}})}),I(S,x)},$$slots:{default:!0}})});var v=Ne(y,2);We(v,()=>aI,(A,E)=>{E(A,{children:(S,C)=>{var x=n2();I(S,x)},$$slots:{default:!0}})}),I(n,l),ve()}class s2{#e=_e(null);get _serverProps(){return w(this.#e)}set _serverProps(e){G(this.#e,e,!0)}#t=_e(!1);get _loading(){return w(this.#t)}set _loading(e){G(this.#t,e,!0)}#n=_e(null);get _error(){return w(this.#n)}set _error(e){G(this.#n,e,!0)}get serverProps(){return this._serverProps}get loading(){return this._loading}get error(){return this._error}get modelName(){return this._serverProps?.model_path&&this._serverProps.model_path.split(/(\\|\/)/).pop()||null}get supportedModalities(){const e=[];return this._serverProps?.modalities?.audio&&e.push("audio"),this._serverProps?.modalities?.vision&&e.push("vision"),e}get supportsVision(){return this._serverProps?.modalities?.vision??!1}get supportsAudio(){return this._serverProps?.modalities?.audio??!1}async fetchServerProps(){this._loading=!0,this._error=null;try{console.log("Fetching server properties...");const e=await nc.getServerProps();this._serverProps=e,console.log("Server properties loaded:",e)}catch(e){const t=e instanceof Error?e.message:"Failed to fetch server properties";this._error=t,console.error("Error fetching server properties:",e)}finally{this._loading=!1}}clear(){this._serverProps=null,this._error=null,this._loading=!1}}const Td=new s2;var o2=de('<div class="flex h-screen w-full"><!> <!> <!></div>'),a2=de("<!> <!> <!>",1);function l2(n,e){be(e,!0);let t=q(()=>Wa.route.id==="/chat/[id]"),r=q(()=>Wa.route.id==="/"),i=q(()=>Wa.url.searchParams.get("new_chat")==="true"),s=q(()=>Cd().length>0||as()),o=_e(!1);Tt(()=>{w(r)&&!w(i)?G(o,!1):w(r)&&w(i)||w(t)?G(o,!0):G(o,w(s),!0)}),Tt(()=>{Td.fetchServerProps()});var a=a2(),l=j(a);yT(l,{});var c=Ne(l,2);mN(c,{richColors:!0});var u=Ne(c,2);We(u,()=>SD,(d,h)=>{h(d,{get open(){return w(o)},set open(f){G(o,f,!0)},children:(f,g)=>{var m=o2(),y=he(m);We(y,()=>$D,(E,S)=>{S(E,{class:"h-full",children:(C,x)=>{i2(C,{})},$$slots:{default:!0}})});var v=Ne(y,2);We(v,()=>RD,(E,S)=>{S(E,{class:"z-50 h-8 w-8",style:"translate: 1rem 1rem"})});var A=Ne(v,2);We(A,()=>yI,(E,S)=>{S(E,{class:"flex flex-1 flex-col overflow-hidden",children:(C,x)=>{var N=te(),D=j(N);Se(D,()=>e.children??Te),I(C,N)},$$slots:{default:!0}})}),ue(m),I(f,m)},$$slots:{default:!0}})}),I(n,a),ve()}const c2=Object.freeze(Object.defineProperty({__proto__:null,component:l2},Symbol.toStringTag,{value:"Module"}));var u2=de("<h1> </h1> <p> </p>",1);function d2(n,e){be(e,!1),Cf();var t=u2(),r=j(t),i=he(r,!0);ue(r);var s=Ne(r,2),o=he(s,!0);ue(s),ft(()=>{Xt(i,Wa.status),Xt(o,Wa.error?.message)}),I(n,t),ve()}const h2=Object.freeze(Object.defineProperty({__proto__:null,component:d2},Symbol.toStringTag,{value:"Module"}));function i0(n,e){be(e,!0);let t=F(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","ref","class"]);var i=te(),s=j(i);{let o=q(()=>zt("text-lg font-semibold leading-none",e.class));We(s,()=>Bp,(a,l)=>{l(a,Ve({"data-slot":"dialog-title",get class(){return w(o)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))})}I(n,i),ve()}var f2=de("<div><!></div>");function s0(n,e){be(e,!0);let t=F(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=f2();St(i,o=>({"data-slot":"dialog-header",class:o,...r}),[()=>zt("flex flex-col gap-2 text-center sm:text-left",e.class)]);var s=he(i);Se(s,()=>e.children??Te),ue(i),fn(i,o=>t(o),()=>t()),I(n,i),ve()}function p2(n,e){be(e,!0);let t=F(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","ref","class"]);var i=te(),s=j(i);{let o=q(()=>zt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e.class));We(s,()=>Qp,(a,l)=>{l(a,Ve({"data-slot":"dialog-overlay",get class(){return w(o)}},()=>r,{get ref(){return t()},set ref(c){t(c)}}))})}I(n,i),ve()}var g2=de('<!> <span class="sr-only">Close</span>',1),m2=de("<!> <!>",1),b2=de("<!> <!>",1);function o0(n,e){be(e,!0);let t=F(e,"ref",15,null),r=F(e,"showCloseButton",3,!0),i=Re(e,["$$slots","$$events","$$legacy","ref","class","portalProps","children","showCloseButton"]);var s=te(),o=j(s);We(o,()=>v2,(a,l)=>{l(a,Ve(()=>e.portalProps,{children:(c,u)=>{var d=b2(),h=j(d);We(h,()=>p2,(g,m)=>{m(g,{})});var f=Ne(h,2);{let g=q(()=>zt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed left-[50%] top-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e.class));We(f,()=>G_,(m,y)=>{y(m,Ve({"data-slot":"dialog-content",get class(){return w(g)}},()=>i,{get ref(){return t()},set ref(v){t(v)},children:(v,A)=>{var E=m2(),S=j(E);Se(S,()=>e.children??Te);var C=Ne(S,2);{var x=N=>{var D=te(),V=j(D);We(V,()=>H_,(O,K)=>{K(O,{class:"ring-offset-background focus:ring-ring rounded-xs focus:outline-hidden absolute right-4 top-4 opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 disabled:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",children:(B,U)=>{var L=g2(),W=j(L);qa(W,{}),jn(2),I(B,L)},$$slots:{default:!0}})}),I(N,D)};xe(C,N=>{r()&&N(x)})}I(v,E)},$$slots:{default:!0}}))})}I(c,d)},$$slots:{default:!0}}))}),I(n,s),ve()}const a0=U_,v2=id;var y2=de("<span></span> <span> </span>",1),w2=de('<div class="flex items-center space-x-4"><div class="flex items-center gap-3"><!> <div><!> <div class="text-muted-foreground flex items-center gap-2 text-sm"><span> </span> <!></div></div></div></div>'),_2=de('<div class="flex items-center justify-center p-4"><img class="max-h-full rounded-lg object-contain shadow-lg"/></div>'),x2=de('<div class="p-4"><div class="bg-muted max-h-[60vh] overflow-auto whitespace-pre-wrap break-words rounded-lg p-4 font-mono text-sm"> </div></div>'),E2=de('<div class="flex items-center justify-center p-8"><div class="text-center"><!> <p class="text-muted-foreground mb-4">Audio file preview not available</p></div></div>'),A2=de('<div class="flex items-center justify-center p-8"><div class="text-center"><!> <p class="text-muted-foreground mb-4">Preview not available for this file type</p></div></div>'),S2=de('<!> <div class="flex-1 overflow-auto"><!></div>',1);function k2(n,e){be(e,!0);let t=F(e,"open",15),r=q(()=>e.uploadedFile?.name||e.attachment?.name||e.name||"Unknown File"),i=q(()=>e.uploadedFile?.type||(e.attachment?.type==="imageFile"?"image":e.attachment?.type==="textFile"?"text":e.attachment?.type==="audioFile"?e.attachment.mimeType||"audio":e.attachment?.type==="pdfFile"?"application/pdf":e.type||"unknown")),s=q(()=>e.uploadedFile?.size||e.size),o=q(()=>e.uploadedFile?.preview||(e.attachment?.type==="imageFile"?e.attachment.base64Url:e.preview)),a=q(()=>e.uploadedFile?.textContent||(e.attachment?.type==="textFile"||e.attachment?.type==="pdfFile"?e.attachment.content:e.textContent)),l=q(()=>w(i).startsWith("image/")||w(i)==="image"),c=q(()=>w(i).startsWith("text/")||w(i)==="text"),u=q(()=>w(i)==="application/pdf"),d=q(()=>w(i).startsWith("audio/")||w(i)==="audio"),h=q(()=>()=>w(l)?sL:w(c)||w(u)?tL:w(d)?J_:nL);function f(y){if(y===0)return"0 Bytes";const v=1024,A=["Bytes","KB","MB","GB"],E=Math.floor(Math.log(y)/Math.log(v));return parseFloat((y/Math.pow(v,E)).toFixed(2))+" "+A[E]}var g=te(),m=j(g);We(m,()=>a0,(y,v)=>{v(y,{get open(){return t()},set open(A){t(A)},children:(A,E)=>{var S=te(),C=j(S);We(C,()=>o0,(x,N)=>{N(x,{class:"grid max-h-[90vh] max-w-4xl overflow-hidden sm:w-auto sm:max-w-6xl",children:(D,V)=>{var O=S2(),K=j(O);We(K,()=>s0,(H,Q)=>{Q(H,{class:"flex-shrink-0",children:(X,le)=>{var R=w2(),Ae=he(R),ke=he(Ae);{var M=wt=>{var ut=te(),Vt=j(ut);We(Vt,()=>w(h),(rn,it)=>{it(rn,{class:"text-muted-foreground h-5 w-5"})}),I(wt,ut)};xe(ke,wt=>{w(h)&&wt(M)})}var fe=Ne(ke,2),Oe=he(fe);We(Oe,()=>i0,(wt,ut)=>{ut(wt,{class:"text-left",children:(Vt,rn)=>{jn();var it=Vr();ft(()=>Xt(it,w(r))),I(Vt,it)},$$slots:{default:!0}})});var Le=Ne(Oe,2),Pe=he(Le),$e=he(Pe,!0);ue(Pe);var Fe=Ne(Pe,2);{var nn=wt=>{var ut=y2(),Vt=Ne(j(ut),2),rn=he(Vt,!0);ue(Vt),ft(it=>Xt(rn,it),[()=>f(w(s))]),I(wt,ut)};xe(Fe,wt=>{w(s)&&wt(nn)})}ue(Le),ue(fe),ue(Ae),ue(R),ft(()=>Xt($e,w(i))),I(X,R)},$$slots:{default:!0}})});var B=Ne(K,2),U=he(B);{var L=H=>{var Q=_2(),X=he(Q);ue(Q),ft(()=>{Ct(X,"src",w(o)),Ct(X,"alt",w(r))}),I(H,Q)},W=H=>{var Q=te(),X=j(Q);{var le=Ae=>{var ke=x2(),M=he(ke),fe=he(M,!0);ue(M),ue(ke),ft(()=>Xt(fe,w(a))),I(Ae,ke)},R=Ae=>{var ke=te(),M=j(ke);{var fe=Le=>{var Pe=E2(),$e=he(Pe),Fe=he($e);J_(Fe,{class:"text-muted-foreground mx-auto mb-4 h-16 w-16"}),jn(2),ue($e),ue(Pe),I(Le,Pe)},Oe=Le=>{var Pe=A2(),$e=he(Pe),Fe=he($e);{var nn=wt=>{var ut=te(),Vt=j(ut);We(Vt,()=>w(h),(rn,it)=>{it(rn,{class:"text-muted-foreground mx-auto mb-4 h-16 w-16"})}),I(wt,ut)};xe(Fe,wt=>{w(h)&&wt(nn)})}jn(2),ue($e),ue(Pe),I(Le,Pe)};xe(M,Le=>{w(d)&&e.attachment?.type==="audioFile"?Le(fe):Le(Oe,!1)},!0)}I(Ae,ke)};xe(X,Ae=>{(w(c)||w(u))&&w(a)?Ae(le):Ae(R,!1)},!0)}I(H,Q)};xe(U,H=>{w(l)&&w(o)?H(L):H(W,!1)})}ue(B),I(D,O)},$$slots:{default:!0}})}),I(A,S)},$$slots:{default:!0}})}),I(n,g),ve()}var C2=de("<div></div>"),T2=de("<!> <!>",1);function l0(n,e){be(e,!0);let t=F(e,"uploadedFiles",27,()=>Nn([])),r=F(e,"attachments",19,()=>[]),i=F(e,"readonly",3,!1),s=F(e,"class",3,""),o=F(e,"imageHeight",3,"h-24"),a=F(e,"imageWidth",3,"w-auto"),l=F(e,"imageClass",3,""),c=q(g),u=_e(!1),d=_e(null);function h(S){G(d,{uploadedFile:S.uploadedFile,attachment:S.attachment,preview:S.preview,name:S.name,type:S.type,size:S.size,textContent:S.textContent},!0),G(u,!0)}function f(){G(u,!1),G(d,null)}function g(){const S=[];for(const C of t())S.push({id:C.id,name:C.name,size:C.size,preview:C.preview,type:C.type,isImage:C.type.startsWith("image/"),uploadedFile:C,textContent:C.textContent});for(const[C,x]of r().entries())x.type==="imageFile"?S.push({id:`attachment-${C}`,name:x.name,preview:x.base64Url,type:"image",isImage:!0}):x.type==="textFile"?S.push({id:`attachment-${C}`,name:x.name,type:"text",isImage:!1,attachment:x,attachmentIndex:C,textContent:x.content}):x.type==="audioFile"?S.push({id:`attachment-${C}`,name:x.name,type:x.mimeType||"audio",isImage:!1}):x.type==="pdfFile"&&S.push({id:`attachment-${C}`,name:x.name,type:"application/pdf",isImage:!1,attachment:x,attachmentIndex:C,textContent:x.content});return S}var m=T2(),y=j(m);{var v=S=>{var C=C2();es(C,21,()=>w(c),x=>x.id,(x,N)=>{var D=te(),V=j(D);{var O=B=>{V2(B,{class:"cursor-pointer",get id(){return w(N).id},get name(){return w(N).name},get preview(){return w(N).preview},get size(){return w(N).size},get readonly(){return i()},get onRemove(){return e.onFileRemove},get height(){return o()},get width(){return a()},get imageClass(){return l()},onClick:()=>h(w(N))})},K=B=>{B2(B,{class:"cursor-pointer",get id(){return w(N).id},get name(){return w(N).name},get type(){return w(N).type},get size(){return w(N).size},get readonly(){return i()},get onRemove(){return e.onFileRemove},get textContent(){return w(N).textContent},onClick:()=>h(w(N))})};xe(V,B=>{w(N).isImage&&w(N).preview?B(O):B(K,!1)})}I(x,D)}),ue(C),ft(()=>Rn(C,1,`flex flex-wrap items-start gap-3 ${s()??""}`)),I(S,C)};xe(y,S=>{w(c).length>0&&S(v)})}var A=Ne(y,2);{var E=S=>{k2(S,{onClose:f,get uploadedFile(){return w(d).uploadedFile},get attachment(){return w(d).attachment},get preview(){return w(d).preview},get name(){return w(d).name},get type(){return w(d).type},get size(){return w(d).size},get textContent(){return w(d).textContent},get open(){return w(u)},set open(C){G(u,C,!0)}})};xe(A,S=>{w(d)&&S(E)})}I(n,m),ve()}var N2=de('<span class="text-muted-foreground text-xs"> </span>'),I2=de('<div class="from-muted pointer-events-none absolute bottom-0 left-0 right-0 h-6 bg-gradient-to-t to-transparent"></div>'),P2=de('<div class="relative mt-2 w-full"><div class="text-muted-foreground overflow-hidden whitespace-pre-wrap break-words font-mono text-xs leading-relaxed"> </div> <!></div>'),R2=de('<button type="button"><div class="flex items-start gap-3"><div class="flex min-w-0 flex-1 flex-col items-start text-left"><span class="text-foreground w-full truncate text-sm font-medium"> </span> <!> <!></div></div></button>'),O2=de('<div class="from-muted pointer-events-none absolute bottom-0 left-0 right-0 h-4 bg-gradient-to-t to-transparent"></div>'),M2=de('<div class="relative"><div class="text-muted-foreground overflow-hidden whitespace-pre-wrap break-words font-mono text-xs leading-relaxed" style="max-height: 3.6em; line-height: 1.2em;"> </div> <!></div>'),D2=de('<div><!> <div class="pr-8"><span class="text-foreground mb-3 block truncate text-sm font-medium"> </span> <!></div></div>'),L2=de('<span class="text-muted-foreground text-xs"> </span>'),F2=de('<div><div class="bg-primary/10 text-primary flex h-8 w-8 items-center justify-center rounded text-xs font-medium"> </div> <div class="flex flex-col"><span class="text-foreground max-w-72 truncate text-sm font-medium"> </span> <!></div> <!></div>');function B2(n,e){be(e,!0);let t=F(e,"readonly",3,!1),r=F(e,"class",3,"");function i(d){if(d===0)return"0 Bytes";const h=1024,f=["Bytes","KB","MB","GB"],g=Math.floor(Math.log(d)/Math.log(h));return parseFloat((d/Math.pow(h,g)).toFixed(2))+" "+f[g]}function s(d){return d.split("/").pop()?.toUpperCase()||"FILE"}function o(d){return d.length>150?d.substring(0,150):d}var a=te(),l=j(a);{var c=d=>{var h=te(),f=j(h);{var g=y=>{var v=R2();v.__click=function(...O){e.onClick?.apply(this,O)};var A=he(v),E=he(A),S=he(E),C=he(S,!0);ue(S);var x=Ne(S,2);{var N=O=>{var K=N2(),B=he(K,!0);ue(K),ft(U=>Xt(B,U),[()=>i(e.size)]),I(O,K)};xe(x,O=>{e.size&&O(N)})}var D=Ne(x,2);{var V=O=>{var K=P2(),B=he(K),U=he(B,!0);ue(B);var L=Ne(B,2);{var W=H=>{var Q=I2();I(H,Q)};xe(L,H=>{e.textContent.length>150&&H(W)})}ue(K),ft(H=>Xt(U,H),[()=>o(e.textContent)]),I(O,K)};xe(D,O=>{e.textContent&&e.type==="text"&&O(V)})}ue(E),ue(A),ue(v),ft(()=>{Rn(v,1,`bg-muted border-border cursor-pointer rounded-lg border p-3 transition-shadow hover:shadow-md ${r()??""} w-full max-w-2xl`),Ct(v,"aria-label",`Preview ${e.name}`),Xt(C,e.name)}),I(y,v)},m=y=>{var v=D2(),A=he(v);Zn(A,{type:"button",variant:"ghost",size:"sm",class:"absolute right-2 top-2 h-6 w-6 bg-white/20 p-0 hover:bg-white/30",onclick:()=>e.onRemove?.(e.id),"aria-label":"Remove file",children:(D,V)=>{qa(D,{class:"h-3 w-3"})},$$slots:{default:!0}});var E=Ne(A,2),S=he(E),C=he(S,!0);ue(S);var x=Ne(S,2);{var N=D=>{var V=M2(),O=he(V),K=he(O,!0);ue(O);var B=Ne(O,2);{var U=L=>{var W=O2();I(L,W)};xe(B,L=>{e.textContent.length>150&&L(U)})}ue(V),ft(L=>Xt(K,L),[()=>o(e.textContent)]),I(D,V)};xe(x,D=>{e.textContent&&D(N)})}ue(E),ue(v),ft(()=>{Rn(v,1,`bg-muted border-border relative rounded-lg border p-3 ${r()??""} w-64`),Xt(C,e.name)}),I(y,v)};xe(f,y=>{t()?y(g):y(m,!1)})}I(d,h)},u=d=>{var h=F2(),f=he(h),g=he(f,!0);ue(f);var m=Ne(f,2),y=he(m),v=he(y,!0);ue(y);var A=Ne(y,2);{var E=x=>{var N=L2(),D=he(N,!0);ue(N),ft(V=>Xt(D,V),[()=>i(e.size)]),I(x,N)};xe(A,x=>{e.size&&x(E)})}ue(m);var S=Ne(m,2);{var C=x=>{Zn(x,{type:"button",variant:"ghost",size:"sm",class:"h-6 w-6 p-0",onclick:()=>e.onRemove?.(e.id),children:(N,D)=>{qa(N,{class:"h-3 w-3"})},$$slots:{default:!0}})};xe(S,x=>{t()||x(C)})}ue(h),ft(x=>{Rn(h,1,`bg-muted border-border flex items-center gap-2 rounded-lg border p-2 ${r()??""}`),Xt(g,x),Xt(v,e.name)},[()=>s(e.type)]),I(d,h)};xe(l,d=>{e.type==="text/plain"||e.type==="text"?d(c):d(u,!1)})}I(n,a),ve()}to(["click"]);var z2=de('<button type="button" class="focus:ring-primary block h-full w-full rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2"><img/></button>'),U2=de("<img/>"),H2=de('<div class="absolute right-1 top-1 flex items-center justify-center opacity-0 transition-opacity hover:opacity-100"><!></div>'),G2=de("<div><!> <!></div>");function V2(n,e){be(e,!0);let t=F(e,"readonly",3,!1),r=F(e,"class",3,""),i=F(e,"width",3,"w-auto"),s=F(e,"height",3,"h-24"),o=F(e,"imageClass",3,"");var a=G2(),l=he(a);{var c=f=>{var g=z2();g.__click=function(...y){e.onClick?.apply(this,y)};var m=he(g);ue(g),ft(()=>{Ct(g,"aria-label",`Preview ${e.name??""}`),Ct(m,"src",e.preview),Ct(m,"alt",e.name),Rn(m,1,`${s()??""} ${i()??""} cursor-pointer object-cover ${o()??""}`)}),I(f,g)},u=f=>{var g=U2();ft(()=>{Ct(g,"src",e.preview),Ct(g,"alt",e.name),Rn(g,1,`${s()??""} ${i()??""} cursor-pointer object-cover ${o()??""}`)}),I(f,g)};xe(l,f=>{e.onClick?f(c):f(u,!1)})}var d=Ne(l,2);{var h=f=>{var g=H2(),m=he(g);Zn(m,{type:"button",variant:"ghost",size:"sm",class:"h-6 w-6 bg-white/20 p-0 text-white hover:bg-white/30",onclick:()=>e.onRemove?.(e.id),children:(y,v)=>{qa(y,{class:"h-3 w-3"})},$$slots:{default:!0}}),ue(g),I(f,g)};xe(d,f=>{t()||f(h)})}ue(a),ft(()=>Rn(a,1,`bg-muted border-border relative overflow-hidden rounded-lg border ${r()??""}`)),I(n,a),ve()}to(["click"]);function j2(n){n&&(n.style.height="auto",n.style.height=n.scrollHeight+"px")}function q2(n,e){const t=n.target;t.files&&e.onFileUpload?.(Array.from(t.files))}var W2=n=>j2(n.currentTarget),K2=de("<!> <!>",1),$2=de('<div class="mt-4 flex items-center justify-center"><p class="text-muted-foreground text-xs">Press <kbd class="bg-muted rounded px-1 py-0.5 font-mono text-xs">Enter</kbd> to send, <kbd class="bg-muted rounded px-1 py-0.5 font-mono text-xs">Shift + Enter</kbd> for new line</p></div>'),Y2=de('<input type="file" multiple accept="image/*,audio/*,video/*,.pdf,.txt,.doc,.docx" class="hidden"/> <form><!> <div class="flex-column relative min-h-[48px] items-center rounded-3xl px-5 py-3 shadow-sm transition-all focus-within:shadow-md"><div class="flex-1"><textarea placeholder="Ask anything..." class="placeholder:text-muted-foreground text-md max-h-32 min-h-[24px] w-full resize-none border-0 bg-transparent p-0 leading-6 outline-none focus-visible:ring-0 focus-visible:ring-offset-0"></textarea></div> <div class="flex items-center justify-between gap-1"><!> <div><!></div></div></div></form> <!>',1);function c0(n,e){be(e,!0);let t=F(e,"disabled",3,!1),r=F(e,"isLoading",3,!1),i=F(e,"showHelperText",3,!0),s=F(e,"uploadedFiles",31,()=>Nn([])),o=F(e,"pasteLongTextToFileLength",3,2500),a=_e(""),l,c;async function u(L){if(L.preventDefault(),!w(a).trim()||t()||r())return;await e.onSend?.(w(a).trim(),s())&&(G(a,""),s([]),l&&(l.style.height="auto"))}async function d(L){if(L.key==="Enter"&&!L.shiftKey){if(L.preventDefault(),!w(a).trim()||t()||r())return;await e.onSend?.(w(a).trim(),s())&&(G(a,""),s([]),l&&(l.style.height="auto"))}}function h(){e.onStop?.()}function f(){c?.click()}function g(L){if(!L.clipboardData)return;const W=Array.from(L.clipboardData.items).filter(Q=>Q.kind==="file").map(Q=>Q.getAsFile()).filter(Q=>Q!==null);if(W.length>0){L.preventDefault(),e.onFileUpload?.(W);return}const H=L.clipboardData.getData("text/plain");if(H.length>0&&o()>0&&H.length>o()){L.preventDefault();const Q=new File([H],"Pasted",{type:"text/plain"});e.onFileUpload?.([Q])}}var m=Y2(),y=j(m);y.__change=[q2,e],fn(y,L=>c=L,()=>c);var v=Ne(y,2),A=he(v);l0(A,{get onFileRemove(){return e.onFileRemove},class:"mb-3 px-5 pt-5",get uploadedFiles(){return s()},set uploadedFiles(L){s(L)}});var E=Ne(A,2),S=he(E),C=he(S);ff(C),C.__keydown=d,C.__input=[W2],fn(C,L=>l=L,()=>l),ue(S);var x=Ne(S,2),N=he(x);{let L=q(()=>t()||r());Zn(N,{type:"button",variant:"ghost",class:"text-muted-foreground hover:text-foreground h-8 w-8 rounded-full p-0",get disabled(){return w(L)},onclick:f,children:(W,H)=>{lL(W,{class:"h-4 w-4"})},$$slots:{default:!0}})}var D=Ne(N,2),V=he(D);{var O=L=>{Zn(L,{type:"button",variant:"ghost",onclick:h,class:"text-muted-foreground hover:text-destructive h-8 w-8 rounded-full p-0",children:(W,H)=>{pL(W,{class:"h-8 w-8"})},$$slots:{default:!0}})},K=L=>{var W=K2(),H=j(W);{let X=q(()=>t()||r());Zn(H,{type:"button",variant:"ghost",class:"text-muted-foreground hover:text-foreground h-8 w-8 rounded-full p-0",get disabled(){return w(X)},children:(le,R)=>{Q_(le,{class:"h-8 w-8"})},$$slots:{default:!0}})}var Q=Ne(H,2);{let X=q(()=>!w(a).trim()||t()||r());Zn(Q,{type:"submit",get disabled(){return w(X)},class:"h-8 w-8 rounded-full p-0",children:(le,R)=>{YD(le,{class:"h-12 w-12"})},$$slots:{default:!0}})}I(L,W)};xe(V,L=>{r()?L(O):L(K,!1)})}ue(D),ue(x),ue(E),ue(v);var B=Ne(v,2);{var U=L=>{var W=$2();I(L,W)};xe(B,L=>{i()&&L(U)})}ft(()=>{Rn(v,1,`bg-muted/30 border-border/40 focus-within:border-primary/40 bg-background dark:bg-muted border-radius-bottom-none mx-auto max-w-4xl overflow-hidden rounded-3xl border ${e.class??""}`),C.disabled=t()}),pi("submit",v,u),pi("paste",E,g),_a(C,()=>w(a),L=>G(a,L)),I(n,m),ve()}to(["change","keydown","input"]);var X2=de("<div><!></div>");function u0(n,e){be(e,!0);let t=F(e,"ref",15,null),r=Re(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=X2();St(i,o=>({"data-slot":"card",class:o,...r}),[()=>zt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e.class)]);var s=he(i);Se(s,()=>e.children??Te),ue(i),fn(i,o=>t(o),()=>t()),I(n,i),ve()}async function Gg(n,e="Copied to clipboard",t="Failed to copy to clipboard"){try{return await navigator.clipboard.writeText(n),tw.success(e),!0}catch(r){return console.error("Failed to copy to clipboard:",r),tw.error(t),!1}}async function Z2(n,e="Code copied to clipboard",t="Failed to copy code"){const r=n.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'");return Gg(r,e,t)}const Q2=Object.freeze(Object.defineProperty({__proto__:null,copyCodeToClipboard:Z2,copyToClipboard:Gg},Symbol.toStringTag,{value:"Module"}));function J2(n,e,t){n.key==="Enter"&&!n.shiftKey?(n.preventDefault(),e()):n.key==="Escape"&&(n.preventDefault(),t())}var eF=de("<p>Copy</p>"),tF=de("<!> <!>",1),nF=de("<p>Edit</p>"),rF=de("<!> <!>",1),iF=de("<p>Regenerate</p>"),sF=de("<!> <!>",1),oF=de('<div class="pointer-events-none inset-0 flex items-center gap-1 opacity-0 transition-all duration-150 group-hover:pointer-events-auto group-hover:opacity-100"><!> <!></div> <div> </div>',1),aF=de("<!> Cancel",1),lF=de("<!> Send",1),cF=de('<div class="w-full max-w-[80%]"><textarea class="border-primary bg-foreground/3 dark:bg-muted text-foreground border-1 focus:ring-ring min-h-[60px] w-full resize-none rounded-2xl px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-offset-2" placeholder="Edit your message..."></textarea> <div class="mt-2 flex justify-end gap-2"><!> <!></div></div>'),uF=de('<div class="mb-2 max-w-[80%]"><!></div>'),dF=de('<div class="text-md whitespace-pre-wrap"> </div>'),hF=de('<!> <!> <div class="relative flex h-6 items-center"><!></div>',1),fF=de('<div role="group" aria-label="User message with actions"><!></div>'),pF=de('<div class="whitespace-pre-wrap text-sm"> </div>'),gF=de('<div class="relative mt-2 flex h-6 items-center"><!></div>'),mF=de('<div role="group" aria-label="Assistant message with actions"><!> <!> <!></div>');function bF(n,e){be(e,!0);const t=(A,E=Te)=>{var S=oF(),C=j(S),x=he(C);Fg(x,{children:(B,U)=>{var L=tF(),W=j(L);Dg(W,{children:(Q,X)=>{Zn(Q,{variant:"ghost",size:"sm",class:"h-6 w-6 p-0",onclick:c,children:(le,R)=>{JD(le,{class:"h-3 w-3"})},$$slots:{default:!0}})},$$slots:{default:!0}});var H=Ne(W,2);Lg(H,{children:(Q,X)=>{var le=eF();I(Q,le)},$$slots:{default:!0}}),I(B,L)},$$slots:{default:!0}});var N=Ne(x,2);{var D=B=>{Fg(B,{children:(U,L)=>{var W=rF(),H=j(W);Dg(H,{children:(X,le)=>{Zn(X,{variant:"ghost",size:"sm",class:"h-6 w-6 p-0",onclick:d,children:(R,Ae)=>{fL(R,{class:"h-3 w-3"})},$$slots:{default:!0}})},$$slots:{default:!0}});var Q=Ne(H,2);Lg(Q,{children:(X,le)=>{var R=nF();I(X,R)},$$slots:{default:!0}}),I(U,W)},$$slots:{default:!0}})},V=B=>{var U=te(),L=j(U);{var W=H=>{Fg(H,{children:(Q,X)=>{var le=sF(),R=j(le);Dg(R,{children:(ke,M)=>{Zn(ke,{variant:"ghost",size:"sm",class:"h-6 w-6 p-0",onclick:h,children:(fe,Oe)=>{uL(fe,{class:"h-3 w-3"})},$$slots:{default:!0}})},$$slots:{default:!0}});var Ae=Ne(R,2);Lg(Ae,{children:(ke,M)=>{var fe=iF();I(ke,fe)},$$slots:{default:!0}}),I(Q,le)},$$slots:{default:!0}})};xe(L,H=>{E()?.role==="assistant"&&H(W)},!0)}I(B,U)};xe(N,B=>{E()?.role==="user"?B(D):B(V,!1)})}ue(C);var O=Ne(C,2),K=he(O,!0);ue(O),ft(B=>{Rn(O,1,`${E()?.role==="user"?"right-0":"left-0"} text-muted-foreground absolute text-xs transition-all duration-150 group-hover:pointer-events-none group-hover:opacity-0`),Xt(K,B)},[()=>e.message.timestamp?new Date(e.message.timestamp).toLocaleTimeString():""]),I(A,S)};let r=F(e,"class",3,""),i=_e(!1),s=_e(Nn(e.message.content)),o=_e(void 0),a=q(()=>e.message.role==="assistant"?e.message.thinking?e.message.thinking:Ug(e.message.content).thinking:null),l=q(()=>e.message.role==="assistant"?Ug(e.message.content).cleanContent:e.message.content);async function c(){await Gg(e.message.content,"Message copied to clipboard"),e.onCopy?.(e.message)}function u(){G(i,!1),G(s,e.message.content,!0)}function d(){G(i,!0),G(s,e.message.content,!0),setTimeout(()=>{w(o)&&(w(o).focus(),w(o).setSelectionRange(w(o).value.length,w(o).value.length))},0),e.onEdit?.(e.message)}function h(){e.onRegenerate?.(e.message)}function f(){w(s).trim()&&w(s)!==e.message.content&&e.onUpdateMessage?.(e.message,w(s).trim()),G(i,!1)}var g=te(),m=j(g);{var y=A=>{var E=fF(),S=he(E);{var C=N=>{var D=cF(),V=he(D);ff(V),V.__keydown=[J2,f,u],fn(V,U=>G(o,U),()=>w(o));var O=Ne(V,2),K=he(O);Zn(K,{variant:"outline",size:"sm",class:"h-8 px-3",onclick:u,children:(U,L)=>{var W=aF(),H=j(W);qa(H,{class:"mr-1 h-3 w-3"}),jn(),I(U,W)},$$slots:{default:!0}});var B=Ne(K,2);{let U=q(()=>!w(s).trim()||w(s)===e.message.content);Zn(B,{size:"sm",class:"h-8 px-3",onclick:f,get disabled(){return w(U)},children:(L,W)=>{var H=lF(),Q=j(H);Z_(Q,{class:"mr-1 h-3 w-3"}),jn(),I(L,H)},$$slots:{default:!0}})}ue(O),ue(D),_a(V,()=>w(s),U=>G(s,U)),I(N,D)},x=N=>{var D=hF(),V=j(D);{var O=L=>{var W=uF(),H=he(W);l0(H,{get attachments(){return e.message.extra},readonly:!0,imageHeight:"h-80"}),ue(W),I(L,W)};xe(V,L=>{e.message.extra&&e.message.extra.length>0&&L(O)})}var K=Ne(V,2);u0(K,{class:"bg-primary text-primary-foreground max-w-[80%] rounded-2xl px-2.5 py-1.5",children:(L,W)=>{var H=dF(),Q=he(H,!0);ue(H),ft(()=>Xt(Q,e.message.content)),I(L,H)},$$slots:{default:!0}});var B=Ne(K,2),U=he(B);t(U,()=>({role:"user"})),ue(B),I(N,D)};xe(S,N=>{w(i)?N(C):N(x,!1)})}ue(E),ft(()=>Rn(E,1,`group flex flex-col items-end gap-2 ${r()??""}`)),I(A,E)},v=A=>{var E=mF(),S=he(E);{var C=K=>{{let B=q(()=>!e.message.timestamp);WF(K,{get thinking(){return w(a)},get isStreaming(){return w(B)}})}};xe(S,K=>{w(a)&&K(C)})}var x=Ne(S,2);{var N=K=>{KE(K,{get content(){return w(l)}})},D=K=>{var B=pF(),U=he(B,!0);ue(B),ft(()=>Xt(U,w(l))),I(K,B)};xe(x,K=>{e.message.role==="assistant"?K(N):K(D,!1)})}var V=Ne(x,2);{var O=K=>{var B=gF(),U=he(B);t(U,()=>({role:"assistant"})),ue(B),I(K,B)};xe(V,K=>{e.message.timestamp&&K(O)})}ue(E),ft(()=>Rn(E,1,`text-md leading-7.5 group w-full ${r()??""}`)),I(A,E)};xe(m,A=>{e.message.role==="user"?A(y):A(v,!1)})}I(n,g),ve()}to(["keydown"]);var vF=de('<div style="height: auto; "></div>');function yF(n,e){be(e,!0);let t=F(e,"messages",19,()=>[]);var r=vF();es(r,21,t,Al,(i,s)=>{bF(i,{class:"mx-auto w-full max-w-[56rem]",get message(){return w(s)},onUpdateMessage:async(o,a)=>{await WL(o.id,a)},onRegenerate:async o=>{await KL(o.id)}})}),ue(r),ft(()=>Rn(r,1,`flex h-full flex-col space-y-10 pt-16 md:pt-24 ${e.class??""}`)),I(n,r),ve()}var wF=de('<header class="pointer-events-none fixed left-0 right-0 top-0 z-50 flex w-full items-center justify-end p-4"><div class="pointer-events-auto flex items-center space-x-2"><!></div></header> <!>',1);function _F(n){let e=_e(!1);function t(){G(e,!0)}var r=wF(),i=j(r),s=he(i),o=he(s);Zn(o,{variant:"ghost",size:"sm",onclick:t,children:(l,c)=>{Bg(l,{class:"h-4 w-4"})},$$slots:{default:!0}}),ue(s),ue(i);var a=Ne(i,2);HF(a,{get open(){return w(e)},onOpenChange:l=>G(e,l,!0)}),I(n,r)}var xF=de('<div data-slot="checkbox-indicator" class="text-current transition-none"><!></div>');function EF(n,e){be(e,!0);let t=F(e,"ref",15,null),r=F(e,"checked",15,!1),i=F(e,"indeterminate",15,!1),s=Re(e,["$$slots","$$events","$$legacy","ref","checked","indeterminate","class"]);var o=te(),a=j(o);{const l=(u,d)=>{let h=()=>d?.().checked,f=()=>d?.().indeterminate;var g=xF(),m=he(g);{var y=A=>{Z_(A,{class:"size-3.5"})},v=A=>{var E=te(),S=j(E);{var C=x=>{aL(x,{class:"size-3.5"})};xe(S,x=>{f()&&x(C)},!0)}I(A,E)};xe(m,A=>{h()?A(y):A(v,!1)})}ue(g),I(u,g)};let c=q(()=>zt("border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive shadow-xs peer flex size-4 shrink-0 items-center justify-center rounded-[4px] border outline-none transition-shadow focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e.class));We(a,()=>hO,(u,d)=>{d(u,Ve({"data-slot":"checkbox",get class(){return w(c)}},()=>s,{get ref(){return t()},set ref(h){t(h)},get checked(){return r()},set checked(h){r(h)},get indeterminate(){return i()},set indeterminate(h){i(h)},children:l,$$slots:{default:!0}}))})}I(n,o),ve()}var AF=de("<!> <!>",1);function d0(n,e){be(e,!0);let t=F(e,"ref",15,null),r=F(e,"orientation",3,"vertical"),i=Re(e,["$$slots","$$events","$$legacy","ref","class","orientation","children"]);var s=te(),o=j(s);{let a=q(()=>zt("flex touch-none select-none p-px transition-colors",r()==="vertical"&&"h-full w-2.5 border-l border-l-transparent",r()==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e.class));We(o,()=>tD,(l,c)=>{c(l,Ve({"data-slot":"scroll-area-scrollbar",get orientation(){return r()},get class(){return w(a)}},()=>i,{get ref(){return t()},set ref(u){t(u)},children:(u,d)=>{var h=AF(),f=j(h);Se(f,()=>e.children??Te);var g=Ne(f,2);We(g,()=>iD,(m,y)=>{y(m,{"data-slot":"scroll-area-thumb",class:"bg-border relative flex-1 rounded-full"})}),I(u,h)},$$slots:{default:!0}}))})}I(n,s),ve()}var SF=de("<!> <!> <!> <!>",1);function kF(n,e){be(e,!0);let t=F(e,"ref",15,null),r=F(e,"orientation",3,"vertical"),i=F(e,"scrollbarXClasses",3,""),s=F(e,"scrollbarYClasses",3,""),o=Re(e,["$$slots","$$events","$$legacy","ref","class","orientation","scrollbarXClasses","scrollbarYClasses","children"]);var a=te(),l=j(a);{let c=q(()=>zt("relative",e.class));We(l,()=>WM,(u,d)=>{d(u,Ve({"data-slot":"scroll-area",get class(){return w(c)}},()=>o,{get ref(){return t()},set ref(h){t(h)},children:(h,f)=>{var g=SF(),m=j(g);We(m,()=>$M,(C,x)=>{x(C,{"data-slot":"scroll-area-viewport",class:"ring-ring/10 dark:ring-ring/20 dark:outline-ring/40 outline-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] focus-visible:outline-1 focus-visible:ring-4",children:(N,D)=>{var V=te(),O=j(V);Se(O,()=>e.children??Te),I(N,V)},$$slots:{default:!0}})});var y=Ne(m,2);{var v=C=>{d0(C,{orientation:"vertical",get class(){return s()}})};xe(y,C=>{(r()==="vertical"||r()==="both")&&C(v)})}var A=Ne(y,2);{var E=C=>{d0(C,{orientation:"horizontal",get class(){return i()}})};xe(A,C=>{(r()==="horizontal"||r()==="both")&&C(E)})}var S=Ne(A,2);We(S,()=>aD,(C,x)=>{x(C,{})}),I(h,g)},$$slots:{default:!0}}))})}I(n,a),ve()}var CF=de("<textarea></textarea>");function TF(n,e){be(e,!0);let t=F(e,"ref",15,null),r=F(e,"value",15),i=Re(e,["$$slots","$$events","$$legacy","ref","value","class"]);var s=CF();ff(s),St(s,o=>({"data-slot":"textarea",class:o,...i}),[()=>zt("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 field-sizing-content shadow-xs flex min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base outline-none transition-[color,box-shadow] focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e.class)]),fn(s,o=>t(o),()=>t()),_a(s,r),I(n,s),ve()}var NF=de("<!> Settings",1),IF=(n,e,t)=>G(e,w(t).title,!0),PF=de('<button><!> <span class="ml-2"> </span></button>'),RF=de('<p class="text-muted-foreground mt-1 text-xs"> </p>'),OF=de('<label class="block text-sm font-medium"> </label> <!> <!>',1),MF=de('<p class="text-muted-foreground mt-1 text-xs"> </p>'),DF=de('<label class="block text-sm font-medium"> </label> <!> <!>',1),LF=de('<p class="text-muted-foreground text-xs"> </p>'),FF=de('<div class="flex items-start space-x-3"><!> <div class="space-y-1"><label class="cursor-pointer text-sm font-medium leading-none"> </label> <!></div></div>'),BF=de('<div class="space-y-2"><!></div>'),zF=de(`<div class="space-y-6"><div class="flex items-center gap-2 border-b pb-2"><!> <h3 class="text-lg font-semibold"> </h3></div> <div class="space-y-6"></div> <div class="mt-8 border-t pt-6"><p class="text-muted-foreground text-xs">Settings are saved in browser's localStorage</p></div></div>`),UF=de('<!> <div class="flex flex-1 overflow-hidden"><div class="bg-muted/30 w-64 border-r p-4"><nav class="space-y-1"></nav></div> <div class="flex flex-1 flex-col"><!></div></div> <div class="flex justify-between border-t p-6"><!> <div class="flex gap-2"><!> <!></div></div>',1);function HF(n,e){be(e,!0);let t=F(e,"open",3,!1),r=Nn({apiKey:"",systemMessage:"",temperature:.8,top_k:40,top_p:.95,min_p:.05,max_tokens:2048,pasteLongTextToFileLen:2e3,pdfAsImage:!1,samplers:"top_k;tfs_z;typical_p;top_p;min_p;temperature",dynatemp_range:0,dynatemp_exponent:1,typical_p:1,xtc_probability:0,xtc_threshold:.1,repeat_last_n:64,repeat_penalty:1,presence_penalty:0,frequency_penalty:0,dry_multiplier:0,dry_base:1.75,dry_allowed_length:2,dry_penalty_last_n:-1,showThoughtInProgress:!0,excludeThoughtOnReq:!1,showTokensPerSecond:!1,custom:"",pyInterpreterEnabled:!1});const i=rv(r);function s(){console.log("Saving config:",r),e.onOpenChange?.(!1)}function o(){Object.assign(r,i)}function a(){e.onOpenChange?.(!1)}let l=_e("General");const c=[{title:"General",icon:Bg,fields:[{key:"apiKey",label:"API Key",type:"input"},{key:"systemMessage",label:"System Message (will be disabled if left empty)",type:"textarea"},{key:"temperature",label:"Temperature",type:"input"},{key:"top_k",label:"Top K",type:"input"},{key:"top_p",label:"Top P",type:"input"},{key:"min_p",label:"Min P",type:"input"},{key:"max_tokens",label:"Max Tokens",type:"input"},{key:"pasteLongTextToFileLen",label:"Paste length to file",type:"input"},{key:"pdfAsImage",label:"Parse PDF as image instead of text",type:"checkbox"}]},{title:"Samplers",icon:rL,fields:[{key:"samplers",label:"Samplers queue",type:"input"},{key:"dynatemp_range",label:"Dynamic Temperature Range",type:"input"},{key:"dynatemp_exponent",label:"Dynamic Temperature Exponent",type:"input"},{key:"typical_p",label:"Typical P",type:"input"},{key:"xtc_probability",label:"XTC Probability",type:"input"},{key:"xtc_threshold",label:"XTC Threshold",type:"input"}]},{title:"Penalties",icon:iL,fields:[{key:"repeat_last_n",label:"Repeat Last N",type:"input"},{key:"repeat_penalty",label:"Repeat Penalty",type:"input"},{key:"presence_penalty",label:"Presence Penalty",type:"input"},{key:"frequency_penalty",label:"Frequency Penalty",type:"input"},{key:"dry_multiplier",label:"DRY Multiplier",type:"input"},{key:"dry_base",label:"DRY Base",type:"input"},{key:"dry_allowed_length",label:"DRY Allowed Length",type:"input"},{key:"dry_penalty_last_n",label:"DRY Penalty Last N",type:"input"}]},{title:"Reasoning",icon:oL,fields:[{key:"showThoughtInProgress",label:"Expand thought process by default when generating messages",type:"checkbox"},{key:"excludeThoughtOnReq",label:"Exclude thought process when sending requests to API (Recommended for DeepSeek-R1)",type:"checkbox"}]},{title:"Advanced",icon:e0,fields:[{key:"showTokensPerSecond",label:"Show tokens per second",type:"checkbox"},{key:"custom",label:"Custom parameters (JSON format)",type:"textarea"}]},{title:"Experimental",icon:XD,fields:[{key:"pyInterpreterEnabled",label:"Enable Python interpreter",type:"checkbox",help:'This feature uses Pyodide to run Python code inside a Markdown code block. You will see a "Run" button on the code block, near the "Copy" button.'}]}],u=q(()=>c.find(f=>f.title===w(l))||c[0]);var d=te(),h=j(d);We(h,()=>a0,(f,g)=>{g(f,{get open(){return t()},get onOpenChange(){return e.onOpenChange},children:(m,y)=>{var v=te(),A=j(v);We(A,()=>o0,(E,S)=>{S(E,{class:"flex h-[64vh] flex-col",style:"max-width: 48rem;",children:(C,x)=>{var N=UF(),D=j(N);We(D,()=>s0,(le,R)=>{R(le,{children:(Ae,ke)=>{var M=te(),fe=j(M);We(fe,()=>i0,(Oe,Le)=>{Le(Oe,{class:"flex items-center gap-2",children:(Pe,$e)=>{var Fe=NF(),nn=j(Fe);Bg(nn,{class:"h-5 w-5"}),jn(),I(Pe,Fe)},$$slots:{default:!0}})}),I(Ae,M)},$$slots:{default:!0}})});var V=Ne(D,2),O=he(V),K=he(O);es(K,21,()=>c,Al,(le,R)=>{var Ae=PF();Ae.__click=[IF,l,R];var ke=he(Ae);We(ke,()=>w(R).icon,(Oe,Le)=>{Le(Oe,{class:"h-4 w-4"})});var M=Ne(ke,2),fe=he(M,!0);ue(M),ue(Ae),ft(()=>{Rn(Ae,1,`hover:bg-accent flex w-full cursor-pointer items-center gap-3 rounded-lg px-3 py-2 text-left text-sm transition-colors ${w(l)===w(R).title?"bg-accent text-accent-foreground":"text-muted-foreground"}`),Xt(fe,w(R).title)}),I(le,Ae)}),ue(K),ue(O);var B=Ne(O,2),U=he(B);kF(U,{class:"flex-1 p-6",children:(le,R)=>{var Ae=zF(),ke=he(Ae),M=he(ke);We(M,()=>w(u).icon,(Pe,$e)=>{$e(Pe,{class:"h-5 w-5"})});var fe=Ne(M,2),Oe=he(fe,!0);ue(fe),ue(ke);var Le=Ne(ke,2);es(Le,21,()=>w(u).fields,Al,(Pe,$e)=>{var Fe=BF(),nn=he(Fe);{var wt=Vt=>{var rn=OF(),it=j(rn),Ut=he(it,!0);ue(it);var ar=Ne(it,2);{let Mn=q(()=>String(r[w($e).key]||"")),An=q(()=>`Default: ${i[w($e).key]||"none"}`);xw(ar,{get id(){return w($e).key},get value(){return w(Mn)},onchange:pt=>r[w($e).key]=pt.currentTarget.value,get placeholder(){return w(An)},class:"max-w-md"})}var Un=Ne(ar,2);{var lr=Mn=>{var An=RF(),pt=he(An,!0);ue(An),ft(()=>Xt(pt,w($e).help)),I(Mn,An)};xe(Un,Mn=>{w($e).help&&Mn(lr)})}ft(()=>{Ct(it,"for",w($e).key),Xt(Ut,w($e).label)}),I(Vt,rn)},ut=Vt=>{var rn=te(),it=j(rn);{var Ut=Un=>{var lr=DF(),Mn=j(lr),An=he(Mn,!0);ue(Mn);var pt=Ne(Mn,2);{let Pt=q(()=>String(r[w($e).key]||"")),ce=q(()=>`Default: ${i[w($e).key]||"none"}`);TF(pt,{get id(){return w($e).key},get value(){return w(Pt)},onchange:Ee=>r[w($e).key]=Ee.currentTarget.value,get placeholder(){return w(ce)},class:"min-h-[100px] max-w-2xl"})}var At=Ne(pt,2);{var Nt=Pt=>{var ce=MF(),Ee=he(ce,!0);ue(ce),ft(()=>Xt(Ee,w($e).help)),I(Pt,ce)};xe(At,Pt=>{w($e).help&&Pt(Nt)})}ft(()=>{Ct(Mn,"for",w($e).key),Xt(An,w($e).label)}),I(Un,lr)},ar=Un=>{var lr=te(),Mn=j(lr);{var An=pt=>{var At=FF(),Nt=he(At);{let Mt=q(()=>!!r[w($e).key]);EF(Nt,{get id(){return w($e).key},get checked(){return w(Mt)},onCheckedChange:Sn=>r[w($e).key]=Sn,class:"mt-1"})}var Pt=Ne(Nt,2),ce=he(Pt),Ee=he(ce,!0);ue(ce);var Je=Ne(ce,2);{var _t=Mt=>{var Sn=LF(),pn=he(Sn,!0);ue(Sn),ft(()=>Xt(pn,w($e).help)),I(Mt,Sn)};xe(Je,Mt=>{w($e).help&&Mt(_t)})}ue(Pt),ue(At),ft(()=>{Ct(ce,"for",w($e).key),Xt(Ee,w($e).label)}),I(pt,At)};xe(Mn,pt=>{w($e).type==="checkbox"&&pt(An)},!0)}I(Un,lr)};xe(it,Un=>{w($e).type==="textarea"?Un(Ut):Un(ar,!1)},!0)}I(Vt,rn)};xe(nn,Vt=>{w($e).type==="input"?Vt(wt):Vt(ut,!1)})}ue(Fe),I(Pe,Fe)}),ue(Le),jn(2),ue(Ae),ft(()=>Xt(Oe,w(u).title)),I(le,Ae)},$$slots:{default:!0}}),ue(B),ue(V);var L=Ne(V,2),W=he(L);Zn(W,{variant:"outline",onclick:o,children:(le,R)=>{jn();var Ae=Vr("Reset to default");I(le,Ae)},$$slots:{default:!0}});var H=Ne(W,2),Q=he(H);Zn(Q,{variant:"outline",onclick:a,children:(le,R)=>{jn();var Ae=Vr("Close");I(le,Ae)},$$slots:{default:!0}});var X=Ne(Q,2);Zn(X,{variant:"default",onclick:s,children:(le,R)=>{jn();var Ae=Vr("Save");I(le,Ae)},$$slots:{default:!0}}),ue(H),ue(L),I(C,N)},$$slots:{default:!0}})}),I(m,v)},$$slots:{default:!0}})}),I(n,d),ve()}to(["click"]);function h0(n){const e=n-1;return e*e*e+1}function f0(n){const e=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[n,"px"]}function GF(n,{delay:e=0,duration:t=400,easing:r=h0,x:i=0,y:s=0,opacity:o=0}={}){const a=getComputedStyle(n),l=+a.opacity,c=a.transform==="none"?"":a.transform,u=l*(1-o),[d,h]=f0(i),[f,g]=f0(s);return{delay:e,duration:t,easing:r,css:(m,y)=>`
			transform: ${c} translate(${(1-m)*d}${h}, ${(1-m)*f}${g});
			opacity: ${l-u*y}`}}function Nd(n,{delay:e=0,duration:t=400,easing:r=h0,axis:i="y"}={}){const s=getComputedStyle(n),o=+s.opacity,a=i==="y"?"height":"width",l=parseFloat(s[a]),c=i==="y"?["top","bottom"]:["left","right"],u=c.map(v=>`${v[0].toUpperCase()}${v.slice(1)}`),d=parseFloat(s[`padding${u[0]}`]),h=parseFloat(s[`padding${u[1]}`]),f=parseFloat(s[`margin${u[0]}`]),g=parseFloat(s[`margin${u[1]}`]),m=parseFloat(s[`border${u[0]}Width`]),y=parseFloat(s[`border${u[1]}Width`]);return{delay:e,duration:t,easing:r,css:v=>`overflow: hidden;opacity: ${Math.min(v*20,1)*o};${a}: ${v*l}px;padding-${c[0]}: ${v*d}px;padding-${c[1]}: ${v*h}px;margin-${c[0]}: ${v*f}px;margin-${c[1]}: ${v*g}px;border-${c[0]}-width: ${v*m}px;border-${c[1]}-width: ${v*y}px;min-${a}: 0`}}var VF=de('<div class="text-muted-foreground flex items-center gap-2"><!> <span class="text-sm"> </span></div> <!>',1),jF=de('<div class="border-muted border-t px-3 pb-3"><div class="pt-3"><!></div></div>'),qF=de("<!> <!>",1);function WF(n,e){let t=F(e,"isStreaming",3,!1),r=F(e,"class",3,""),i=_e(!1);u0(n,{get class(){return`border-muted bg-muted/30 mb-6 gap-0 py-0 ${r()??""}`},children:(s,o)=>{var a=qF(),l=j(a);Zn(l,{variant:"ghost",class:"h-auto w-full justify-between p-3 font-normal",onclick:()=>G(i,!w(i)),children:(d,h)=>{var f=VF(),g=j(f),m=he(g);ZD(m,{class:"h-4 w-4"});var y=Ne(m,2),v=he(y,!0);ue(y),ue(g);var A=Ne(g,2);{let E=q(()=>w(i)?"rotate-180":"");QD(A,{get class(){return`text-muted-foreground h-4 w-4 transition-transform duration-200 ${w(E)??""}`}})}ft(()=>Xt(v,t()?"Thinking...":"Thinking summary")),I(d,f)},$$slots:{default:!0}});var c=Ne(l,2);{var u=d=>{var h=jF(),f=he(h),g=he(f);{let m=q(()=>e.thinking||"");KE(g,{get content(){return w(m)},class:"text-xs leading-relaxed"})}ue(f),ue(h),Cl(3,h,()=>Nd,()=>({duration:200})),I(d,h)};xe(c,d=>{w(i)&&d(u)})}I(s,a)},$$slots:{default:!0}})}const KF={};function Vg(n,e){const t=KF,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,i=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return p0(n,r,i)}function p0(n,e,t){if($F(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return g0(n.children,e,t)}return Array.isArray(n)?g0(n,e,t):""}function g0(n,e,t){const r=[];let i=-1;for(;++i<n.length;)r[i]=p0(n[i],e,t);return r.join("")}function $F(n){return!!(n&&typeof n=="object")}const m0=document.createElement("i");function jg(n){const e="&"+n+";";m0.innerHTML=e;const t=m0.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}function bi(n,e,t,r){const i=n.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,t=t>0?t:0,r.length<1e4)o=Array.from(r),o.unshift(e,t),n.splice(...o);else for(t&&n.splice(e,t);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),n.splice(...o),s+=1e4,e+=1e4}function Di(n,e){return n.length>0?(bi(n,n.length,0,e),n):e}const b0={}.hasOwnProperty;function v0(n){const e={};let t=-1;for(;++t<n.length;)YF(e,n[t]);return e}function YF(n,e){let t;for(t in e){const i=(b0.call(n,t)?n[t]:void 0)||(n[t]={}),s=e[t];let o;if(s)for(o in s){b0.call(i,o)||(i[o]=[]);const a=s[o];XF(i[o],Array.isArray(a)?a:a?[a]:[])}}}function XF(n,e){let t=-1;const r=[];for(;++t<e.length;)(e[t].add==="after"?n:r).push(e[t]);bi(n,0,0,r)}function y0(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCodePoint(t)}function Ki(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const qr=uo(/[A-Za-z]/),Ir=uo(/[\dA-Za-z]/),ZF=uo(/[#-'*+\--9=?A-Z^-~]/);function Id(n){return n!==null&&(n<32||n===127)}const qg=uo(/\d/),QF=uo(/[\dA-Fa-f]/),JF=uo(/[!-/:-@[-`{-~]/);function xt(n){return n!==null&&n<-2}function Pn(n){return n!==null&&(n<0||n===32)}function tn(n){return n===-2||n===-1||n===32}const Pd=uo(new RegExp("\\p{P}|\\p{S}","u")),jo=uo(/\s/);function uo(n){return e;function e(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function Ka(n){const e=[];let t=-1,r=0,i=0;for(;++t<n.length;){const s=n.charCodeAt(t);let o="";if(s===37&&Ir(n.charCodeAt(t+1))&&Ir(n.charCodeAt(t+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=n.charCodeAt(t+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(n.slice(r,t),encodeURIComponent(o)),r=t+i+1,o=""),i&&(t+=i,i=0)}return e.join("")+n.slice(r)}function un(n,e,t,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return tn(l)?(n.enter(t),a(l)):e(l)}function a(l){return tn(l)&&s++<i?(n.consume(l),a):(n.exit(t),e(l))}}const eB={tokenize:tB};function tB(n){const e=n.attempt(this.parser.constructs.contentInitial,r,i);let t;return e;function r(a){if(a===null){n.consume(a);return}return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),un(n,e,"linePrefix")}function i(a){return n.enter("paragraph"),s(a)}function s(a){const l=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=l),t=l,o(a)}function o(a){if(a===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(a);return}return xt(a)?(n.consume(a),n.exit("chunkText"),s):(n.consume(a),o)}}const nB={tokenize:rB},w0={tokenize:iB};function rB(n){const e=this,t=[];let r=0,i,s,o;return a;function a(E){if(r<t.length){const S=t[r];return e.containerState=S[1],n.attempt(S[0].continuation,l,c)(E)}return c(E)}function l(E){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&A();const S=e.events.length;let C=S,x;for(;C--;)if(e.events[C][0]==="exit"&&e.events[C][1].type==="chunkFlow"){x=e.events[C][1].end;break}v(r);let N=S;for(;N<e.events.length;)e.events[N][1].end={...x},N++;return bi(e.events,C+1,0,e.events.slice(S)),e.events.length=N,c(E)}return a(E)}function c(E){if(r===t.length){if(!i)return h(E);if(i.currentConstruct&&i.currentConstruct.concrete)return g(E);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(w0,u,d)(E)}function u(E){return i&&A(),v(r),h(E)}function d(E){return e.parser.lazy[e.now().line]=r!==t.length,o=e.now().offset,g(E)}function h(E){return e.containerState={},n.attempt(w0,f,g)(E)}function f(E){return r++,t.push([e.currentConstruct,e.containerState]),h(E)}function g(E){if(E===null){i&&A(),v(0),n.consume(E);return}return i=i||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),m(E)}function m(E){if(E===null){y(n.exit("chunkFlow"),!0),v(0),n.consume(E);return}return xt(E)?(n.consume(E),y(n.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(n.consume(E),m)}function y(E,S){const C=e.sliceStream(E);if(S&&C.push(null),E.previous=s,s&&(s.next=E),s=E,i.defineSkip(E.start),i.write(C),e.parser.lazy[E.start.line]){let x=i.events.length;for(;x--;)if(i.events[x][1].start.offset<o&&(!i.events[x][1].end||i.events[x][1].end.offset>o))return;const N=e.events.length;let D=N,V,O;for(;D--;)if(e.events[D][0]==="exit"&&e.events[D][1].type==="chunkFlow"){if(V){O=e.events[D][1].end;break}V=!0}for(v(r),x=N;x<e.events.length;)e.events[x][1].end={...O},x++;bi(e.events,D+1,0,e.events.slice(N)),e.events.length=x}}function v(E){let S=t.length;for(;S-- >E;){const C=t[S];e.containerState=C[1],C[0].exit.call(e,n)}t.length=E}function A(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function iB(n,e,t){return un(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function $a(n){if(n===null||Pn(n)||jo(n))return 1;if(Pd(n))return 2}function Rd(n,e,t){const r=[];let i=-1;for(;++i<n.length;){const s=n[i].resolveAll;s&&!r.includes(s)&&(e=s(e,t),r.push(s))}return e}const Wg={name:"attention",resolveAll:sB,tokenize:oB};function sB(n,e){let t=-1,r,i,s,o,a,l,c,u;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(r=t;r--;)if(n[r][0]==="exit"&&n[r][1].type==="attentionSequence"&&n[r][1]._open&&e.sliceSerialize(n[r][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[r][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[r][1].end.offset-n[r][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;l=n[r][1].end.offset-n[r][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const d={...n[r][1].end},h={...n[t][1].start};_0(d,-l),_0(h,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...n[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...n[t][1].start},end:h},s={type:l>1?"strongText":"emphasisText",start:{...n[r][1].end},end:{...n[t][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},n[r][1].end={...o.start},n[t][1].start={...a.end},c=[],n[r][1].end.offset-n[r][1].start.offset&&(c=Di(c,[["enter",n[r][1],e],["exit",n[r][1],e]])),c=Di(c,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),c=Di(c,Rd(e.parser.constructs.insideSpan.null,n.slice(r+1,t),e)),c=Di(c,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),n[t][1].end.offset-n[t][1].start.offset?(u=2,c=Di(c,[["enter",n[t][1],e],["exit",n[t][1],e]])):u=0,bi(n,r-1,t-r+3,c),t=r+c.length-u-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function oB(n,e){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,i=$a(r);let s;return o;function o(l){return s=l,n.enter("attentionSequence"),a(l)}function a(l){if(l===s)return n.consume(l),a;const c=n.exit("attentionSequence"),u=$a(l),d=!u||u===2&&i||t.includes(l),h=!i||i===2&&u||t.includes(r);return c._open=!!(s===42?d:d&&(i||!h)),c._close=!!(s===42?h:h&&(u||!d)),e(l)}}function _0(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const aB={name:"autolink",tokenize:lB};function lB(n,e,t){let r=0;return i;function i(f){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(f),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),s}function s(f){return qr(f)?(n.consume(f),o):f===64?t(f):c(f)}function o(f){return f===43||f===45||f===46||Ir(f)?(r=1,a(f)):c(f)}function a(f){return f===58?(n.consume(f),r=0,l):(f===43||f===45||f===46||Ir(f))&&r++<32?(n.consume(f),a):(r=0,c(f))}function l(f){return f===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(f),n.exit("autolinkMarker"),n.exit("autolink"),e):f===null||f===32||f===60||Id(f)?t(f):(n.consume(f),l)}function c(f){return f===64?(n.consume(f),u):ZF(f)?(n.consume(f),c):t(f)}function u(f){return Ir(f)?d(f):t(f)}function d(f){return f===46?(n.consume(f),r=0,u):f===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(f),n.exit("autolinkMarker"),n.exit("autolink"),e):h(f)}function h(f){if((f===45||Ir(f))&&r++<63){const g=f===45?h:d;return n.consume(f),g}return t(f)}}const ic={partial:!0,tokenize:cB};function cB(n,e,t){return r;function r(s){return tn(s)?un(n,i,"linePrefix")(s):i(s)}function i(s){return s===null||xt(s)?e(s):t(s)}}const x0={continuation:{tokenize:dB},exit:hB,name:"blockQuote",tokenize:uB};function uB(n,e,t){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(n.enter("blockQuote",{_container:!0}),a.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(o),n.exit("blockQuoteMarker"),s}return t(o)}function s(o){return tn(o)?(n.enter("blockQuotePrefixWhitespace"),n.consume(o),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(o))}}function dB(n,e,t){const r=this;return i;function i(o){return tn(o)?un(n,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return n.attempt(x0,e,t)(o)}}function hB(n){n.exit("blockQuote")}const E0={name:"characterEscape",tokenize:fB};function fB(n,e,t){return r;function r(s){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(s),n.exit("escapeMarker"),i}function i(s){return JF(s)?(n.enter("characterEscapeValue"),n.consume(s),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(s)}}const A0={name:"characterReference",tokenize:pB};function pB(n,e,t){const r=this;let i=0,s,o;return a;function a(d){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(d),n.exit("characterReferenceMarker"),l}function l(d){return d===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(d),n.exit("characterReferenceMarkerNumeric"),c):(n.enter("characterReferenceValue"),s=31,o=Ir,u(d))}function c(d){return d===88||d===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(d),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),s=6,o=QF,u):(n.enter("characterReferenceValue"),s=7,o=qg,u(d))}function u(d){if(d===59&&i){const h=n.exit("characterReferenceValue");return o===Ir&&!jg(r.sliceSerialize(h))?t(d):(n.enter("characterReferenceMarker"),n.consume(d),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return o(d)&&i++<s?(n.consume(d),u):t(d)}}const S0={partial:!0,tokenize:mB},k0={concrete:!0,name:"codeFenced",tokenize:gB};function gB(n,e,t){const r=this,i={partial:!0,tokenize:C};let s=0,o=0,a;return l;function l(x){return c(x)}function c(x){const N=r.events[r.events.length-1];return s=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,a=x,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),u(x)}function u(x){return x===a?(o++,n.consume(x),u):o<3?t(x):(n.exit("codeFencedFenceSequence"),tn(x)?un(n,d,"whitespace")(x):d(x))}function d(x){return x===null||xt(x)?(n.exit("codeFencedFence"),r.interrupt?e(x):n.check(S0,m,S)(x)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),h(x))}function h(x){return x===null||xt(x)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),d(x)):tn(x)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),un(n,f,"whitespace")(x)):x===96&&x===a?t(x):(n.consume(x),h)}function f(x){return x===null||xt(x)?d(x):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===null||xt(x)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),d(x)):x===96&&x===a?t(x):(n.consume(x),g)}function m(x){return n.attempt(i,S,y)(x)}function y(x){return n.enter("lineEnding"),n.consume(x),n.exit("lineEnding"),v}function v(x){return s>0&&tn(x)?un(n,A,"linePrefix",s+1)(x):A(x)}function A(x){return x===null||xt(x)?n.check(S0,m,S)(x):(n.enter("codeFlowValue"),E(x))}function E(x){return x===null||xt(x)?(n.exit("codeFlowValue"),A(x)):(n.consume(x),E)}function S(x){return n.exit("codeFenced"),e(x)}function C(x,N,D){let V=0;return O;function O(W){return x.enter("lineEnding"),x.consume(W),x.exit("lineEnding"),K}function K(W){return x.enter("codeFencedFence"),tn(W)?un(x,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(W):B(W)}function B(W){return W===a?(x.enter("codeFencedFenceSequence"),U(W)):D(W)}function U(W){return W===a?(V++,x.consume(W),U):V>=o?(x.exit("codeFencedFenceSequence"),tn(W)?un(x,L,"whitespace")(W):L(W)):D(W)}function L(W){return W===null||xt(W)?(x.exit("codeFencedFence"),N(W)):D(W)}}}function mB(n,e,t){const r=this;return i;function i(o){return o===null?t(o):(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?t(o):e(o)}}const Kg={name:"codeIndented",tokenize:vB},bB={partial:!0,tokenize:yB};function vB(n,e,t){const r=this;return i;function i(c){return n.enter("codeIndented"),un(n,s,"linePrefix",5)(c)}function s(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?o(c):t(c)}function o(c){return c===null?l(c):xt(c)?n.attempt(bB,o,l)(c):(n.enter("codeFlowValue"),a(c))}function a(c){return c===null||xt(c)?(n.exit("codeFlowValue"),o(c)):(n.consume(c),a)}function l(c){return n.exit("codeIndented"),e(c)}}function yB(n,e,t){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?t(o):xt(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),i):un(n,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):xt(o)?i(o):t(o)}}const wB={name:"codeText",previous:xB,resolve:_B,tokenize:EB};function _B(n){let e=n.length-4,t=3,r,i;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(r=t;++r<e;)if(n[r][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(r=t-1,e++;++r<=e;)i===void 0?r!==e&&n[r][1].type!=="lineEnding"&&(i=r):(r===e||n[r][1].type==="lineEnding")&&(n[i][1].type="codeTextData",r!==i+2&&(n[i][1].end=n[r-1][1].end,n.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return n}function xB(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function EB(n,e,t){let r=0,i,s;return o;function o(d){return n.enter("codeText"),n.enter("codeTextSequence"),a(d)}function a(d){return d===96?(n.consume(d),r++,a):(n.exit("codeTextSequence"),l(d))}function l(d){return d===null?t(d):d===32?(n.enter("space"),n.consume(d),n.exit("space"),l):d===96?(s=n.enter("codeTextSequence"),i=0,u(d)):xt(d)?(n.enter("lineEnding"),n.consume(d),n.exit("lineEnding"),l):(n.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||xt(d)?(n.exit("codeTextData"),l(d)):(n.consume(d),c)}function u(d){return d===96?(n.consume(d),i++,u):i===r?(n.exit("codeTextSequence"),n.exit("codeText"),e(d)):(s.type="codeTextData",c(d))}}class AB{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const r=t??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,t,r){const i=t||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&sc(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),sc(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),sc(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);sc(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);sc(this.left,t.reverse())}}}function sc(n,e){let t=0;if(e.length<1e4)n.push(...e);else for(;t<e.length;)n.push(...e.slice(t,t+1e4)),t+=1e4}function C0(n){const e={};let t=-1,r,i,s,o,a,l,c;const u=new AB(n);for(;++t<u.length;){for(;t in e;)t=e[t];if(r=u.get(t),t&&r[1].type==="chunkFlow"&&u.get(t-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,SB(u,t)),t=e[t],c=!0);else if(r[1]._container){for(s=t,i=void 0;s--;)if(o=u.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...u.get(i)[1].start},a=u.slice(i,t),a.unshift(r),u.splice(i,t-i+1,a))}}return bi(n,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function SB(n,e){const t=n.get(e)[1],r=n.get(e)[2];let i=e-1;const s=[];let o=t._tokenizer;o||(o=r.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],c={};let u,d,h=-1,f=t,g=0,m=0;const y=[m];for(;f;){for(;n.get(++i)[1]!==f;);s.push(i),f._tokenizer||(u=r.sliceStream(f),f.next||u.push(null),d&&o.defineSkip(f.start),f._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),f._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=f,f=f.next}for(f=t;++h<a.length;)a[h][0]==="exit"&&a[h-1][0]==="enter"&&a[h][1].type===a[h-1][1].type&&a[h][1].start.line!==a[h][1].end.line&&(m=h+1,y.push(m),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(o.events=[],f?(f._tokenizer=void 0,f.previous=void 0):y.pop(),h=y.length;h--;){const v=a.slice(y[h],y[h+1]),A=s.pop();l.push([A,A+v.length-1]),n.splice(A,2,v)}for(l.reverse(),h=-1;++h<l.length;)c[g+l[h][0]]=g+l[h][1],g+=l[h][1]-l[h][0]-1;return c}const kB={resolve:TB,tokenize:NB},CB={partial:!0,tokenize:IB};function TB(n){return C0(n),n}function NB(n,e){let t;return r;function r(a){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):xt(a)?n.check(CB,o,s)(a):(n.consume(a),i)}function s(a){return n.exit("chunkContent"),n.exit("content"),e(a)}function o(a){return n.consume(a),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function IB(n,e,t){const r=this;return i;function i(o){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),un(n,s,"linePrefix")}function s(o){if(o===null||xt(o))return t(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):n.interrupt(r.parser.constructs.flow,t,e)(o)}}function T0(n,e,t,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return d;function d(v){return v===60?(n.enter(r),n.enter(i),n.enter(s),n.consume(v),n.exit(s),h):v===null||v===32||v===41||Id(v)?t(v):(n.enter(r),n.enter(o),n.enter(a),n.enter("chunkString",{contentType:"string"}),m(v))}function h(v){return v===62?(n.enter(s),n.consume(v),n.exit(s),n.exit(i),n.exit(r),e):(n.enter(a),n.enter("chunkString",{contentType:"string"}),f(v))}function f(v){return v===62?(n.exit("chunkString"),n.exit(a),h(v)):v===null||v===60||xt(v)?t(v):(n.consume(v),v===92?g:f)}function g(v){return v===60||v===62||v===92?(n.consume(v),f):f(v)}function m(v){return!u&&(v===null||v===41||Pn(v))?(n.exit("chunkString"),n.exit(a),n.exit(o),n.exit(r),e(v)):u<c&&v===40?(n.consume(v),u++,m):v===41?(n.consume(v),u--,m):v===null||v===32||v===40||Id(v)?t(v):(n.consume(v),v===92?y:m)}function y(v){return v===40||v===41||v===92?(n.consume(v),m):m(v)}}function N0(n,e,t,r,i,s){const o=this;let a=0,l;return c;function c(f){return n.enter(r),n.enter(i),n.consume(f),n.exit(i),n.enter(s),u}function u(f){return a>999||f===null||f===91||f===93&&!l||f===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?t(f):f===93?(n.exit(s),n.enter(i),n.consume(f),n.exit(i),n.exit(r),e):xt(f)?(n.enter("lineEnding"),n.consume(f),n.exit("lineEnding"),u):(n.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===null||f===91||f===93||xt(f)||a++>999?(n.exit("chunkString"),u(f)):(n.consume(f),l||(l=!tn(f)),f===92?h:d)}function h(f){return f===91||f===92||f===93?(n.consume(f),a++,d):d(f)}}function I0(n,e,t,r,i,s){let o;return a;function a(h){return h===34||h===39||h===40?(n.enter(r),n.enter(i),n.consume(h),n.exit(i),o=h===40?41:h,l):t(h)}function l(h){return h===o?(n.enter(i),n.consume(h),n.exit(i),n.exit(r),e):(n.enter(s),c(h))}function c(h){return h===o?(n.exit(s),l(o)):h===null?t(h):xt(h)?(n.enter("lineEnding"),n.consume(h),n.exit("lineEnding"),un(n,c,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),u(h))}function u(h){return h===o||h===null||xt(h)?(n.exit("chunkString"),c(h)):(n.consume(h),h===92?d:u)}function d(h){return h===o||h===92?(n.consume(h),u):u(h)}}function oc(n,e){let t;return r;function r(i){return xt(i)?(n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),t=!0,r):tn(i)?un(n,r,t?"linePrefix":"lineSuffix")(i):e(i)}}const PB={name:"definition",tokenize:OB},RB={partial:!0,tokenize:MB};function OB(n,e,t){const r=this;let i;return s;function s(f){return n.enter("definition"),o(f)}function o(f){return N0.call(r,n,a,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function a(f){return i=Ki(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===58?(n.enter("definitionMarker"),n.consume(f),n.exit("definitionMarker"),l):t(f)}function l(f){return Pn(f)?oc(n,c)(f):c(f)}function c(f){return T0(n,u,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function u(f){return n.attempt(RB,d,d)(f)}function d(f){return tn(f)?un(n,h,"whitespace")(f):h(f)}function h(f){return f===null||xt(f)?(n.exit("definition"),r.parser.defined.push(i),e(f)):t(f)}}function MB(n,e,t){return r;function r(a){return Pn(a)?oc(n,i)(a):t(a)}function i(a){return I0(n,s,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return tn(a)?un(n,o,"whitespace")(a):o(a)}function o(a){return a===null||xt(a)?e(a):t(a)}}const DB={name:"hardBreakEscape",tokenize:LB};function LB(n,e,t){return r;function r(s){return n.enter("hardBreakEscape"),n.consume(s),i}function i(s){return xt(s)?(n.exit("hardBreakEscape"),e(s)):t(s)}}const FB={name:"headingAtx",resolve:BB,tokenize:zB};function BB(n,e){let t=n.length-2,r=3,i,s;return n[r][1].type==="whitespace"&&(r+=2),t-2>r&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&n[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(i={type:"atxHeadingText",start:n[r][1].start,end:n[t][1].end},s={type:"chunkText",start:n[r][1].start,end:n[t][1].end,contentType:"text"},bi(n,r,t-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),n}function zB(n,e,t){let r=0;return i;function i(u){return n.enter("atxHeading"),s(u)}function s(u){return n.enter("atxHeadingSequence"),o(u)}function o(u){return u===35&&r++<6?(n.consume(u),o):u===null||Pn(u)?(n.exit("atxHeadingSequence"),a(u)):t(u)}function a(u){return u===35?(n.enter("atxHeadingSequence"),l(u)):u===null||xt(u)?(n.exit("atxHeading"),e(u)):tn(u)?un(n,a,"whitespace")(u):(n.enter("atxHeadingText"),c(u))}function l(u){return u===35?(n.consume(u),l):(n.exit("atxHeadingSequence"),a(u))}function c(u){return u===null||u===35||Pn(u)?(n.exit("atxHeadingText"),a(u)):(n.consume(u),c)}}const UB=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],P0=["pre","script","style","textarea"],HB={concrete:!0,name:"htmlFlow",resolveTo:jB,tokenize:qB},GB={partial:!0,tokenize:KB},VB={partial:!0,tokenize:WB};function jB(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function qB(n,e,t){const r=this;let i,s,o,a,l;return c;function c(M){return u(M)}function u(M){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(M),d}function d(M){return M===33?(n.consume(M),h):M===47?(n.consume(M),s=!0,m):M===63?(n.consume(M),i=3,r.interrupt?e:R):qr(M)?(n.consume(M),o=String.fromCharCode(M),y):t(M)}function h(M){return M===45?(n.consume(M),i=2,f):M===91?(n.consume(M),i=5,a=0,g):qr(M)?(n.consume(M),i=4,r.interrupt?e:R):t(M)}function f(M){return M===45?(n.consume(M),r.interrupt?e:R):t(M)}function g(M){const fe="CDATA[";return M===fe.charCodeAt(a++)?(n.consume(M),a===fe.length?r.interrupt?e:B:g):t(M)}function m(M){return qr(M)?(n.consume(M),o=String.fromCharCode(M),y):t(M)}function y(M){if(M===null||M===47||M===62||Pn(M)){const fe=M===47,Oe=o.toLowerCase();return!fe&&!s&&P0.includes(Oe)?(i=1,r.interrupt?e(M):B(M)):UB.includes(o.toLowerCase())?(i=6,fe?(n.consume(M),v):r.interrupt?e(M):B(M)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(M):s?A(M):E(M))}return M===45||Ir(M)?(n.consume(M),o+=String.fromCharCode(M),y):t(M)}function v(M){return M===62?(n.consume(M),r.interrupt?e:B):t(M)}function A(M){return tn(M)?(n.consume(M),A):O(M)}function E(M){return M===47?(n.consume(M),O):M===58||M===95||qr(M)?(n.consume(M),S):tn(M)?(n.consume(M),E):O(M)}function S(M){return M===45||M===46||M===58||M===95||Ir(M)?(n.consume(M),S):C(M)}function C(M){return M===61?(n.consume(M),x):tn(M)?(n.consume(M),C):E(M)}function x(M){return M===null||M===60||M===61||M===62||M===96?t(M):M===34||M===39?(n.consume(M),l=M,N):tn(M)?(n.consume(M),x):D(M)}function N(M){return M===l?(n.consume(M),l=null,V):M===null||xt(M)?t(M):(n.consume(M),N)}function D(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||Pn(M)?C(M):(n.consume(M),D)}function V(M){return M===47||M===62||tn(M)?E(M):t(M)}function O(M){return M===62?(n.consume(M),K):t(M)}function K(M){return M===null||xt(M)?B(M):tn(M)?(n.consume(M),K):t(M)}function B(M){return M===45&&i===2?(n.consume(M),H):M===60&&i===1?(n.consume(M),Q):M===62&&i===4?(n.consume(M),Ae):M===63&&i===3?(n.consume(M),R):M===93&&i===5?(n.consume(M),le):xt(M)&&(i===6||i===7)?(n.exit("htmlFlowData"),n.check(GB,ke,U)(M)):M===null||xt(M)?(n.exit("htmlFlowData"),U(M)):(n.consume(M),B)}function U(M){return n.check(VB,L,ke)(M)}function L(M){return n.enter("lineEnding"),n.consume(M),n.exit("lineEnding"),W}function W(M){return M===null||xt(M)?U(M):(n.enter("htmlFlowData"),B(M))}function H(M){return M===45?(n.consume(M),R):B(M)}function Q(M){return M===47?(n.consume(M),o="",X):B(M)}function X(M){if(M===62){const fe=o.toLowerCase();return P0.includes(fe)?(n.consume(M),Ae):B(M)}return qr(M)&&o.length<8?(n.consume(M),o+=String.fromCharCode(M),X):B(M)}function le(M){return M===93?(n.consume(M),R):B(M)}function R(M){return M===62?(n.consume(M),Ae):M===45&&i===2?(n.consume(M),R):B(M)}function Ae(M){return M===null||xt(M)?(n.exit("htmlFlowData"),ke(M)):(n.consume(M),Ae)}function ke(M){return n.exit("htmlFlow"),e(M)}}function WB(n,e,t){const r=this;return i;function i(o){return xt(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),s):t(o)}function s(o){return r.parser.lazy[r.now().line]?t(o):e(o)}}function KB(n,e,t){return r;function r(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),n.attempt(ic,e,t)}}const $B={name:"htmlText",tokenize:YB};function YB(n,e,t){const r=this;let i,s,o;return a;function a(R){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(R),l}function l(R){return R===33?(n.consume(R),c):R===47?(n.consume(R),C):R===63?(n.consume(R),E):qr(R)?(n.consume(R),D):t(R)}function c(R){return R===45?(n.consume(R),u):R===91?(n.consume(R),s=0,g):qr(R)?(n.consume(R),A):t(R)}function u(R){return R===45?(n.consume(R),f):t(R)}function d(R){return R===null?t(R):R===45?(n.consume(R),h):xt(R)?(o=d,Q(R)):(n.consume(R),d)}function h(R){return R===45?(n.consume(R),f):d(R)}function f(R){return R===62?H(R):R===45?h(R):d(R)}function g(R){const Ae="CDATA[";return R===Ae.charCodeAt(s++)?(n.consume(R),s===Ae.length?m:g):t(R)}function m(R){return R===null?t(R):R===93?(n.consume(R),y):xt(R)?(o=m,Q(R)):(n.consume(R),m)}function y(R){return R===93?(n.consume(R),v):m(R)}function v(R){return R===62?H(R):R===93?(n.consume(R),v):m(R)}function A(R){return R===null||R===62?H(R):xt(R)?(o=A,Q(R)):(n.consume(R),A)}function E(R){return R===null?t(R):R===63?(n.consume(R),S):xt(R)?(o=E,Q(R)):(n.consume(R),E)}function S(R){return R===62?H(R):E(R)}function C(R){return qr(R)?(n.consume(R),x):t(R)}function x(R){return R===45||Ir(R)?(n.consume(R),x):N(R)}function N(R){return xt(R)?(o=N,Q(R)):tn(R)?(n.consume(R),N):H(R)}function D(R){return R===45||Ir(R)?(n.consume(R),D):R===47||R===62||Pn(R)?V(R):t(R)}function V(R){return R===47?(n.consume(R),H):R===58||R===95||qr(R)?(n.consume(R),O):xt(R)?(o=V,Q(R)):tn(R)?(n.consume(R),V):H(R)}function O(R){return R===45||R===46||R===58||R===95||Ir(R)?(n.consume(R),O):K(R)}function K(R){return R===61?(n.consume(R),B):xt(R)?(o=K,Q(R)):tn(R)?(n.consume(R),K):V(R)}function B(R){return R===null||R===60||R===61||R===62||R===96?t(R):R===34||R===39?(n.consume(R),i=R,U):xt(R)?(o=B,Q(R)):tn(R)?(n.consume(R),B):(n.consume(R),L)}function U(R){return R===i?(n.consume(R),i=void 0,W):R===null?t(R):xt(R)?(o=U,Q(R)):(n.consume(R),U)}function L(R){return R===null||R===34||R===39||R===60||R===61||R===96?t(R):R===47||R===62||Pn(R)?V(R):(n.consume(R),L)}function W(R){return R===47||R===62||Pn(R)?V(R):t(R)}function H(R){return R===62?(n.consume(R),n.exit("htmlTextData"),n.exit("htmlText"),e):t(R)}function Q(R){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(R),n.exit("lineEnding"),X}function X(R){return tn(R)?un(n,le,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):le(R)}function le(R){return n.enter("htmlTextData"),o(R)}}const $g={name:"labelEnd",resolveAll:JB,resolveTo:ez,tokenize:tz},XB={tokenize:nz},ZB={tokenize:rz},QB={tokenize:iz};function JB(n){let e=-1;const t=[];for(;++e<n.length;){const r=n[e][1];if(t.push(n[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return n.length!==t.length&&bi(n,0,n.length,t),n}function ez(n,e){let t=n.length,r=0,i,s,o,a;for(;t--;)if(i=n[t][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;n[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(n[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=t,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=t);const l={type:n[s][1].type==="labelLink"?"link":"image",start:{...n[s][1].start},end:{...n[n.length-1][1].end}},c={type:"label",start:{...n[s][1].start},end:{...n[o][1].end}},u={type:"labelText",start:{...n[s+r+2][1].end},end:{...n[o-2][1].start}};return a=[["enter",l,e],["enter",c,e]],a=Di(a,n.slice(s+1,s+r+3)),a=Di(a,[["enter",u,e]]),a=Di(a,Rd(e.parser.constructs.insideSpan.null,n.slice(s+r+4,o-3),e)),a=Di(a,[["exit",u,e],n[o-2],n[o-1],["exit",c,e]]),a=Di(a,n.slice(o+1)),a=Di(a,[["exit",l,e]]),bi(n,s,n.length,a),n}function tz(n,e,t){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(h){return s?s._inactive?d(h):(o=r.parser.defined.includes(Ki(r.sliceSerialize({start:s.end,end:r.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(h),n.exit("labelMarker"),n.exit("labelEnd"),l):t(h)}function l(h){return h===40?n.attempt(XB,u,o?u:d)(h):h===91?n.attempt(ZB,u,o?c:d)(h):o?u(h):d(h)}function c(h){return n.attempt(QB,u,d)(h)}function u(h){return e(h)}function d(h){return s._balanced=!0,t(h)}}function nz(n,e,t){return r;function r(d){return n.enter("resource"),n.enter("resourceMarker"),n.consume(d),n.exit("resourceMarker"),i}function i(d){return Pn(d)?oc(n,s)(d):s(d)}function s(d){return d===41?u(d):T0(n,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return Pn(d)?oc(n,l)(d):u(d)}function a(d){return t(d)}function l(d){return d===34||d===39||d===40?I0(n,c,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):u(d)}function c(d){return Pn(d)?oc(n,u)(d):u(d)}function u(d){return d===41?(n.enter("resourceMarker"),n.consume(d),n.exit("resourceMarker"),n.exit("resource"),e):t(d)}}function rz(n,e,t){const r=this;return i;function i(a){return N0.call(r,n,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(Ki(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):t(a)}function o(a){return t(a)}}function iz(n,e,t){return r;function r(s){return n.enter("reference"),n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),i}function i(s){return s===93?(n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),n.exit("reference"),e):t(s)}}const sz={name:"labelStartImage",resolveAll:$g.resolveAll,tokenize:oz};function oz(n,e,t){const r=this;return i;function i(a){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(a),n.exit("labelImageMarker"),s}function s(a){return a===91?(n.enter("labelMarker"),n.consume(a),n.exit("labelMarker"),n.exit("labelImage"),o):t(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(a):e(a)}}const az={name:"labelStartLink",resolveAll:$g.resolveAll,tokenize:lz};function lz(n,e,t){const r=this;return i;function i(o){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(o):e(o)}}const Yg={name:"lineEnding",tokenize:cz};function cz(n,e){return t;function t(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),un(n,e,"linePrefix")}}const Od={name:"thematicBreak",tokenize:uz};function uz(n,e,t){let r=0,i;return s;function s(c){return n.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(n.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||xt(c))?(n.exit("thematicBreak"),e(c)):t(c)}function l(c){return c===i?(n.consume(c),r++,l):(n.exit("thematicBreakSequence"),tn(c)?un(n,a,"whitespace")(c):a(c))}}const ii={continuation:{tokenize:pz},exit:mz,name:"list",tokenize:fz},dz={partial:!0,tokenize:bz},hz={partial:!0,tokenize:gz};function fz(n,e,t){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(f){const g=r.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||f===r.containerState.marker:qg(f)){if(r.containerState.type||(r.containerState.type=g,n.enter(g,{_container:!0})),g==="listUnordered")return n.enter("listItemPrefix"),f===42||f===45?n.check(Od,t,c)(f):c(f);if(!r.interrupt||f===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),l(f)}return t(f)}function l(f){return qg(f)&&++o<10?(n.consume(f),l):(!r.interrupt||o<2)&&(r.containerState.marker?f===r.containerState.marker:f===41||f===46)?(n.exit("listItemValue"),c(f)):t(f)}function c(f){return n.enter("listItemMarker"),n.consume(f),n.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||f,n.check(ic,r.interrupt?t:u,n.attempt(dz,h,d))}function u(f){return r.containerState.initialBlankLine=!0,s++,h(f)}function d(f){return tn(f)?(n.enter("listItemPrefixWhitespace"),n.consume(f),n.exit("listItemPrefixWhitespace"),h):t(f)}function h(f){return r.containerState.size=s+r.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(f)}}function pz(n,e,t){const r=this;return r.containerState._closeFlow=void 0,n.check(ic,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,un(n,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!tn(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,n.attempt(hz,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,un(n,n.attempt(ii,e,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function gz(n,e,t){const r=this;return un(n,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):t(s)}}function mz(n){n.exit(this.containerState.type)}function bz(n,e,t){const r=this;return un(n,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!tn(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):t(s)}}const R0={name:"setextUnderline",resolveTo:vz,tokenize:yz};function vz(n,e){let t=n.length,r,i,s;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){r=t;break}n[t][1].type==="paragraph"&&(i=t)}else n[t][1].type==="content"&&n.splice(t,1),!s&&n[t][1].type==="definition"&&(s=t);const o={type:"setextHeading",start:{...n[r][1].start},end:{...n[n.length-1][1].end}};return n[i][1].type="setextHeadingText",s?(n.splice(i,0,["enter",o,e]),n.splice(s+1,0,["exit",n[r][1],e]),n[r][1].end={...n[s][1].end}):n[r][1]=o,n.push(["exit",o,e]),n}function yz(n,e,t){const r=this;let i;return s;function s(c){let u=r.events.length,d;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){d=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(n.enter("setextHeadingLine"),i=c,o(c)):t(c)}function o(c){return n.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(n.consume(c),a):(n.exit("setextHeadingLineSequence"),tn(c)?un(n,l,"lineSuffix")(c):l(c))}function l(c){return c===null||xt(c)?(n.exit("setextHeadingLine"),e(c)):t(c)}}const wz={tokenize:_z};function _z(n){const e=this,t=n.attempt(ic,r,n.attempt(this.parser.constructs.flowInitial,i,un(n,n.attempt(this.parser.constructs.flow,i,n.attempt(kB,i)),"linePrefix")));return t;function r(s){if(s===null){n.consume(s);return}return n.enter("lineEndingBlank"),n.consume(s),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function i(s){if(s===null){n.consume(s);return}return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const xz={resolveAll:M0()},Ez=O0("string"),Az=O0("text");function O0(n){return{resolveAll:M0(n==="text"?Sz:void 0),tokenize:e};function e(t){const r=this,i=this.parser.constructs[n],s=t.attempt(i,o,a);return o;function o(u){return c(u)?s(u):a(u)}function a(u){if(u===null){t.consume(u);return}return t.enter("data"),t.consume(u),l}function l(u){return c(u)?(t.exit("data"),s(u)):(t.consume(u),l)}function c(u){if(u===null)return!0;const d=i[u];let h=-1;if(d)for(;++h<d.length;){const f=d[h];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function M0(n){return e;function e(t,r){let i=-1,s;for(;++i<=t.length;)s===void 0?t[i]&&t[i][1].type==="data"&&(s=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==s+2&&(t[s][1].end=t[i-1][1].end,t.splice(s+2,i-s-2),i=s+2),s=void 0);return n?n(t,r):t}}function Sz(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const r=n[t-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(e._contentTypeTextTrailing&&t===n.length&&(a=0),a){const c={type:t===n.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(n.splice(t,0,["enter",c,e],["exit",c,e]),t+=2)}t++}return n}const kz=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:{null:[42,95]},contentInitial:{91:PB},disable:{null:[]},document:{42:ii,43:ii,45:ii,48:ii,49:ii,50:ii,51:ii,52:ii,53:ii,54:ii,55:ii,56:ii,57:ii,62:x0},flow:{35:FB,42:Od,45:[R0,Od],60:HB,61:R0,95:Od,96:k0,126:k0},flowInitial:{[-2]:Kg,[-1]:Kg,32:Kg},insideSpan:{null:[Wg,xz]},string:{38:A0,92:E0},text:{[-5]:Yg,[-4]:Yg,[-3]:Yg,33:sz,38:A0,42:Wg,60:[aB,$B],91:az,92:[DB,E0],93:$g,95:Wg,96:wB}},Symbol.toStringTag,{value:"Module"}));function Cz(n,e,t){let r={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:N(C),check:N(x),consume:A,enter:E,exit:S,interrupt:N(x,{interrupt:!0})},c={code:null,containerState:{},defineSkip:m,events:[],now:g,parser:n,previous:null,sliceSerialize:h,sliceStream:f,write:d};let u=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function d(K){return o=Di(o,K),y(),o[o.length-1]!==null?[]:(D(e,0),c.events=Rd(s,c.events,c),c.events)}function h(K,B){return Nz(f(K),B)}function f(K){return Tz(o,K)}function g(){const{_bufferIndex:K,_index:B,line:U,column:L,offset:W}=r;return{_bufferIndex:K,_index:B,line:U,column:L,offset:W}}function m(K){i[K.line]=K.column,O()}function y(){let K;for(;r._index<o.length;){const B=o[r._index];if(typeof B=="string")for(K=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===K&&r._bufferIndex<B.length;)v(B.charCodeAt(r._bufferIndex));else v(B)}}function v(K){u=u(K)}function A(K){xt(K)?(r.line++,r.column=1,r.offset+=K===-3?2:1,O()):K!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=K}function E(K,B){const U=B||{};return U.type=K,U.start=g(),c.events.push(["enter",U,c]),a.push(U),U}function S(K){const B=a.pop();return B.end=g(),c.events.push(["exit",B,c]),B}function C(K,B){D(K,B.from)}function x(K,B){B.restore()}function N(K,B){return U;function U(L,W,H){let Q,X,le,R;return Array.isArray(L)?ke(L):"tokenize"in L?ke([L]):Ae(L);function Ae(Le){return Pe;function Pe($e){const Fe=$e!==null&&Le[$e],nn=$e!==null&&Le.null,wt=[...Array.isArray(Fe)?Fe:Fe?[Fe]:[],...Array.isArray(nn)?nn:nn?[nn]:[]];return ke(wt)($e)}}function ke(Le){return Q=Le,X=0,Le.length===0?H:M(Le[X])}function M(Le){return Pe;function Pe($e){return R=V(),le=Le,Le.partial||(c.currentConstruct=Le),Le.name&&c.parser.constructs.disable.null.includes(Le.name)?Oe():Le.tokenize.call(B?Object.assign(Object.create(c),B):c,l,fe,Oe)($e)}}function fe(Le){return K(le,R),W}function Oe(Le){return R.restore(),++X<Q.length?M(Q[X]):H}}}function D(K,B){K.resolveAll&&!s.includes(K)&&s.push(K),K.resolve&&bi(c.events,B,c.events.length-B,K.resolve(c.events.slice(B),c)),K.resolveTo&&(c.events=K.resolveTo(c.events,c))}function V(){const K=g(),B=c.previous,U=c.currentConstruct,L=c.events.length,W=Array.from(a);return{from:L,restore:H};function H(){r=K,c.previous=B,c.currentConstruct=U,c.events.length=L,a=W,O()}}function O(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Tz(n,e){const t=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(t===i)o=[n[t].slice(r,s)];else{if(o=n.slice(t,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(n[i].slice(0,s))}return o}function Nz(n,e){let t=-1;const r=[];let i;for(;++t<n.length;){const s=n[t];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function Iz(n){const r={constructs:v0([kz,...(n||{}).extensions||[]]),content:i(eB),defined:[],document:i(nB),flow:i(wz),lazy:{},string:i(Ez),text:i(Az)};return r;function i(s){return o;function o(a){return Cz(r,s,a)}}}function Pz(n){for(;!C0(n););return n}const D0=/[\0\t\n\r]/g;function Rz(){let n=1,e="",t=!0,r;return i;function i(s,o,a){const l=[];let c,u,d,h,f;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,e="",t&&(s.charCodeAt(0)===65279&&d++,t=void 0);d<s.length;){if(D0.lastIndex=d,c=D0.exec(s),h=c&&c.index!==void 0?c.index:s.length,f=s.charCodeAt(h),!c){e=s.slice(d);break}if(f===10&&d===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<h&&(l.push(s.slice(d,h)),n+=h-d),f){case 0:{l.push(65533),n++;break}case 9:{for(u=Math.ceil(n/4)*4,l.push(-2);n++<u;)l.push(-1);break}case 10:{l.push(-4),n=1;break}default:r=!0,n=1}d=h+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const Oz=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function L0(n){return n.replace(Oz,Mz)}function Mz(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const i=t.charCodeAt(1),s=i===120||i===88;return y0(t.slice(s?2:1),s?16:10)}return jg(t)||n}function Md(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?F0(n.position):"start"in n||"end"in n?F0(n):"line"in n||"column"in n?Xg(n):""}function Xg(n){return B0(n&&n.line)+":"+B0(n&&n.column)}function F0(n){return Xg(n&&n.start)+"-"+Xg(n&&n.end)}function B0(n){return n&&typeof n=="number"?n:1}const z0={}.hasOwnProperty;function Dz(n,e,t){return typeof e!="string"&&(t=e,e=void 0),Lz(t)(Pz(Iz(t).document().write(Rz()(n,e,!0))))}function Lz(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(lr),autolinkProtocol:V,autolinkEmail:V,atxHeading:s(it),blockQuote:s(nn),characterEscape:V,characterReference:V,codeFenced:s(wt),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(wt,o),codeText:s(ut,o),codeTextData:V,data:V,codeFlowValue:V,definition:s(Vt),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(rn),hardBreakEscape:s(Ut),hardBreakTrailing:s(Ut),htmlFlow:s(ar,o),htmlFlowData:V,htmlText:s(ar,o),htmlTextData:V,image:s(Un),label:o,link:s(lr),listItem:s(An),listItemValue:h,listOrdered:s(Mn,d),listUnordered:s(Mn),paragraph:s(pt),reference:M,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(it),strong:s(At),thematicBreak:s(Pt)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:Fe,autolinkProtocol:$e,blockQuote:l(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:Oe,characterReferenceMarkerNumeric:Oe,characterReferenceValue:Le,characterReference:Pe,codeFenced:l(y),codeFencedFence:m,codeFencedFenceInfo:f,codeFencedFenceMeta:g,codeFlowValue:O,codeIndented:l(v),codeText:l(W),codeTextData:O,data:O,definition:l(),definitionDestinationString:S,definitionLabelString:A,definitionTitleString:E,emphasis:l(),hardBreakEscape:l(B),hardBreakTrailing:l(B),htmlFlow:l(U),htmlFlowData:O,htmlText:l(L),htmlTextData:O,image:l(Q),label:le,labelText:X,lineEnding:K,link:l(H),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:fe,resourceDestinationString:R,resourceTitleString:Ae,resource:ke,setextHeading:l(D),setextHeadingLineSequence:N,setextHeadingText:x,strong:l(),thematicBreak:l()}};U0(e,(n||{}).mdastExtensions||[]);const t={};return r;function r(ce){let Ee={type:"root",children:[]};const Je={stack:[Ee],tokenStack:[],config:e,enter:a,exit:c,buffer:o,resume:u,data:t},_t=[];let Mt=-1;for(;++Mt<ce.length;)if(ce[Mt][1].type==="listOrdered"||ce[Mt][1].type==="listUnordered")if(ce[Mt][0]==="enter")_t.push(Mt);else{const Sn=_t.pop();Mt=i(ce,Sn,Mt)}for(Mt=-1;++Mt<ce.length;){const Sn=e[ce[Mt][0]];z0.call(Sn,ce[Mt][1].type)&&Sn[ce[Mt][1].type].call(Object.assign({sliceSerialize:ce[Mt][2].sliceSerialize},Je),ce[Mt][1])}if(Je.tokenStack.length>0){const Sn=Je.tokenStack[Je.tokenStack.length-1];(Sn[1]||H0).call(Je,void 0,Sn[0])}for(Ee.position={start:ho(ce.length>0?ce[0][1].start:{line:1,column:1,offset:0}),end:ho(ce.length>0?ce[ce.length-2][1].end:{line:1,column:1,offset:0})},Mt=-1;++Mt<e.transforms.length;)Ee=e.transforms[Mt](Ee)||Ee;return Ee}function i(ce,Ee,Je){let _t=Ee-1,Mt=-1,Sn=!1,pn,hn,Hn,kn;for(;++_t<=Je;){const Ie=ce[_t];switch(Ie[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ie[0]==="enter"?Mt++:Mt--,kn=void 0;break}case"lineEndingBlank":{Ie[0]==="enter"&&(pn&&!kn&&!Mt&&!Hn&&(Hn=_t),kn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:kn=void 0}if(!Mt&&Ie[0]==="enter"&&Ie[1].type==="listItemPrefix"||Mt===-1&&Ie[0]==="exit"&&(Ie[1].type==="listUnordered"||Ie[1].type==="listOrdered")){if(pn){let tt=_t;for(hn=void 0;tt--;){const dt=ce[tt];if(dt[1].type==="lineEnding"||dt[1].type==="lineEndingBlank"){if(dt[0]==="exit")continue;hn&&(ce[hn][1].type="lineEndingBlank",Sn=!0),dt[1].type="lineEnding",hn=tt}else if(!(dt[1].type==="linePrefix"||dt[1].type==="blockQuotePrefix"||dt[1].type==="blockQuotePrefixWhitespace"||dt[1].type==="blockQuoteMarker"||dt[1].type==="listItemIndent"))break}Hn&&(!hn||Hn<hn)&&(pn._spread=!0),pn.end=Object.assign({},hn?ce[hn][1].start:Ie[1].end),ce.splice(hn||_t,0,["exit",pn,Ie[2]]),_t++,Je++}if(Ie[1].type==="listItemPrefix"){const tt={type:"listItem",_spread:!1,start:Object.assign({},Ie[1].start),end:void 0};pn=tt,ce.splice(_t,0,["enter",tt,Ie[2]]),_t++,Je++,Hn=void 0,kn=!0}}}return ce[Ee][1]._spread=Sn,Je}function s(ce,Ee){return Je;function Je(_t){a.call(this,ce(_t),_t),Ee&&Ee.call(this,_t)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(ce,Ee,Je){this.stack[this.stack.length-1].children.push(ce),this.stack.push(ce),this.tokenStack.push([Ee,Je||void 0]),ce.position={start:ho(Ee.start),end:void 0}}function l(ce){return Ee;function Ee(Je){ce&&ce.call(this,Je),c.call(this,Je)}}function c(ce,Ee){const Je=this.stack.pop(),_t=this.tokenStack.pop();if(_t)_t[0].type!==ce.type&&(Ee?Ee.call(this,ce,_t[0]):(_t[1]||H0).call(this,ce,_t[0]));else throw new Error("Cannot close `"+ce.type+"` ("+Md({start:ce.start,end:ce.end})+"): its not open");Je.position.end=ho(ce.end)}function u(){return Vg(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(ce){if(this.data.expectingFirstListItemValue){const Ee=this.stack[this.stack.length-2];Ee.start=Number.parseInt(this.sliceSerialize(ce),10),this.data.expectingFirstListItemValue=void 0}}function f(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.lang=ce}function g(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.meta=ce}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=ce.replace(/(\r?\n|\r)$/g,"")}function A(ce){const Ee=this.resume(),Je=this.stack[this.stack.length-1];Je.label=Ee,Je.identifier=Ki(this.sliceSerialize(ce)).toLowerCase()}function E(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.title=ce}function S(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.url=ce}function C(ce){const Ee=this.stack[this.stack.length-1];if(!Ee.depth){const Je=this.sliceSerialize(ce).length;Ee.depth=Je}}function x(){this.data.setextHeadingSlurpLineEnding=!0}function N(ce){const Ee=this.stack[this.stack.length-1];Ee.depth=this.sliceSerialize(ce).codePointAt(0)===61?1:2}function D(){this.data.setextHeadingSlurpLineEnding=void 0}function V(ce){const Je=this.stack[this.stack.length-1].children;let _t=Je[Je.length-1];(!_t||_t.type!=="text")&&(_t=Nt(),_t.position={start:ho(ce.start),end:void 0},Je.push(_t)),this.stack.push(_t)}function O(ce){const Ee=this.stack.pop();Ee.value+=this.sliceSerialize(ce),Ee.position.end=ho(ce.end)}function K(ce){const Ee=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Je=Ee.children[Ee.children.length-1];Je.position.end=ho(ce.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Ee.type)&&(V.call(this,ce),O.call(this,ce))}function B(){this.data.atHardBreak=!0}function U(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=ce}function L(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=ce}function W(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.value=ce}function H(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const Ee=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=Ee,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function Q(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const Ee=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=Ee,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function X(ce){const Ee=this.sliceSerialize(ce),Je=this.stack[this.stack.length-2];Je.label=L0(Ee),Je.identifier=Ki(Ee).toLowerCase()}function le(){const ce=this.stack[this.stack.length-1],Ee=this.resume(),Je=this.stack[this.stack.length-1];if(this.data.inReference=!0,Je.type==="link"){const _t=ce.children;Je.children=_t}else Je.alt=Ee}function R(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.url=ce}function Ae(){const ce=this.resume(),Ee=this.stack[this.stack.length-1];Ee.title=ce}function ke(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function fe(ce){const Ee=this.resume(),Je=this.stack[this.stack.length-1];Je.label=Ee,Je.identifier=Ki(this.sliceSerialize(ce)).toLowerCase(),this.data.referenceType="full"}function Oe(ce){this.data.characterReferenceType=ce.type}function Le(ce){const Ee=this.sliceSerialize(ce),Je=this.data.characterReferenceType;let _t;Je?(_t=y0(Ee,Je==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):_t=jg(Ee);const Mt=this.stack[this.stack.length-1];Mt.value+=_t}function Pe(ce){const Ee=this.stack.pop();Ee.position.end=ho(ce.end)}function $e(ce){O.call(this,ce);const Ee=this.stack[this.stack.length-1];Ee.url=this.sliceSerialize(ce)}function Fe(ce){O.call(this,ce);const Ee=this.stack[this.stack.length-1];Ee.url="mailto:"+this.sliceSerialize(ce)}function nn(){return{type:"blockquote",children:[]}}function wt(){return{type:"code",lang:null,meta:null,value:""}}function ut(){return{type:"inlineCode",value:""}}function Vt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function rn(){return{type:"emphasis",children:[]}}function it(){return{type:"heading",depth:0,children:[]}}function Ut(){return{type:"break"}}function ar(){return{type:"html",value:""}}function Un(){return{type:"image",title:null,url:"",alt:null}}function lr(){return{type:"link",title:null,url:"",children:[]}}function Mn(ce){return{type:"list",ordered:ce.type==="listOrdered",start:null,spread:ce._spread,children:[]}}function An(ce){return{type:"listItem",spread:ce._spread,checked:null,children:[]}}function pt(){return{type:"paragraph",children:[]}}function At(){return{type:"strong",children:[]}}function Nt(){return{type:"text",value:""}}function Pt(){return{type:"thematicBreak"}}}function ho(n){return{line:n.line,column:n.column,offset:n.offset}}function U0(n,e){let t=-1;for(;++t<e.length;){const r=e[t];Array.isArray(r)?U0(n,r):Fz(n,r)}}function Fz(n,e){let t;for(t in e)if(z0.call(e,t))switch(t){case"canContainEols":{const r=e[t];r&&n[t].push(...r);break}case"transforms":{const r=e[t];r&&n[t].push(...r);break}case"enter":case"exit":{const r=e[t];r&&Object.assign(n[t],r);break}}}function H0(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+Md({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+Md({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Md({start:e.start,end:e.end})+") is still open")}function Bz(n){const e=this;e.parser=t;function t(r){return Dz(r,{...e.data("settings"),...n,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}const G0={}.hasOwnProperty;function V0(n,e){const t=e||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&G0.call(i,n)){const l=String(i[n]);o=G0.call(a,l)?a[l]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=t.handlers||{},r.invalid=t.invalid,r.unknown=t.unknown,r}const zz={}.hasOwnProperty;function j0(n,e){let t=-1,r;if(e.extensions)for(;++t<e.extensions.length;)j0(n,e.extensions[t]);for(r in e)if(zz.call(e,r))switch(r){case"extensions":break;case"unsafe":{q0(n[r],e[r]);break}case"join":{q0(n[r],e[r]);break}case"handlers":{Uz(n[r],e[r]);break}default:n.options[r]=e[r]}return n}function q0(n,e){e&&n.push(...e)}function Uz(n,e){e&&Object.assign(n,e)}function Hz(n,e,t,r){const i=t.enter("blockquote"),s=t.createTracker(r);s.move("> "),s.shift(2);const o=t.indentLines(t.containerFlow(n,s.current()),Gz);return i(),o}function Gz(n,e,t){return">"+(t?"":" ")+n}function W0(n,e){return K0(n,e.inConstruct,!0)&&!K0(n,e.notInConstruct,!1)}function K0(n,e,t){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return t;let r=-1;for(;++r<e.length;)if(n.includes(e[r]))return!0;return!1}function $0(n,e,t,r){let i=-1;for(;++i<t.unsafe.length;)if(t.unsafe[i].character===`
`&&W0(t.stack,t.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Vz(n,e){const t=String(n);let r=t.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=t.indexOf(e,i);return o}function Zg(n,e){return!!(e.options.fences===!1&&n.value&&!n.lang&&/[^ \r\n]/.test(n.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(n.value))}function jz(n){const e=n.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function qz(n,e,t,r){const i=jz(t),s=n.value||"",o=i==="`"?"GraveAccent":"Tilde";if(Zg(n,t)){const d=t.enter("codeIndented"),h=t.indentLines(s,Wz);return d(),h}const a=t.createTracker(r),l=i.repeat(Math.max(Vz(s,i)+1,3)),c=t.enter("codeFenced");let u=a.move(l);if(n.lang){const d=t.enter(`codeFencedLang${o}`);u+=a.move(t.safe(n.lang,{before:u,after:" ",encode:["`"],...a.current()})),d()}if(n.lang&&n.meta){const d=t.enter(`codeFencedMeta${o}`);u+=a.move(" "),u+=a.move(t.safe(n.meta,{before:u,after:`
`,encode:["`"],...a.current()})),d()}return u+=a.move(`
`),s&&(u+=a.move(s+`
`)),u+=a.move(l),c(),u}function Wz(n,e,t){return(t?"":"    ")+n}function Qg(n){const e=n.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function Kz(n,e,t,r){const i=Qg(t),s=i==='"'?"Quote":"Apostrophe",o=t.enter("definition");let a=t.enter("label");const l=t.createTracker(r);let c=l.move("[");return c+=l.move(t.safe(t.associationId(n),{before:c,after:"]",...l.current()})),c+=l.move("]: "),a(),!n.url||/[\0- \u007F]/.test(n.url)?(a=t.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(t.safe(n.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=t.enter("destinationRaw"),c+=l.move(t.safe(n.url,{before:c,after:n.title?" ":`
`,...l.current()}))),a(),n.title&&(a=t.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(t.safe(n.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),o(),c}function $z(n){const e=n.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function fo(n){return"&#x"+n.toString(16).toUpperCase()+";"}function Dd(n,e,t){const r=$a(n),i=$a(e);return r===void 0?i===void 0?t==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Y0.peek=Yz;function Y0(n,e,t,r){const i=$z(t),s=t.enter("emphasis"),o=t.createTracker(r),a=o.move(i);let l=o.move(t.containerPhrasing(n,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),u=Dd(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=fo(c)+l.slice(1));const d=l.charCodeAt(l.length-1),h=Dd(r.after.charCodeAt(0),d,i);h.inside&&(l=l.slice(0,-1)+fo(d));const f=o.move(i);return s(),t.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},a+l+f}function Yz(n,e,t){return t.options.emphasis||"*"}const ac=function(n){if(n==null)return Jz;if(typeof n=="function")return Ld(n);if(typeof n=="object")return Array.isArray(n)?Xz(n):Zz(n);if(typeof n=="string")return Qz(n);throw new Error("Expected function, string, or object as test")};function Xz(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=ac(n[t]);return Ld(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function Zz(n){const e=n;return Ld(t);function t(r){const i=r;let s;for(s in n)if(i[s]!==e[s])return!1;return!0}}function Qz(n){return Ld(e);function e(t){return t&&t.type===n}}function Ld(n){return e;function e(t,r,i){return!!(e3(t)&&n.call(this,t,typeof r=="number"?r:void 0,i||void 0))}}function Jz(){return!0}function e3(n){return n!==null&&typeof n=="object"&&"type"in n}function H6(n){return n}const X0=[],t3=!0,Jg=!1,n3="skip";function Z0(n,e,t,r){let i;typeof e=="function"&&typeof t!="function"?(r=t,t=e):i=e;const s=ac(i),o=r?-1:1;a(n,void 0,[])();function a(l,c,u){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(f?"<"+f+">":""))+")"})}return h;function h(){let f=X0,g,m,y;if((!e||s(l,c,u[u.length-1]||void 0))&&(f=r3(t(l,u)),f[0]===Jg))return f;if("children"in l&&l.children){const v=l;if(v.children&&f[0]!==n3)for(m=(r?v.children.length:-1)+o,y=u.concat(v);m>-1&&m<v.children.length;){const A=v.children[m];if(g=a(A,m,y)(),g[0]===Jg)return g;m=typeof g[1]=="number"?g[1]:m+o}}return f}}}function r3(n){return Array.isArray(n)?n:typeof n=="number"?[t3,n]:n==null?X0:[n]}function em(n,e,t,r){let i,s,o;typeof e=="function"&&typeof t!="function"?(s=void 0,o=e,i=t):(s=e,o=t,i=r),Z0(n,s,a,i);function a(l,c){const u=c[c.length-1],d=u?u.children.indexOf(l):void 0;return o(l,d,u)}}function Q0(n,e){let t=!1;return em(n,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return t=!0,Jg}),!!((!n.depth||n.depth<3)&&Vg(n)&&(e.options.setext||t))}function i3(n,e,t,r){const i=Math.max(Math.min(6,n.depth||1),1),s=t.createTracker(r);if(Q0(n,t)){const u=t.enter("headingSetext"),d=t.enter("phrasing"),h=t.containerPhrasing(n,{...s.current(),before:`
`,after:`
`});return d(),u(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=t.enter("headingAtx"),l=t.enter("phrasing");s.move(o+" ");let c=t.containerPhrasing(n,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=fo(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,t.options.closeAtx&&(c+=" "+o),l(),a(),c}J0.peek=s3;function J0(n){return n.value||""}function s3(){return"<"}ex.peek=o3;function ex(n,e,t,r){const i=Qg(t),s=i==='"'?"Quote":"Apostrophe",o=t.enter("image");let a=t.enter("label");const l=t.createTracker(r);let c=l.move("![");return c+=l.move(t.safe(n.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),a(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(a=t.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(t.safe(n.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=t.enter("destinationRaw"),c+=l.move(t.safe(n.url,{before:c,after:n.title?" ":")",...l.current()}))),a(),n.title&&(a=t.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(t.safe(n.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),c+=l.move(")"),o(),c}function o3(){return"!"}tx.peek=a3;function tx(n,e,t,r){const i=n.referenceType,s=t.enter("imageReference");let o=t.enter("label");const a=t.createTracker(r);let l=a.move("![");const c=t.safe(n.alt,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const u=t.stack;t.stack=[],o=t.enter("reference");const d=t.safe(t.associationId(n),{before:l,after:"]",...a.current()});return o(),t.stack=u,s(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function a3(){return"!"}nx.peek=l3;function nx(n,e,t){let r=n.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<t.unsafe.length;){const o=t.unsafe[s],a=t.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function l3(){return"`"}function rx(n,e){const t=Vg(n);return!!(!e.options.resourceLink&&n.url&&!n.title&&n.children&&n.children.length===1&&n.children[0].type==="text"&&(t===n.url||"mailto:"+t===n.url)&&/^[a-z][a-z+.-]+:/i.test(n.url)&&!/[\0- <>\u007F]/.test(n.url))}ix.peek=c3;function ix(n,e,t,r){const i=Qg(t),s=i==='"'?"Quote":"Apostrophe",o=t.createTracker(r);let a,l;if(rx(n,t)){const u=t.stack;t.stack=[],a=t.enter("autolink");let d=o.move("<");return d+=o.move(t.containerPhrasing(n,{before:d,after:">",...o.current()})),d+=o.move(">"),a(),t.stack=u,d}a=t.enter("link"),l=t.enter("label");let c=o.move("[");return c+=o.move(t.containerPhrasing(n,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(l=t.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(t.safe(n.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=t.enter("destinationRaw"),c+=o.move(t.safe(n.url,{before:c,after:n.title?" ":")",...o.current()}))),l(),n.title&&(l=t.enter(`title${s}`),c+=o.move(" "+i),c+=o.move(t.safe(n.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),a(),c}function c3(n,e,t){return rx(n,t)?"<":"["}sx.peek=u3;function sx(n,e,t,r){const i=n.referenceType,s=t.enter("linkReference");let o=t.enter("label");const a=t.createTracker(r);let l=a.move("[");const c=t.containerPhrasing(n,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const u=t.stack;t.stack=[],o=t.enter("reference");const d=t.safe(t.associationId(n),{before:l,after:"]",...a.current()});return o(),t.stack=u,s(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function u3(){return"["}function tm(n){const e=n.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function d3(n){const e=tm(n),t=n.options.bulletOther;if(!t)return e==="*"?"-":"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(t===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+t+"`) to be different");return t}function h3(n){const e=n.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function ox(n){const e=n.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function f3(n,e,t,r){const i=t.enter("list"),s=t.bulletCurrent;let o=n.ordered?h3(t):tm(t);const a=n.ordered?o==="."?")":".":d3(t);let l=e&&t.bulletLastUsed?o===t.bulletLastUsed:!1;if(!n.ordered){const u=n.children?n.children[0]:void 0;if((o==="*"||o==="-")&&u&&(!u.children||!u.children[0])&&t.stack[t.stack.length-1]==="list"&&t.stack[t.stack.length-2]==="listItem"&&t.stack[t.stack.length-3]==="list"&&t.stack[t.stack.length-4]==="listItem"&&t.indexStack[t.indexStack.length-1]===0&&t.indexStack[t.indexStack.length-2]===0&&t.indexStack[t.indexStack.length-3]===0&&(l=!0),ox(t)===o&&u){let d=-1;for(;++d<n.children.length;){const h=n.children[d];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),t.bulletCurrent=o;const c=t.containerFlow(n,r);return t.bulletLastUsed=o,t.bulletCurrent=s,i(),c}function p3(n){const e=n.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function g3(n,e,t,r){const i=p3(t);let s=t.bulletCurrent||tm(t);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(t.options.incrementListMarker===!1?0:e.children.indexOf(n))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||n.spread))&&(o=Math.ceil(o/4)*4);const a=t.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=t.enter("listItem"),c=t.indentLines(t.containerFlow(n,a.current()),u);return l(),c;function u(d,h,f){return h?(f?"":" ".repeat(o))+d:(f?s:s+" ".repeat(o-s.length))+d}}function m3(n,e,t,r){const i=t.enter("paragraph"),s=t.enter("phrasing"),o=t.containerPhrasing(n,r);return s(),i(),o}const b3=ac(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function v3(n,e,t,r){return(n.children.some(function(o){return b3(o)})?t.containerPhrasing:t.containerFlow).call(t,n,r)}function y3(n){const e=n.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}ax.peek=w3;function ax(n,e,t,r){const i=y3(t),s=t.enter("strong"),o=t.createTracker(r),a=o.move(i+i);let l=o.move(t.containerPhrasing(n,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),u=Dd(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=fo(c)+l.slice(1));const d=l.charCodeAt(l.length-1),h=Dd(r.after.charCodeAt(0),d,i);h.inside&&(l=l.slice(0,-1)+fo(d));const f=o.move(i+i);return s(),t.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},a+l+f}function w3(n,e,t){return t.options.strong||"*"}function _3(n,e,t,r){return t.safe(n.value,r)}function x3(n){const e=n.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function E3(n,e,t){const r=(ox(t)+(t.options.ruleSpaces?" ":"")).repeat(x3(t));return t.options.ruleSpaces?r.slice(0,-1):r}const nm={blockquote:Hz,break:$0,code:qz,definition:Kz,emphasis:Y0,hardBreak:$0,heading:i3,html:J0,image:ex,imageReference:tx,inlineCode:nx,link:ix,linkReference:sx,list:f3,listItem:g3,paragraph:m3,root:v3,strong:ax,text:_3,thematicBreak:E3},A3=[S3];function S3(n,e,t,r){if(e.type==="code"&&Zg(e,r)&&(n.type==="list"||n.type===e.type&&Zg(n,r)))return!1;if("spread"in t&&typeof t.spread=="boolean")return n.type==="paragraph"&&(n.type===e.type||e.type==="definition"||e.type==="heading"&&Q0(e,r))?void 0:t.spread?1:0}const qo=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],k3=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:qo},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:qo},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:qo},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:qo},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:qo},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:qo},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:qo},{atBreak:!0,character:"~"}];function C3(n){return n.label||!n.identifier?n.label||"":L0(n.identifier)}function T3(n){if(!n._compiled){const e=(n.atBreak?"[\\r\\n][\\t ]*":"")+(n.before?"(?:"+n.before+")":"");n._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(n.character)?"\\":"")+n.character+(n.after?"(?:"+n.after+")":""),"g")}return n._compiled}function N3(n,e,t){const r=e.indexStack,i=n.children||[],s=[];let o=-1,a=t.before,l;r.push(-1);let c=e.createTracker(t);for(;++o<i.length;){const u=i[o];let d;if(r[r.length-1]=o,o+1<i.length){let g=e.handle.handlers[i[o+1].type];g&&g.peek&&(g=g.peek),d=g?g(i[o+1],n,e,{before:"",after:"",...c.current()}).charAt(0):""}else d=t.after;s.length>0&&(a==="\r"||a===`
`)&&u.type==="html"&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),a=" ",c=e.createTracker(t),c.move(s.join("")));let h=e.handle(u,n,e,{...c.current(),after:d,before:a});l&&l===h.slice(0,1)&&(h=fo(l.charCodeAt(0))+h.slice(1));const f=e.attentionEncodeSurroundingInfo;e.attentionEncodeSurroundingInfo=void 0,l=void 0,f&&(s.length>0&&f.before&&a===s[s.length-1].slice(-1)&&(s[s.length-1]=s[s.length-1].slice(0,-1)+fo(a.charCodeAt(0))),f.after&&(l=d)),c.move(h),s.push(h),a=h.slice(-1)}return r.pop(),s.join("")}function I3(n,e,t){const r=e.indexStack,i=n.children||[],s=e.createTracker(t),o=[];let a=-1;for(r.push(-1);++a<i.length;){const l=i[a];r[r.length-1]=a,o.push(s.move(e.handle(l,n,e,{before:`
`,after:`
`,...s.current()}))),l.type!=="list"&&(e.bulletLastUsed=void 0),a<i.length-1&&o.push(s.move(P3(l,i[a+1],n,e)))}return r.pop(),o.join("")}function P3(n,e,t,r){let i=r.join.length;for(;i--;){const s=r.join[i](n,e,t,r);if(s===!0||s===1)break;if(typeof s=="number")return`
`.repeat(1+s);if(s===!1)return`

<!---->

`}return`

`}const R3=/\r?\n|\r/g;function O3(n,e){const t=[];let r=0,i=0,s;for(;s=R3.exec(n);)o(n.slice(r,s.index)),t.push(s[0]),r=s.index+s[0].length,i++;return o(n.slice(r)),t.join("");function o(a){t.push(e(a,i,!a))}}function M3(n,e,t){const r=(t.before||"")+(e||"")+(t.after||""),i=[],s=[],o={};let a=-1;for(;++a<n.unsafe.length;){const u=n.unsafe[a];if(!W0(n.stack,u))continue;const d=n.compilePattern(u);let h;for(;h=d.exec(r);){const f="before"in u||!!u.atBreak,g="after"in u,m=h.index+(f?h[1].length:0);i.includes(m)?(o[m].before&&!f&&(o[m].before=!1),o[m].after&&!g&&(o[m].after=!1)):(i.push(m),o[m]={before:f,after:g})}}i.sort(D3);let l=t.before?t.before.length:0;const c=r.length-(t.after?t.after.length:0);for(a=-1;++a<i.length;){const u=i[a];u<l||u>=c||u+1<c&&i[a+1]===u+1&&o[u].after&&!o[u+1].before&&!o[u+1].after||i[a-1]===u-1&&o[u].before&&!o[u-1].before&&!o[u-1].after||(l!==u&&s.push(lx(r.slice(l,u),"\\")),l=u,/[!-/:-@[-`{-~]/.test(r.charAt(u))&&(!t.encode||!t.encode.includes(r.charAt(u)))?s.push("\\"):(s.push(fo(r.charCodeAt(u))),l++))}return s.push(lx(r.slice(l,c),t.after)),s.join("")}function D3(n,e){return n-e}function lx(n,e){const t=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],s=n+e;let o=-1,a=0,l;for(;l=t.exec(s);)r.push(l.index);for(;++o<r.length;)a!==r[o]&&i.push(n.slice(a,r[o])),i.push("\\"),a=r[o];return i.push(n.slice(a)),i.join("")}function L3(n){const e=n||{},t=e.now||{};let r=e.lineShift||0,i=t.line||1,s=t.column||1;return{move:l,current:o,shift:a};function o(){return{now:{line:i,column:s},lineShift:r}}function a(c){r+=c}function l(c){const u=c||"",d=u.split(/\r?\n|\r/g),h=d[d.length-1];return i+=d.length-1,s=d.length===1?s+h.length:1+h.length+r,u}}function F3(n,e){const t=e||{},r={associationId:C3,containerPhrasing:H3,containerFlow:G3,createTracker:L3,compilePattern:T3,enter:s,handlers:{...nm},handle:void 0,indentLines:O3,indexStack:[],join:[...A3],options:{},safe:V3,stack:[],unsafe:[...k3]};j0(r,t),r.options.tightDefinitions&&r.join.push(U3),r.handle=V0("type",{invalid:B3,unknown:z3,handlers:r.handlers});let i=r.handle(n,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return i&&i.charCodeAt(i.length-1)!==10&&i.charCodeAt(i.length-1)!==13&&(i+=`
`),i;function s(o){return r.stack.push(o),a;function a(){r.stack.pop()}}}function B3(n){throw new Error("Cannot handle value `"+n+"`, expected node")}function z3(n){const e=n;throw new Error("Cannot handle unknown node `"+e.type+"`")}function U3(n,e){if(n.type==="definition"&&n.type===e.type)return 0}function H3(n,e){return N3(n,this,e)}function G3(n,e){return I3(n,this,e)}function V3(n,e){return M3(this,n,e)}function j3(n){const e=this;e.compiler=t;function t(r){return F3(r,{...e.data("settings"),...n,extensions:e.data("toMarkdownExtensions")||[]})}}function cx(n){if(n)throw n}var rm,ux;function q3(){if(ux)return rm;ux=1;var n=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):e.call(c)==="[object Array]"},s=function(c){if(!c||e.call(c)!=="[object Object]")return!1;var u=n.call(c,"constructor"),d=c.constructor&&c.constructor.prototype&&n.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!u&&!d)return!1;var h;for(h in c);return typeof h>"u"||n.call(c,h)},o=function(c,u){t&&u.name==="__proto__"?t(c,u.name,{enumerable:!0,configurable:!0,value:u.newValue,writable:!0}):c[u.name]=u.newValue},a=function(c,u){if(u==="__proto__")if(n.call(c,u)){if(r)return r(c,u).value}else return;return c[u]};return rm=function l(){var c,u,d,h,f,g,m=arguments[0],y=1,v=arguments.length,A=!1;for(typeof m=="boolean"&&(A=m,m=arguments[1]||{},y=2),(m==null||typeof m!="object"&&typeof m!="function")&&(m={});y<v;++y)if(c=arguments[y],c!=null)for(u in c)d=a(m,u),h=a(c,u),m!==h&&(A&&h&&(s(h)||(f=i(h)))?(f?(f=!1,g=d&&i(d)?d:[]):g=d&&s(d)?d:{},o(m,{name:u,newValue:l(A,g,h)})):typeof h<"u"&&o(m,{name:u,newValue:h}));return m},rm}var W3=q3();const im=Fu(W3);function G6(){}function sm(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function K3(){const n=[],e={run:t,use:r};return e;function t(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const u=n[++s];let d=-1;if(l){o(l);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,u?$3(u,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return n.push(i),e}}function $3(n,e){let t;return r;function r(...o){const a=n.length>o.length;let l;a&&o.push(i);try{l=n.apply(this,o)}catch(c){const u=c;if(a&&t)throw u;return i(u)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){t||(t=!0,e(o,...a))}function s(o){i(null,o)}}function Y3(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?dx(n.position):"start"in n||"end"in n?dx(n):"line"in n||"column"in n?om(n):""}function om(n){return hx(n&&n.line)+":"+hx(n&&n.column)}function dx(n){return om(n&&n.start)+"-"+om(n&&n.end)}function hx(n){return n&&typeof n=="number"?n:1}class si extends Error{constructor(e,t,r){super(),typeof t=="string"&&(r=t,t=void 0);let i="",s={},o=!1;if(t&&("line"in t&&"column"in t?s={place:t}:"start"in t&&"end"in t?s={place:t}:"type"in t?s={ancestors:[t],place:t.position}:s={...t}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=Y3(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}si.prototype.file="",si.prototype.name="",si.prototype.reason="",si.prototype.message="",si.prototype.stack="",si.prototype.column=void 0,si.prototype.line=void 0,si.prototype.ancestors=void 0,si.prototype.cause=void 0,si.prototype.fatal=void 0,si.prototype.place=void 0,si.prototype.ruleId=void 0,si.prototype.source=void 0;const ls={basename:X3,dirname:Z3,extname:Q3,join:J3,sep:"/"};function X3(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');lc(n);let t=0,r=-1,i=n.length,s;if(e===void 0||e.length===0||e.length>n.length){for(;i--;)if(n.codePointAt(i)===47){if(s){t=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":n.slice(t,r)}if(e===n)return"";let o=-1,a=e.length-1;for(;i--;)if(n.codePointAt(i)===47){if(s){t=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(n.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return t===r?r=o:r<0&&(r=n.length),n.slice(t,r)}function Z3(n){if(lc(n),n.length===0)return".";let e=-1,t=n.length,r;for(;--t;)if(n.codePointAt(t)===47){if(r){e=t;break}}else r||(r=!0);return e<0?n.codePointAt(0)===47?"/":".":e===1&&n.codePointAt(0)===47?"//":n.slice(0,e)}function Q3(n){lc(n);let e=n.length,t=-1,r=0,i=-1,s=0,o;for(;e--;){const a=n.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}t<0&&(o=!0,t=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||t<0||s===0||s===1&&i===t-1&&i===r+1?"":n.slice(i,t)}function J3(...n){let e=-1,t;for(;++e<n.length;)lc(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":eU(t)}function eU(n){lc(n);const e=n.codePointAt(0)===47;let t=tU(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.codePointAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function tU(n,e){let t="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=n.length;){if(o<n.length)a=n.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(t.length<2||r!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(l=t.lastIndexOf("/"),l!==t.length-1){l<0?(t="",r=0):(t=t.slice(0,l),r=t.length-1-t.lastIndexOf("/")),i=o,s=0;continue}}else if(t.length>0){t="",r=0,i=o,s=0;continue}}e&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+n.slice(i+1,o):t=n.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return t}function lc(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const nU={cwd:rU};function rU(){return"/"}function am(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function iU(n){if(typeof n=="string")n=new URL(n);else if(!am(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return sU(n)}function sU(n){if(n.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=n.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const r=e.codePointAt(t+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const lm=["history","path","basename","stem","extname","dirname"];class oU{constructor(e){let t;e?am(e)?t={path:e}:typeof e=="string"||aU(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":nU.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<lm.length;){const s=lm[r];s in t&&t[s]!==void 0&&t[s]!==null&&(this[s]=s==="history"?[...t[s]]:t[s])}let i;for(i in t)lm.includes(i)||(this[i]=t[i])}get basename(){return typeof this.path=="string"?ls.basename(this.path):void 0}set basename(e){um(e,"basename"),cm(e,"basename"),this.path=ls.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ls.dirname(this.path):void 0}set dirname(e){fx(this.basename,"dirname"),this.path=ls.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ls.extname(this.path):void 0}set extname(e){if(cm(e,"extname"),fx(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ls.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){am(e)&&(e=iU(e)),um(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ls.basename(this.path,this.extname):void 0}set stem(e){um(e,"stem"),cm(e,"stem"),this.path=ls.join(this.dirname||"",e+(this.extname||""))}fail(e,t,r){const i=this.message(e,t,r);throw i.fatal=!0,i}info(e,t,r){const i=this.message(e,t,r);return i.fatal=void 0,i}message(e,t,r){const i=new si(e,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function cm(n,e){if(n&&n.includes(ls.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ls.sep+"`")}function um(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function fx(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function aU(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const lU=function(n){const r=this.constructor.prototype,i=r[n],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},cU={}.hasOwnProperty;class dm extends lU{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=K3()}copy(){const e=new dm;let t=-1;for(;++t<this.attachers.length;){const r=this.attachers[t];e.use(...r)}return e.data(im(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(pm("data",this.frozen),this.namespace[e]=t,this):cU.call(this.namespace,e)&&this.namespace[e]||void 0:e?(pm("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=t.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=Fd(e),r=this.parser||this.Parser;return hm("parse",r),r(String(t),t)}process(e,t){const r=this;return this.freeze(),hm("process",this.parser||this.Parser),fm("process",this.compiler||this.Compiler),t?i(void 0,t):new Promise(i);function i(s,o){const a=Fd(e),l=r.parse(a);r.run(l,a,function(u,d,h){if(u||!d||!h)return c(u);const f=d,g=r.stringify(f,h);hU(g)?h.value=g:h.result=g,c(u,h)});function c(u,d){u||!d?o(u):s?s(d):t(void 0,d)}}}processSync(e){let t=!1,r;return this.freeze(),hm("processSync",this.parser||this.Parser),fm("processSync",this.compiler||this.Compiler),this.process(e,i),gx("processSync","process",t),r;function i(s,o){t=!0,cx(s),r=o}}run(e,t,r){px(e),this.freeze();const i=this.transformers;return!r&&typeof t=="function"&&(r=t,t=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=Fd(t);i.run(e,l,c);function c(u,d,h){const f=d||e;u?a(u):o?o(f):r(void 0,f,h)}}}runSync(e,t){let r=!1,i;return this.run(e,t,s),gx("runSync","run",r),i;function s(o,a){cx(o),i=a,r=!0}}stringify(e,t){this.freeze();const r=Fd(t),i=this.compiler||this.Compiler;return fm("stringify",i),px(e),i(e,r)}use(e,...t){const r=this.attachers,i=this.namespace;if(pm("use",this.frozen),e!=null)if(typeof e=="function")l(e,t);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...d]=c;l(u,d)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=im(!0,i.settings,c.settings))}function a(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const d=c[u];s(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let d=-1,h=-1;for(;++d<r.length;)if(r[d][0]===c){h=d;break}if(h===-1)r.push([c,...u]);else if(u.length>0){let[f,...g]=u;const m=r[h][1];sm(m)&&sm(f)&&(f=im(!0,m,f)),r[h]=[c,f,...g]}}}}const uU=new dm().freeze();function hm(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function fm(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function pm(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function px(n){if(!sm(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function gx(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function Fd(n){return dU(n)?n:new oU(n)}function dU(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function hU(n){return typeof n=="string"||fU(n)}function fU(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const pU=uU().use(Bz).use(j3).freeze();function gU(n){if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function mx(n,e,t){const i=ac((t||{}).ignore||[]),s=mU(e);let o=-1;for(;++o<s.length;)Z0(n,"text",a);function a(c,u){let d=-1,h;for(;++d<u.length;){const f=u[d],g=h?h.children:void 0;if(i(f,g?g.indexOf(f):void 0,h))return;h=f}if(h)return l(c,u)}function l(c,u){const d=u[u.length-1],h=s[o][0],f=s[o][1];let g=0;const y=d.children.indexOf(c);let v=!1,A=[];h.lastIndex=0;let E=h.exec(c.value);for(;E;){const S=E.index,C={index:E.index,input:E.input,stack:[...u,c]};let x=f(...E,C);if(typeof x=="string"&&(x=x.length>0?{type:"text",value:x}:void 0),x===!1?h.lastIndex=S+1:(g!==S&&A.push({type:"text",value:c.value.slice(g,S)}),Array.isArray(x)?A.push(...x):x&&A.push(x),g=S+E[0].length,v=!0),!h.global)break;E=h.exec(c.value)}return v?(g<c.value.length&&A.push({type:"text",value:c.value.slice(g)}),d.children.splice(y,1,...A)):A=[c],y+A.length}}function mU(n){const e=[];if(!Array.isArray(n))throw new TypeError("Expected find and replace tuple or list of tuples");const t=!n[0]||Array.isArray(n[0])?n:[n];let r=-1;for(;++r<t.length;){const i=t[r];e.push([bU(i[0]),vU(i[1])])}return e}function bU(n){return typeof n=="string"?new RegExp(gU(n),"g"):n}function vU(n){return typeof n=="function"?n:function(){return n}}function yU(n){mx(n,[/\r?\n|\r/g,wU])}function wU(){return{type:"break"}}function _U(){return function(n){yU(n)}}function Bd(n,e){const t=String(n);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=t.indexOf(e);for(;i!==-1;)r++,i=t.indexOf(e,i+e.length);return r}const gm="phrasing",mm=["autolink","link","image","label"];function xU(){return{transforms:[NU],enter:{literalAutolink:AU,literalAutolinkEmail:bm,literalAutolinkHttp:bm,literalAutolinkWww:bm},exit:{literalAutolink:TU,literalAutolinkEmail:CU,literalAutolinkHttp:SU,literalAutolinkWww:kU}}}function EU(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:gm,notInConstruct:mm},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:gm,notInConstruct:mm},{character:":",before:"[ps]",after:"\\/",inConstruct:gm,notInConstruct:mm}]}}function AU(n){this.enter({type:"link",title:null,url:"",children:[]},n)}function bm(n){this.config.enter.autolinkProtocol.call(this,n)}function SU(n){this.config.exit.autolinkProtocol.call(this,n)}function kU(n){this.config.exit.data.call(this,n);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(n)}function CU(n){this.config.exit.autolinkEmail.call(this,n)}function TU(n){this.exit(n)}function NU(n){mx(n,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,IU],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),PU]],{ignore:["link","linkReference"]})}function IU(n,e,t,r,i){let s="";if(!bx(i)||(/^w/i.test(e)&&(t=e+t,e="",s="http://"),!RU(t)))return!1;const o=OU(t+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function PU(n,e,t,r){return!bx(r,!0)||/[-\d_]$/.test(t)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+t,children:[{type:"text",value:e+"@"+t}]}}function RU(n){const e=n.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function OU(n){const e=/[!"&'),.:;<>?\]}]+$/.exec(n);if(!e)return[n,void 0];n=n.slice(0,e.index);let t=e[0],r=t.indexOf(")");const i=Bd(n,"(");let s=Bd(n,")");for(;r!==-1&&i>s;)n+=t.slice(0,r+1),t=t.slice(r+1),r=t.indexOf(")"),s++;return[n,t]}function bx(n,e){const t=n.input.charCodeAt(n.index-1);return(n.index===0||jo(t)||Pd(t))&&(!e||t!==47)}vx.peek=GU;function MU(){this.buffer()}function DU(n){this.enter({type:"footnoteReference",identifier:"",label:""},n)}function LU(){this.buffer()}function FU(n){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},n)}function BU(n){const e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=Ki(this.sliceSerialize(n)).toLowerCase(),t.label=e}function zU(n){this.exit(n)}function UU(n){const e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=Ki(this.sliceSerialize(n)).toLowerCase(),t.label=e}function HU(n){this.exit(n)}function GU(){return"["}function vx(n,e,t,r){const i=t.createTracker(r);let s=i.move("[^");const o=t.enter("footnoteReference"),a=t.enter("reference");return s+=i.move(t.safe(t.associationId(n),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function VU(){return{enter:{gfmFootnoteCallString:MU,gfmFootnoteCall:DU,gfmFootnoteDefinitionLabelString:LU,gfmFootnoteDefinition:FU},exit:{gfmFootnoteCallString:BU,gfmFootnoteCall:zU,gfmFootnoteDefinitionLabelString:UU,gfmFootnoteDefinition:HU}}}function jU(n){let e=!1;return n&&n.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:t,footnoteReference:vx},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function t(r,i,s,o){const a=s.createTracker(o);let l=a.move("[^");const c=s.enter("footnoteDefinition"),u=s.enter("label");return l+=a.move(s.safe(s.associationId(r),{before:l,after:"]"})),u(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),e?yx:qU))),c(),l}}function qU(n,e,t){return e===0?n:yx(n,e,t)}function yx(n,e,t){return(t?"":"    ")+n}const WU=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];wx.peek=ZU;function KU(){return{canContainEols:["delete"],enter:{strikethrough:YU},exit:{strikethrough:XU}}}function $U(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:WU}],handlers:{delete:wx}}}function YU(n){this.enter({type:"delete",children:[]},n)}function XU(n){this.exit(n)}function wx(n,e,t,r){const i=t.createTracker(r),s=t.enter("strikethrough");let o=i.move("~~");return o+=t.containerPhrasing(n,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function ZU(){return"~"}function QU(n){return n.length}function JU(n,e){const t=e||{},r=(t.align||[]).concat(),i=t.stringLength||QU,s=[],o=[],a=[],l=[];let c=0,u=-1;for(;++u<n.length;){const m=[],y=[];let v=-1;for(n[u].length>c&&(c=n[u].length);++v<n[u].length;){const A=eH(n[u][v]);if(t.alignDelimiters!==!1){const E=i(A);y[v]=E,(l[v]===void 0||E>l[v])&&(l[v]=E)}m.push(A)}o[u]=m,a[u]=y}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<c;)s[d]=_x(r[d]);else{const m=_x(r);for(;++d<c;)s[d]=m}d=-1;const h=[],f=[];for(;++d<c;){const m=s[d];let y="",v="";m===99?(y=":",v=":"):m===108?y=":":m===114&&(v=":");let A=t.alignDelimiters===!1?1:Math.max(1,l[d]-y.length-v.length);const E=y+"-".repeat(A)+v;t.alignDelimiters!==!1&&(A=y.length+A+v.length,A>l[d]&&(l[d]=A),f[d]=A),h[d]=E}o.splice(1,0,h),a.splice(1,0,f),u=-1;const g=[];for(;++u<o.length;){const m=o[u],y=a[u];d=-1;const v=[];for(;++d<c;){const A=m[d]||"";let E="",S="";if(t.alignDelimiters!==!1){const C=l[d]-(y[d]||0),x=s[d];x===114?E=" ".repeat(C):x===99?C%2?(E=" ".repeat(C/2+.5),S=" ".repeat(C/2-.5)):(E=" ".repeat(C/2),S=E):S=" ".repeat(C)}t.delimiterStart!==!1&&!d&&v.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&A==="")&&(t.delimiterStart!==!1||d)&&v.push(" "),t.alignDelimiters!==!1&&v.push(E),v.push(A),t.alignDelimiters!==!1&&v.push(S),t.padding!==!1&&v.push(" "),(t.delimiterEnd!==!1||d!==c-1)&&v.push("|")}g.push(t.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return g.join(`
`)}function eH(n){return n==null?"":String(n)}function _x(n){const e=typeof n=="string"?n.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function tH(){return{enter:{table:nH,tableData:xx,tableHeader:xx,tableRow:iH},exit:{codeText:sH,table:rH,tableData:vm,tableHeader:vm,tableRow:vm}}}function nH(n){const e=n._align;this.enter({type:"table",align:e.map(function(t){return t==="none"?null:t}),children:[]},n),this.data.inTable=!0}function rH(n){this.exit(n),this.data.inTable=void 0}function iH(n){this.enter({type:"tableRow",children:[]},n)}function vm(n){this.exit(n)}function xx(n){this.enter({type:"tableCell",children:[]},n)}function sH(n){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,oH));const t=this.stack[this.stack.length-1];t.type,t.value=e,this.exit(n)}function oH(n,e){return e==="|"?e:n}function aH(n){const e=n||{},t=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:o,tableCell:l,tableRow:a}};function o(f,g,m,y){return c(u(f,m,y),f.align)}function a(f,g,m,y){const v=d(f,m,y),A=c([v]);return A.slice(0,A.indexOf(`
`))}function l(f,g,m,y){const v=m.enter("tableCell"),A=m.enter("phrasing"),E=m.containerPhrasing(f,{...y,before:s,after:s});return A(),v(),E}function c(f,g){return JU(f,{align:g,alignDelimiters:r,padding:t,stringLength:i})}function u(f,g,m){const y=f.children;let v=-1;const A=[],E=g.enter("table");for(;++v<y.length;)A[v]=d(y[v],g,m);return E(),A}function d(f,g,m){const y=f.children;let v=-1;const A=[],E=g.enter("tableRow");for(;++v<y.length;)A[v]=l(y[v],f,g,m);return E(),A}function h(f,g,m){let y=nm.inlineCode(f,g,m);return m.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function lH(){return{exit:{taskListCheckValueChecked:Ex,taskListCheckValueUnchecked:Ex,paragraph:uH}}}function cH(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:dH}}}function Ex(n){const e=this.stack[this.stack.length-2];e.type,e.checked=n.type==="taskListCheckValueChecked"}function uH(n){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const t=this.stack[this.stack.length-1];t.type;const r=t.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===t&&(r.value=r.value.slice(1),r.value.length===0?t.children.shift():t.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,t.position.start=Object.assign({},r.position.start)))}}this.exit(n)}function dH(n,e,t,r){const i=n.children[0],s=typeof n.checked=="boolean"&&i&&i.type==="paragraph",o="["+(n.checked?"x":" ")+"] ",a=t.createTracker(r);s&&a.move(o);let l=nm.listItem(n,e,t,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(u){return u+o}}function hH(){return[xU(),VU(),KU(),tH(),lH()]}function fH(n){return{extensions:[EU(),jU(n),$U(),aH(n),cH()]}}const pH={tokenize:wH,partial:!0},Ax={tokenize:_H,partial:!0},Sx={tokenize:xH,partial:!0},kx={tokenize:EH,partial:!0},gH={tokenize:AH,partial:!0},Cx={name:"wwwAutolink",tokenize:vH,previous:Nx},Tx={name:"protocolAutolink",tokenize:yH,previous:Ix},Fs={name:"emailAutolink",tokenize:bH,previous:Px},cs={};function mH(){return{text:cs}}let Wo=48;for(;Wo<123;)cs[Wo]=Fs,Wo++,Wo===58?Wo=65:Wo===91&&(Wo=97);cs[43]=Fs,cs[45]=Fs,cs[46]=Fs,cs[95]=Fs,cs[72]=[Fs,Tx],cs[104]=[Fs,Tx],cs[87]=[Fs,Cx],cs[119]=[Fs,Cx];function bH(n,e,t){const r=this;let i,s;return o;function o(d){return!ym(d)||!Px.call(r,r.previous)||wm(r.events)?t(d):(n.enter("literalAutolink"),n.enter("literalAutolinkEmail"),a(d))}function a(d){return ym(d)?(n.consume(d),a):d===64?(n.consume(d),l):t(d)}function l(d){return d===46?n.check(gH,u,c)(d):d===45||d===95||Ir(d)?(s=!0,n.consume(d),l):u(d)}function c(d){return n.consume(d),i=!0,l}function u(d){return s&&i&&qr(r.previous)?(n.exit("literalAutolinkEmail"),n.exit("literalAutolink"),e(d)):t(d)}}function vH(n,e,t){const r=this;return i;function i(o){return o!==87&&o!==119||!Nx.call(r,r.previous)||wm(r.events)?t(o):(n.enter("literalAutolink"),n.enter("literalAutolinkWww"),n.check(pH,n.attempt(Ax,n.attempt(Sx,s),t),t)(o))}function s(o){return n.exit("literalAutolinkWww"),n.exit("literalAutolink"),e(o)}}function yH(n,e,t){const r=this;let i="",s=!1;return o;function o(d){return(d===72||d===104)&&Ix.call(r,r.previous)&&!wm(r.events)?(n.enter("literalAutolink"),n.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),n.consume(d),a):t(d)}function a(d){if(qr(d)&&i.length<5)return i+=String.fromCodePoint(d),n.consume(d),a;if(d===58){const h=i.toLowerCase();if(h==="http"||h==="https")return n.consume(d),l}return t(d)}function l(d){return d===47?(n.consume(d),s?c:(s=!0,l)):t(d)}function c(d){return d===null||Id(d)||Pn(d)||jo(d)||Pd(d)?t(d):n.attempt(Ax,n.attempt(Sx,u),t)(d)}function u(d){return n.exit("literalAutolinkHttp"),n.exit("literalAutolink"),e(d)}}function wH(n,e,t){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,n.consume(o),i):o===46&&r===3?(n.consume(o),s):t(o)}function s(o){return o===null?t(o):e(o)}}function _H(n,e,t){let r,i,s;return o;function o(c){return c===46||c===95?n.check(kx,l,a)(c):c===null||Pn(c)||jo(c)||c!==45&&Pd(c)?l(c):(s=!0,n.consume(c),o)}function a(c){return c===95?r=!0:(i=r,r=void 0),n.consume(c),o}function l(c){return i||r||!s?t(c):e(c)}}function xH(n,e){let t=0,r=0;return i;function i(o){return o===40?(t++,n.consume(o),i):o===41&&r<t?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?n.check(kx,e,s)(o):o===null||Pn(o)||jo(o)?e(o):(n.consume(o),i)}function s(o){return o===41&&r++,n.consume(o),i}}function EH(n,e,t){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(n.consume(a),r):a===38?(n.consume(a),s):a===93?(n.consume(a),i):a===60||a===null||Pn(a)||jo(a)?e(a):t(a)}function i(a){return a===null||a===40||a===91||Pn(a)||jo(a)?e(a):r(a)}function s(a){return qr(a)?o(a):t(a)}function o(a){return a===59?(n.consume(a),r):qr(a)?(n.consume(a),o):t(a)}}function AH(n,e,t){return r;function r(s){return n.consume(s),i}function i(s){return Ir(s)?t(s):e(s)}}function Nx(n){return n===null||n===40||n===42||n===95||n===91||n===93||n===126||Pn(n)}function Ix(n){return!qr(n)}function Px(n){return!(n===47||ym(n))}function ym(n){return n===43||n===45||n===46||n===95||Ir(n)}function wm(n){let e=n.length,t=!1;for(;e--;){const r=n[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){t=!0;break}if(r._gfmAutolinkLiteralWalkedInto){t=!1;break}}return n.length>0&&!t&&(n[n.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),t}const SH={tokenize:OH,partial:!0};function kH(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:IH,continuation:{tokenize:PH},exit:RH}},text:{91:{name:"gfmFootnoteCall",tokenize:NH},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:CH,resolveTo:TH}}}}function CH(n,e,t){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return t(l);const c=Ki(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?t(l):(n.enter("gfmFootnoteCallLabelMarker"),n.consume(l),n.exit("gfmFootnoteCallLabelMarker"),e(l))}}function TH(n,e){let t=n.length;for(;t--;)if(n[t][1].type==="labelImage"&&n[t][0]==="enter"){n[t][1];break}n[t+1][1].type="data",n[t+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},n[t+3][1].start),end:Object.assign({},n[n.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},n[t+3][1].end),end:Object.assign({},n[t+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},n[n.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[n[t+1],n[t+2],["enter",r,e],n[t+3],n[t+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],n[n.length-2],n[n.length-1],["exit",r,e]];return n.splice(t,n.length-t+1,...a),n}function NH(n,e,t){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(d){return n.enter("gfmFootnoteCall"),n.enter("gfmFootnoteCallLabelMarker"),n.consume(d),n.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?t(d):(n.enter("gfmFootnoteCallMarker"),n.consume(d),n.exit("gfmFootnoteCallMarker"),n.enter("gfmFootnoteCallString"),n.enter("chunkString").contentType="string",c)}function c(d){if(s>999||d===93&&!o||d===null||d===91||Pn(d))return t(d);if(d===93){n.exit("chunkString");const h=n.exit("gfmFootnoteCallString");return i.includes(Ki(r.sliceSerialize(h)))?(n.enter("gfmFootnoteCallLabelMarker"),n.consume(d),n.exit("gfmFootnoteCallLabelMarker"),n.exit("gfmFootnoteCall"),e):t(d)}return Pn(d)||(o=!0),s++,n.consume(d),d===92?u:c}function u(d){return d===91||d===92||d===93?(n.consume(d),s++,c):c(d)}}function IH(n,e,t){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(g){return n.enter("gfmFootnoteDefinition")._container=!0,n.enter("gfmFootnoteDefinitionLabel"),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(g),n.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(g){return g===94?(n.enter("gfmFootnoteDefinitionMarker"),n.consume(g),n.exit("gfmFootnoteDefinitionMarker"),n.enter("gfmFootnoteDefinitionLabelString"),n.enter("chunkString").contentType="string",u):t(g)}function u(g){if(o>999||g===93&&!a||g===null||g===91||Pn(g))return t(g);if(g===93){n.exit("chunkString");const m=n.exit("gfmFootnoteDefinitionLabelString");return s=Ki(r.sliceSerialize(m)),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(g),n.exit("gfmFootnoteDefinitionLabelMarker"),n.exit("gfmFootnoteDefinitionLabel"),h}return Pn(g)||(a=!0),o++,n.consume(g),g===92?d:u}function d(g){return g===91||g===92||g===93?(n.consume(g),o++,u):u(g)}function h(g){return g===58?(n.enter("definitionMarker"),n.consume(g),n.exit("definitionMarker"),i.includes(s)||i.push(s),un(n,f,"gfmFootnoteDefinitionWhitespace")):t(g)}function f(g){return e(g)}}function PH(n,e,t){return n.check(ic,e,n.attempt(SH,e,t))}function RH(n){n.exit("gfmFootnoteDefinition")}function OH(n,e,t){const r=this;return un(n,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):t(s)}}function MH(n){let t=(n||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return t==null&&(t=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},d={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},h=[["enter",u,a],["enter",o[c][1],a],["exit",o[c][1],a],["enter",d,a]],f=a.parser.constructs.insideSpan.null;f&&bi(h,h.length,0,Rd(f,o.slice(c+1,l),a)),bi(h,h.length,0,[["exit",d,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",u,a]]),bi(o,c-1,l-c+3,h),l=c+h.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const c=this.previous,u=this.events;let d=0;return h;function h(g){return c===126&&u[u.length-1][1].type!=="characterEscape"?l(g):(o.enter("strikethroughSequenceTemporary"),f(g))}function f(g){const m=$a(c);if(g===126)return d>1?l(g):(o.consume(g),d++,f);if(d<2&&!t)return l(g);const y=o.exit("strikethroughSequenceTemporary"),v=$a(g);return y._open=!v||v===2&&!!m,y._close=!m||m===2&&!!v,a(g)}}}class DH{constructor(){this.map=[]}add(e,t,r){LH(this,e,t,r)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let t=this.map.length;const r=[];for(;t>0;)t-=1,r.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function LH(n,e,t,r){let i=0;if(!(t===0&&r.length===0)){for(;i<n.map.length;){if(n.map[i][0]===e){n.map[i][1]+=t,n.map[i][2].push(...r);return}i+=1}n.map.push([e,t,r])}}function FH(n,e){let t=!1;const r=[];for(;e<n.length;){const i=n[e];if(t){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(n[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(n[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(t=!0);e+=1}return r}function BH(){return{flow:{null:{name:"table",tokenize:zH,resolveAll:UH}}}}function zH(n,e,t){const r=this;let i=0,s=0,o;return a;function a(O){let K=r.events.length-1;for(;K>-1;){const L=r.events[K][1].type;if(L==="lineEnding"||L==="linePrefix")K--;else break}const B=K>-1?r.events[K][1].type:null,U=B==="tableHead"||B==="tableRow"?x:l;return U===x&&r.parser.lazy[r.now().line]?t(O):U(O)}function l(O){return n.enter("tableHead"),n.enter("tableRow"),c(O)}function c(O){return O===124||(o=!0,s+=1),u(O)}function u(O){return O===null?t(O):xt(O)?s>1?(s=0,r.interrupt=!0,n.exit("tableRow"),n.enter("lineEnding"),n.consume(O),n.exit("lineEnding"),f):t(O):tn(O)?un(n,u,"whitespace")(O):(s+=1,o&&(o=!1,i+=1),O===124?(n.enter("tableCellDivider"),n.consume(O),n.exit("tableCellDivider"),o=!0,u):(n.enter("data"),d(O)))}function d(O){return O===null||O===124||Pn(O)?(n.exit("data"),u(O)):(n.consume(O),O===92?h:d)}function h(O){return O===92||O===124?(n.consume(O),d):d(O)}function f(O){return r.interrupt=!1,r.parser.lazy[r.now().line]?t(O):(n.enter("tableDelimiterRow"),o=!1,tn(O)?un(n,g,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):g(O))}function g(O){return O===45||O===58?y(O):O===124?(o=!0,n.enter("tableCellDivider"),n.consume(O),n.exit("tableCellDivider"),m):C(O)}function m(O){return tn(O)?un(n,y,"whitespace")(O):y(O)}function y(O){return O===58?(s+=1,o=!0,n.enter("tableDelimiterMarker"),n.consume(O),n.exit("tableDelimiterMarker"),v):O===45?(s+=1,v(O)):O===null||xt(O)?S(O):C(O)}function v(O){return O===45?(n.enter("tableDelimiterFiller"),A(O)):C(O)}function A(O){return O===45?(n.consume(O),A):O===58?(o=!0,n.exit("tableDelimiterFiller"),n.enter("tableDelimiterMarker"),n.consume(O),n.exit("tableDelimiterMarker"),E):(n.exit("tableDelimiterFiller"),E(O))}function E(O){return tn(O)?un(n,S,"whitespace")(O):S(O)}function S(O){return O===124?g(O):O===null||xt(O)?!o||i!==s?C(O):(n.exit("tableDelimiterRow"),n.exit("tableHead"),e(O)):C(O)}function C(O){return t(O)}function x(O){return n.enter("tableRow"),N(O)}function N(O){return O===124?(n.enter("tableCellDivider"),n.consume(O),n.exit("tableCellDivider"),N):O===null||xt(O)?(n.exit("tableRow"),e(O)):tn(O)?un(n,N,"whitespace")(O):(n.enter("data"),D(O))}function D(O){return O===null||O===124||Pn(O)?(n.exit("data"),N(O)):(n.consume(O),O===92?V:D)}function V(O){return O===92||O===124?(n.consume(O),D):D(O)}}function UH(n,e){let t=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,c,u,d;const h=new DH;for(;++t<n.length;){const f=n[t],g=f[1];f[0]==="enter"?g.type==="tableHead"?(a=!1,l!==0&&(Rx(h,e,l,c,u),u=void 0,l=0),c={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},h.add(t,0,[["enter",c,e]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(r=!0,d=void 0,s=[0,0,0,0],o=[0,t+1,0,0],a&&(a=!1,u={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},h.add(t,0,[["enter",u,e]])),i=g.type==="tableDelimiterRow"?2:u?3:1):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],d=zd(h,e,s,i,void 0,d),s=[0,0,0,0]),o[2]=t)):g.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],d=zd(h,e,s,i,void 0,d)),s=o,o=[s[1],t,0,0])):g.type==="tableHead"?(a=!0,l=t):g.type==="tableRow"||g.type==="tableDelimiterRow"?(l=t,s[1]!==0?(o[0]=o[1],d=zd(h,e,s,i,t,d)):o[1]!==0&&(d=zd(h,e,o,i,t,d)),i=0):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(o[3]=t)}for(l!==0&&Rx(h,e,l,c,u),h.consume(e.events),t=-1;++t<e.events.length;){const f=e.events[t];f[0]==="enter"&&f[1].type==="table"&&(f[1]._align=FH(e.events,t))}return n}function zd(n,e,t,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";t[0]!==0&&(s.end=Object.assign({},Ya(e.events,t[0])),n.add(t[0],0,[["exit",s,e]]));const l=Ya(e.events,t[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},n.add(t[1],0,[["enter",s,e]]),t[2]!==0){const c=Ya(e.events,t[2]),u=Ya(e.events,t[3]),d={type:a,start:Object.assign({},c),end:Object.assign({},u)};if(n.add(t[2],0,[["enter",d,e]]),r!==2){const h=e.events[t[2]],f=e.events[t[3]];if(h[1].end=Object.assign({},f[1].end),h[1].type="chunkText",h[1].contentType="text",t[3]>t[2]+1){const g=t[2]+1,m=t[3]-t[2]-1;n.add(g,m,[])}}n.add(t[3]+1,0,[["exit",d,e]])}return i!==void 0&&(s.end=Object.assign({},Ya(e.events,i)),n.add(i,0,[["exit",s,e]]),s=void 0),s}function Rx(n,e,t,r,i){const s=[],o=Ya(e.events,t);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),r.end=Object.assign({},o),s.push(["exit",r,e]),n.add(t+1,0,s)}function Ya(n,e){const t=n[e],r=t[0]==="enter"?"start":"end";return t[1][r]}const HH={name:"tasklistCheck",tokenize:VH};function GH(){return{text:{91:HH}}}function VH(n,e,t){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?t(l):(n.enter("taskListCheck"),n.enter("taskListCheckMarker"),n.consume(l),n.exit("taskListCheckMarker"),s)}function s(l){return Pn(l)?(n.enter("taskListCheckValueUnchecked"),n.consume(l),n.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(n.enter("taskListCheckValueChecked"),n.consume(l),n.exit("taskListCheckValueChecked"),o):t(l)}function o(l){return l===93?(n.enter("taskListCheckMarker"),n.consume(l),n.exit("taskListCheckMarker"),n.exit("taskListCheck"),a):t(l)}function a(l){return xt(l)?e(l):tn(l)?n.check({tokenize:jH},e,t)(l):t(l)}}function jH(n,e,t){return un(n,r,"whitespace");function r(i){return i===null?t(i):e(i)}}function qH(n){return v0([mH(),kH(),MH(n),BH(),GH()])}const WH={};function KH(n){const e=this,t=n||WH,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(qH(t)),s.push(hH()),o.push(fH(t))}const Ox=function(n,e,t){const r=ac(t);if(!n||!n.type||!n.children)throw new Error("Expected parent node");if(typeof e=="number"){if(e<0||e===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(e=n.children.indexOf(e),e<0)throw new Error("Expected child node or index");for(;++e<n.children.length;)if(r(n.children[e],e,n))return n.children[e]},Ko=function(n){if(n==null)return XH;if(typeof n=="string")return YH(n);if(typeof n=="object")return $H(n);if(typeof n=="function")return _m(n);throw new Error("Expected function, string, or array as `test`")};function $H(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=Ko(n[t]);return _m(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function YH(n){return _m(e);function e(t){return t.tagName===n}}function _m(n){return e;function e(t,r,i){return!!(ZH(t)&&n.call(this,t,typeof r=="number"?r:void 0,i||void 0))}}function XH(n){return!!(n&&typeof n=="object"&&"type"in n&&n.type==="element"&&"tagName"in n&&typeof n.tagName=="string")}function ZH(n){return n!==null&&typeof n=="object"&&"type"in n&&"tagName"in n}const Mx=/\n/g,Dx=/[\t ]+/g,xm=Ko("br"),Lx=Ko(s4),QH=Ko("p"),Fx=Ko("tr"),JH=Ko(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",i4,o4]),Bx=Ko(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function e4(n,e){const t=e||{},r="children"in n?n.children:[],i=Bx(n),s=Hx(n,{whitespace:t.whitespace||"normal"}),o=[];(n.type==="text"||n.type==="comment")&&o.push(...Ux(n,{breakBefore:!0,breakAfter:!0}));let a=-1;for(;++a<r.length;)o.push(...zx(r[a],n,{whitespace:s,breakBefore:a?void 0:i,breakAfter:a<r.length-1?xm(r[a+1]):i}));const l=[];let c;for(a=-1;++a<o.length;){const u=o[a];typeof u=="number"?c!==void 0&&u>c&&(c=u):u&&(c!==void 0&&c>-1&&l.push(`
`.repeat(c)||" "),c=-1,l.push(u))}return l.join("")}function zx(n,e,t){return n.type==="element"?t4(n,e,t):n.type==="text"?t.whitespace==="normal"?Ux(n,t):n4(n):[]}function t4(n,e,t){const r=Hx(n,t),i=n.children||[];let s=-1,o=[];if(JH(n))return o;let a,l;for(xm(n)||Fx(n)&&Ox(e,n,Fx)?l=`
`:QH(n)?(a=2,l=2):Bx(n)&&(a=1,l=1);++s<i.length;)o=o.concat(zx(i[s],n,{whitespace:r,breakBefore:s?void 0:a,breakAfter:s<i.length-1?xm(i[s+1]):l}));return Lx(n)&&Ox(e,n,Lx)&&o.push("	"),a&&o.unshift(a),l&&o.push(l),o}function Ux(n,e){const t=String(n.value),r=[],i=[];let s=0;for(;s<=t.length;){Mx.lastIndex=s;const l=Mx.exec(t),c=l&&"index"in l?l.index:t.length;r.push(r4(t.slice(s,c).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),s===0?e.breakBefore:!0,c===t.length?e.breakAfter:!0)),s=c+1}let o=-1,a;for(;++o<r.length;)r[o].charCodeAt(r[o].length-1)===8203||o<r.length-1&&r[o+1].charCodeAt(0)===8203?(i.push(r[o]),a=void 0):r[o]?(typeof a=="number"&&i.push(a),i.push(r[o]),a=0):(o===0||o===r.length-1)&&i.push(0);return i}function n4(n){return[String(n.value)]}function r4(n,e,t){const r=[];let i=0,s;for(;i<n.length;){Dx.lastIndex=i;const o=Dx.exec(n);s=o?o.index:n.length,!i&&!s&&o&&!e&&r.push(""),i!==s&&r.push(n.slice(i,s)),i=o?s+o[0].length:s}return i!==s&&!t&&r.push(""),r.join(" ")}function Hx(n,e){if(n.type==="element"){const t=n.properties||{};switch(n.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return t.wrap?"pre-wrap":"pre";case"td":case"th":return t.noWrap?"nowrap":e.whitespace;case"textarea":return"pre-wrap"}}return e.whitespace}function i4(n){return!!(n.properties||{}).hidden}function s4(n){return n.tagName==="td"||n.tagName==="th"}function o4(n){return n.tagName==="dialog"&&!(n.properties||{}).open}function a4(n){const e=n.regex,t=n.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="(?!struct)("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",a={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[n.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},n.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},u={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},d={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},n.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},t,n.C_BLOCK_COMMENT_MODE]},h={className:"title",begin:e.optional(i)+n.IDENT_RE,relevance:0},f=e.optional(i)+n.IDENT_RE+"\\s*\\(",g=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],m=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],y=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],v=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],S={type:m,keyword:g,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:y},C={className:"function.dispatch",relevance:0,keywords:{_hint:v},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,n.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},x=[C,d,a,t,n.C_BLOCK_COMMENT_MODE,u,c],N={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:S,contains:x.concat([{begin:/\(/,end:/\)/,keywords:S,contains:x.concat(["self"]),relevance:0}]),relevance:0},D={className:"function",begin:"("+o+"[\\*&\\s]+)+"+f,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:S,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:S,relevance:0},{begin:f,returnBegin:!0,contains:[h],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,u]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:S,relevance:0,contains:[t,n.C_BLOCK_COMMENT_MODE,c,u,a,{begin:/\(/,end:/\)/,keywords:S,relevance:0,contains:["self",t,n.C_BLOCK_COMMENT_MODE,c,u,a]}]},a,t,n.C_BLOCK_COMMENT_MODE,d]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:S,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(N,D,C,x,[d,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:S,contains:["self",a]},{begin:n.IDENT_RE+"::",keywords:S},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function l4(n){const e={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},t=a4(n),r=t.keywords;return r.type=[...r.type,...e.type],r.literal=[...r.literal,...e.literal],r.built_in=[...r.built_in,...e.built_in],r._hints=e._hints,t.name="Arduino",t.aliases=["ino"],t.supersetOf="cpp",t}function c4(n){const e=n.regex,t={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[t]}]};Object.assign(t,{className:"variable",variants:[{begin:e.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[n.BACKSLASH_ESCAPE]},s=n.inherit(n.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),o={begin:/<<-?\s*(?=\w+)/,starts:{contains:[n.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},a={className:"string",begin:/"/,end:/"/,contains:[n.BACKSLASH_ESCAPE,t,i]};i.contains.push(a);const l={match:/\\"/},c={className:"string",begin:/'/,end:/'/},u={match:/\\'/},d={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},n.NUMBER_MODE,t]},h=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],f=n.SHEBANG({binary:`(${h.join("|")})`,relevance:10}),g={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[n.inherit(n.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},m=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],y=["true","false"],v={match:/(\/[a-z._-]+)+/},A=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],E=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],S=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],C=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:m,literal:y,built_in:[...A,...E,"set","shopt",...S,...C]},contains:[f,n.SHEBANG(),g,d,s,o,v,a,l,c,u,t]}}function u4(n){const e=n.regex,t=n.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",a={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[n.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},n.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},u={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},d={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},n.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},t,n.C_BLOCK_COMMENT_MODE]},h={className:"title",begin:e.optional(i)+n.IDENT_RE,relevance:0},f=e.optional(i)+n.IDENT_RE+"\\s*\\(",y={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},v=[d,a,t,n.C_BLOCK_COMMENT_MODE,u,c],A={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:y,contains:v.concat([{begin:/\(/,end:/\)/,keywords:y,contains:v.concat(["self"]),relevance:0}]),relevance:0},E={begin:"("+o+"[\\*&\\s]+)+"+f,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:y,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:y,relevance:0},{begin:f,returnBegin:!0,contains:[n.inherit(h,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:y,relevance:0,contains:[t,n.C_BLOCK_COMMENT_MODE,c,u,a,{begin:/\(/,end:/\)/,keywords:y,relevance:0,contains:["self",t,n.C_BLOCK_COMMENT_MODE,c,u,a]}]},a,t,n.C_BLOCK_COMMENT_MODE,d]};return{name:"C",aliases:["h"],keywords:y,disableAutodetect:!0,illegal:"</",contains:[].concat(A,E,v,[d,{begin:n.IDENT_RE+"::",keywords:y},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},n.TITLE_MODE]}]),exports:{preprocessor:d,strings:c,keywords:y}}}function d4(n){const e=n.regex,t=n.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="(?!struct)("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",a={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[n.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},n.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},u={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},d={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},n.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},t,n.C_BLOCK_COMMENT_MODE]},h={className:"title",begin:e.optional(i)+n.IDENT_RE,relevance:0},f=e.optional(i)+n.IDENT_RE+"\\s*\\(",g=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],m=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],y=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],v=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],S={type:m,keyword:g,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:y},C={className:"function.dispatch",relevance:0,keywords:{_hint:v},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,n.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},x=[C,d,a,t,n.C_BLOCK_COMMENT_MODE,u,c],N={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:S,contains:x.concat([{begin:/\(/,end:/\)/,keywords:S,contains:x.concat(["self"]),relevance:0}]),relevance:0},D={className:"function",begin:"("+o+"[\\*&\\s]+)+"+f,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:S,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:S,relevance:0},{begin:f,returnBegin:!0,contains:[h],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,u]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:S,relevance:0,contains:[t,n.C_BLOCK_COMMENT_MODE,c,u,a,{begin:/\(/,end:/\)/,keywords:S,relevance:0,contains:["self",t,n.C_BLOCK_COMMENT_MODE,c,u,a]}]},a,t,n.C_BLOCK_COMMENT_MODE,d]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:S,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(N,D,C,x,[d,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:S,contains:["self",a]},{begin:n.IDENT_RE+"::",keywords:S},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function h4(n){const e=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],t=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],r=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],s=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],o={keyword:i.concat(s),built_in:e,literal:r},a=n.inherit(n.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),l={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},c={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},u={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},d=n.inherit(u,{illegal:/\n/}),h={className:"subst",begin:/\{/,end:/\}/,keywords:o},f=n.inherit(h,{illegal:/\n/}),g={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},n.BACKSLASH_ESCAPE,f]},m={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},h]},y=n.inherit(m,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},f]});h.contains=[m,g,u,n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,l,n.C_BLOCK_COMMENT_MODE],f.contains=[y,g,d,n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,l,n.inherit(n.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const v={variants:[c,m,g,u,n.APOS_STRING_MODE,n.QUOTE_STRING_MODE]},A={begin:"<",end:">",contains:[{beginKeywords:"in out"},a]},E=n.IDENT_RE+"(<"+n.IDENT_RE+"(\\s*,\\s*"+n.IDENT_RE+")*>)?(\\[\\])?",S={begin:"@"+n.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:o,illegal:/::/,contains:[n.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},v,l,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},a,A,n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[a,n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[a,A,n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+E+"\\s+)+"+n.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:o,contains:[{beginKeywords:t.join(" "),relevance:0},{begin:n.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[n.TITLE_MODE,A],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,relevance:0,contains:[v,l,n.C_BLOCK_COMMENT_MODE]},n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE]},S]}}const f4=n=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:n.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[n.APOS_STRING_MODE,n.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:n.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),p4=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],g4=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],m4=[...p4,...g4],b4=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),v4=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),y4=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),w4=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function _4(n){const e=n.regex,t=f4(n),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",s=/@-?\w[\w]*(-\w+)*/,o="[a-zA-Z-][a-zA-Z0-9_-]*",a=[n.APOS_STRING_MODE,n.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[t.BLOCK_COMMENT,r,t.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+o,relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+v4.join("|")+")"},{begin:":(:)?("+y4.join("|")+")"}]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+w4.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[t.BLOCK_COMMENT,t.HEXCOLOR,t.IMPORTANT,t.CSS_NUMBER_MODE,...a,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...a,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},t.FUNCTION_DISPATCH]},{begin:e.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:b4.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...a,t.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+m4.join("|")+")\\b"}]}}function x4(n){const e=n.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:e.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:e.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function E4(n){const s={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:s,illegal:"</",contains:[n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,{className:"string",variants:[n.QUOTE_STRING_MODE,n.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[n.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:s,illegal:/["']/}]}]}}function A4(n){const e=n.regex,t=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[n.HASH_COMMENT_MODE,n.QUOTE_STRING_MODE,n.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:e.concat(t,e.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function S4(n){const e=n.regex,t={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:n.NUMBER_RE}]},r=n.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},s={className:"literal",begin:/\bon|off|true|false|yes|no\b/},o={className:"string",contains:[n.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},a={begin:/\[/,end:/\]/,contains:[r,s,i,o,t,"self"],relevance:0},l=/[A-Za-z0-9_-]+/,c=/"(\\"|[^"])*"/,u=/'[^']*'/,d=e.either(l,c,u),h=e.concat(d,"(\\s*\\.\\s*",d,")*",e.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:h,className:"attr",starts:{end:/$/,contains:[r,a,s,i,o,t]}}]}}var Xa="[0-9](_*[0-9])*",Ud=`\\.(${Xa})`,Hd="[0-9a-fA-F](_*[0-9a-fA-F])*",Gx={className:"number",variants:[{begin:`(\\b(${Xa})((${Ud})|\\.)?|(${Ud}))[eE][+-]?(${Xa})[fFdD]?\\b`},{begin:`\\b(${Xa})((${Ud})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Ud})[fFdD]?\\b`},{begin:`\\b(${Xa})[fFdD]\\b`},{begin:`\\b0[xX]((${Hd})\\.?|(${Hd})?\\.(${Hd}))[pP][+-]?(${Xa})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Hd})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function Vx(n,e,t){return t===-1?"":n.replace(e,r=>Vx(n,e,t-1))}function k4(n){const e=n.regex,t="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=t+Vx("(?:<"+t+"~~~(?:\\s*,\\s*"+t+"~~~)*>)?",/~~~/g,2),l={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},c={className:"meta",begin:"@"+t,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},u={className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[n.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:l,illegal:/<\/|#/,contains:[n.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[n.BACKSLASH_ESCAPE]},n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,t],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[e.concat(/(?!else)/,t),/\s+/,t,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,t],className:{1:"keyword",3:"title.class"},contains:[u,n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",n.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:l,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[c,n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,Gx,n.C_BLOCK_COMMENT_MODE]},n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE]},Gx,c]}}const jx="[A-Za-z$_][0-9A-Za-z$_]*",C4=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],T4=["true","false","null","undefined","NaN","Infinity"],qx=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Wx=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Kx=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],N4=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],I4=[].concat(Kx,qx,Wx);function P4(n){const e=n.regex,t=(X,{after:le})=>{const R="</"+X[0].slice(1);return X.input.indexOf(R,le)!==-1},r=jx,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(X,le)=>{const R=X[0].length+X.index,Ae=X.input[R];if(Ae==="<"||Ae===","){le.ignoreMatch();return}Ae===">"&&(t(X,{after:R})||le.ignoreMatch());let ke;const M=X.input.substring(R);if(ke=M.match(/^\s*=/)){le.ignoreMatch();return}if((ke=M.match(/^\s+extends\s+/))&&ke.index===0){le.ignoreMatch();return}}},a={$pattern:jx,keyword:C4,literal:T4,built_in:I4,"variable.language":N4},l="[0-9](_?[0-9])*",c=`\\.(${l})`,u="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",d={className:"number",variants:[{begin:`(\\b(${u})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${u})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},h={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},f={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[n.BACKSLASH_ESCAPE,h],subLanguage:"xml"}},g={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[n.BACKSLASH_ESCAPE,h],subLanguage:"css"}},m={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[n.BACKSLASH_ESCAPE,h],subLanguage:"graphql"}},y={className:"string",begin:"`",end:"`",contains:[n.BACKSLASH_ESCAPE,h]},A={className:"comment",variants:[n.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),n.C_BLOCK_COMMENT_MODE,n.C_LINE_COMMENT_MODE]},E=[n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,f,g,m,y,{match:/\$\d+/},d];h.contains=E.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(E)});const S=[].concat(A,h.contains),C=S.concat([{begin:/(\s*)\(/,end:/\)/,keywords:a,contains:["self"].concat(S)}]),x={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:C},N={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},D={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...qx,...Wx]}},V={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},O={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[x],illegal:/%/},K={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function B(X){return e.concat("(?!",X.join("|"),")")}const U={match:e.concat(/\b/,B([...Kx,"super","import"].map(X=>`${X}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},L={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},W={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},x]},H="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+n.UNDERSCORE_IDENT_RE+")\\s*=>",Q={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(H)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[x]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:C,CLASS_REFERENCE:D},illegal:/#(?![$_A-z])/,contains:[n.SHEBANG({label:"shebang",binary:"node",relevance:5}),V,n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,f,g,m,y,A,{match:/\$\d+/},d,D,{scope:"attr",match:r+e.lookahead(":"),relevance:0},Q,{begin:"("+n.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[A,n.REGEXP_MODE,{className:"function",begin:H,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:n.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:C}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},O,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+n.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[x,n.inherit(n.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},L,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[x]},U,K,N,W,{match:/\$[(.]/}]}}function R4(n){const e={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},t={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],i={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[e,t,n.QUOTE_STRING_MODE,i,n.C_NUMBER_MODE,n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var Za="[0-9](_*[0-9])*",Gd=`\\.(${Za})`,Vd="[0-9a-fA-F](_*[0-9a-fA-F])*",O4={className:"number",variants:[{begin:`(\\b(${Za})((${Gd})|\\.)?|(${Gd}))[eE][+-]?(${Za})[fFdD]?\\b`},{begin:`\\b(${Za})((${Gd})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Gd})[fFdD]?\\b`},{begin:`\\b(${Za})[fFdD]\\b`},{begin:`\\b0[xX]((${Vd})\\.?|(${Vd})?\\.(${Vd}))[pP][+-]?(${Za})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Vd})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function M4(n){const e={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},t={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},r={className:"symbol",begin:n.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[n.C_NUMBER_MODE]},s={className:"variable",begin:"\\$"+n.UNDERSCORE_IDENT_RE},o={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[s,i]},{begin:"'",end:"'",illegal:/\n/,contains:[n.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[n.BACKSLASH_ESCAPE,s,i]}]};i.contains.push(o);const a={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+n.UNDERSCORE_IDENT_RE+")?"},l={className:"meta",begin:"@"+n.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[n.inherit(o,{className:"string"}),"self"]}]},c=O4,u=n.COMMENT("/\\*","\\*/",{contains:[n.C_BLOCK_COMMENT_MODE]}),d={variants:[{className:"type",begin:n.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},h=d;return h.variants[1].contains=[d],d.variants[1].contains=[h],{name:"Kotlin",aliases:["kt","kts"],keywords:e,contains:[n.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),n.C_LINE_COMMENT_MODE,u,t,r,a,l,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:e,relevance:5,contains:[{begin:n.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[n.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:e,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[d,n.C_LINE_COMMENT_MODE,u],relevance:0},n.C_LINE_COMMENT_MODE,u,a,l,o,n.C_NUMBER_MODE]},u]},{begin:[/class|interface|trait/,/\s+/,n.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},n.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},a,l]},o,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},c]}}const D4=n=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:n.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[n.APOS_STRING_MODE,n.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:n.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),L4=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],F4=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],B4=[...L4,...F4],z4=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),$x=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Yx=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),U4=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),H4=$x.concat(Yx).sort().reverse();function G4(n){const e=D4(n),t=H4,r="and or not only",i="[\\w-]+",s="("+i+"|@\\{"+i+"\\})",o=[],a=[],l=function(E){return{className:"string",begin:"~?"+E+".*?"+E}},c=function(E,S,C){return{className:E,begin:S,relevance:C}},u={$pattern:/[a-z-]+/,keyword:r,attribute:z4.join(" ")},d={begin:"\\(",end:"\\)",contains:a,keywords:u,relevance:0};a.push(n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,l("'"),l('"'),e.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},e.HEXCOLOR,d,c("variable","@@?"+i,10),c("variable","@\\{"+i+"\\}"),c("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},e.IMPORTANT,{beginKeywords:"and not"},e.FUNCTION_DISPATCH);const h=a.concat({begin:/\{/,end:/\}/,contains:o}),f={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(a)},g={begin:s+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+U4.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:a}}]},m={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:u,returnEnd:!0,contains:a,relevance:0}},y={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:h}},v={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:s,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,f,c("keyword","all\\b"),c("variable","@\\{"+i+"\\}"),{begin:"\\b("+B4.join("|")+")\\b",className:"selector-tag"},e.CSS_NUMBER_MODE,c("selector-tag",s,0),c("selector-id","#"+s),c("selector-class","\\."+s,0),c("selector-tag","&",0),e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+$x.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+Yx.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:h},{begin:"!important"},e.FUNCTION_DISPATCH]},A={begin:i+`:(:)?(${t.join("|")})`,returnBegin:!0,contains:[v]};return o.push(n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,m,y,A,g,v,f,e.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:o}}function V4(n){const e="\\[=*\\[",t="\\]=*\\]",r={begin:e,end:t,contains:["self"]},i=[n.COMMENT("--(?!"+e+")","$"),n.COMMENT("--"+e,t,{contains:[r],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:n.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[n.inherit(n.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},n.C_NUMBER_MODE,n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,{className:"string",begin:e,end:t,contains:[r],relevance:5}])}}function j4(n){const e={className:"variable",variants:[{begin:"\\$\\("+n.UNDERSCORE_IDENT_RE+"\\)",contains:[n.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},t={className:"string",begin:/"/,end:/"/,contains:[n.BACKSLASH_ESCAPE,e]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[e,t]},i={begin:"^"+n.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},s={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},o={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[e]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[n.HASH_COMMENT_MODE,e,t,r,i,s,o]}}function q4(n){const e=n.regex,t={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},s={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},o={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},a=/[A-Za-z][A-Za-z0-9+.-]*/,l={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:e.concat(/\[.+?\]\(/,a,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},c={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},u={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},d=n.inherit(c,{contains:[]}),h=n.inherit(u,{contains:[]});c.contains.push(h),u.contains.push(d);let f=[t,l];return[c,u,d,h].forEach(v=>{v.contains=v.contains.concat(f)}),f=f.concat(c,u),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:f},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:f}]}]},t,s,c,u,{className:"quote",begin:"^>\\s+",contains:f,end:"$"},i,r,l,o,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function W4(n){const e={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},t=/[a-zA-Z@][a-zA-Z0-9_]*/,a={"variable.language":["this","super"],$pattern:t,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},l={$pattern:t,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:a,illegal:"</",contains:[e,n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,n.C_NUMBER_MODE,n.QUOTE_STRING_MODE,n.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[n.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},n.inherit(n.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+l.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:l,contains:[n.UNDERSCORE_TITLE_MODE]},{begin:"\\."+n.UNDERSCORE_IDENT_RE,relevance:0}]}}function K4(n){const e=n.regex,t=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],r=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:t.join(" ")},s={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},o={begin:/->\{/,end:/\}/},a={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},l={scope:"variable",variants:[{begin:/\$\d/},{begin:e.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[a]},c={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},u=[n.BACKSLASH_ESCAPE,s,l],d=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],h=(m,y,v="\\1")=>{const A=v==="\\1"?v:e.concat(v,y);return e.concat(e.concat("(?:",m,")"),y,/(?:\\.|[^\\\/])*?/,A,/(?:\\.|[^\\\/])*?/,v,r)},f=(m,y,v)=>e.concat(e.concat("(?:",m,")"),y,/(?:\\.|[^\\\/])*?/,v,r),g=[l,n.HASH_COMMENT_MODE,n.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),o,{className:"string",contains:u,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[n.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[n.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},c,{begin:"(\\/\\/|"+n.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[n.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:h("s|tr|y",e.either(...d,{capture:!0}))},{begin:h("s|tr|y","\\(","\\)")},{begin:h("s|tr|y","\\[","\\]")},{begin:h("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:f("(?:m|qr)?",/\//,/\//)},{begin:f("m|qr",e.either(...d,{capture:!0}),/\1/)},{begin:f("m|qr",/\(/,/\)/)},{begin:f("m|qr",/\[/,/\]/)},{begin:f("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[n.TITLE_MODE,a]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[n.TITLE_MODE,a,c]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return s.contains=g,o.contains=g,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:g}}function $4(n){const e=n.regex,t=/(?![A-Za-z0-9])(?![$])/,r=e.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,t),i=e.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,t),s=e.concat(/[A-Z]+/,t),o={scope:"variable",match:"\\$+"+r},a={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},l={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},c=n.inherit(n.APOS_STRING_MODE,{illegal:null}),u=n.inherit(n.QUOTE_STRING_MODE,{illegal:null,contains:n.QUOTE_STRING_MODE.contains.concat(l)}),d={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:n.QUOTE_STRING_MODE.contains.concat(l),"on:begin":(L,W)=>{W.data._beginMatch=L[1]||L[2]},"on:end":(L,W)=>{W.data._beginMatch!==L[1]&&W.ignoreMatch()}},h=n.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),f=`[ 	
]`,g={scope:"string",variants:[u,c,d,h]},m={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},y=["false","null","true"],v=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],A=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],S={keyword:v,literal:(L=>{const W=[];return L.forEach(H=>{W.push(H),H.toLowerCase()===H?W.push(H.toUpperCase()):W.push(H.toLowerCase())}),W})(y),built_in:A},C=L=>L.map(W=>W.replace(/\|\d+$/,"")),x={variants:[{match:[/new/,e.concat(f,"+"),e.concat("(?!",C(A).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},N=e.concat(r,"\\b(?!\\()"),D={variants:[{match:[e.concat(/::/,e.lookahead(/(?!class\b)/)),N],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,e.concat(/::/,e.lookahead(/(?!class\b)/)),N],scope:{1:"title.class",3:"variable.constant"}},{match:[i,e.concat("::",e.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},V={scope:"attr",match:e.concat(r,e.lookahead(":"),e.lookahead(/(?!::)/))},O={relevance:0,begin:/\(/,end:/\)/,keywords:S,contains:[V,o,D,n.C_BLOCK_COMMENT_MODE,g,m,x]},K={relevance:0,match:[/\b/,e.concat("(?!fn\\b|function\\b|",C(v).join("\\b|"),"|",C(A).join("\\b|"),"\\b)"),r,e.concat(f,"*"),e.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[O]};O.contains.push(K);const B=[V,D,n.C_BLOCK_COMMENT_MODE,g,m,x],U={begin:e.concat(/#\[\s*\\?/,e.either(i,s)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:y,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:y,keyword:["new","array"]},contains:["self",...B]},...B,{scope:"meta",variants:[{match:i},{match:s}]}]};return{case_insensitive:!1,keywords:S,contains:[U,n.HASH_COMMENT_MODE,n.COMMENT("//","$"),n.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:n.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},a,{scope:"variable.language",match:/\$this\b/},o,K,D,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},x,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},n.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:S,contains:["self",U,o,D,n.C_BLOCK_COMMENT_MODE,g,m]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},n.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[n.inherit(n.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},n.UNDERSCORE_TITLE_MODE]},g,m]}}function Y4(n){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},n.inherit(n.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),n.inherit(n.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function X4(n){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function Z4(n){const e=n.regex,t=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],a={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},l={className:"meta",begin:/^(>>>|\.\.\.) /},c={className:"subst",begin:/\{/,end:/\}/,keywords:a,illegal:/#/},u={begin:/\{\{/,relevance:0},d={className:"string",contains:[n.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[n.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[n.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[n.BACKSLASH_ESCAPE,l,u,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[n.BACKSLASH_ESCAPE,l,u,c]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[n.BACKSLASH_ESCAPE,u,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[n.BACKSLASH_ESCAPE,u,c]},n.APOS_STRING_MODE,n.QUOTE_STRING_MODE]},h="[0-9](_?[0-9])*",f=`(\\b(${h}))?\\.(${h})|\\b(${h})\\.`,g=`\\b|${r.join("|")}`,m={className:"number",relevance:0,variants:[{begin:`(\\b(${h})|(${f}))[eE][+-]?(${h})[jJ]?(?=${g})`},{begin:`(${f})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${g})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${g})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${g})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${g})`},{begin:`\\b(${h})[jJ](?=${g})`}]},y={className:"comment",begin:e.lookahead(/# type:/),end:/$/,keywords:a,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},v={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:["self",l,m,d,n.HASH_COMMENT_MODE]}]};return c.contains=[d,m,l],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:a,illegal:/(<\/|\?)|=>/,contains:[l,m,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},d,y,n.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,t],scope:{1:"keyword",3:"title.function"},contains:[v]},{variants:[{match:[/\bclass/,/\s+/,t,/\s*/,/\(\s*/,t,/\s*\)/]},{match:[/\bclass/,/\s+/,t]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[m,v,d]}]}}function Q4(n){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function J4(n){const e=n.regex,t=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=e.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,s=e.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:t,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[n.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:e.lookahead(e.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:t},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),n.HASH_COMMENT_MODE,{scope:"string",contains:[n.BACKSLASH_ESCAPE],variants:[n.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),n.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),n.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),n.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),n.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),n.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[s,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[t,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:s},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function e5(n){const e=n.regex,t="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=e.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=e.concat(r,/(::\w+)*/),o={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},a={className:"doctag",begin:"@[A-Za-z]+"},l={begin:"#<",end:">"},c=[n.COMMENT("#","$",{contains:[a]}),n.COMMENT("^=begin","^=end",{contains:[a],relevance:10}),n.COMMENT("^__END__",n.MATCH_NOTHING_RE)],u={className:"subst",begin:/#\{/,end:/\}/,keywords:o},d={className:"string",contains:[n.BACKSLASH_ESCAPE,u],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:e.concat(/<<[-~]?'?/,e.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[n.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[n.BACKSLASH_ESCAPE,u]})]}]},h="[1-9](_?[0-9])*|0",f="[0-9](_?[0-9])*",g={className:"number",relevance:0,variants:[{begin:`\\b(${h})(\\.(${f}))?([eE][+-]?(${f})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},m={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:o}]},x=[d,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:o},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:o},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,t],scope:{1:"keyword",3:"title.function"},contains:[m]},{begin:n.IDENT_RE+"::"},{className:"symbol",begin:n.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[d,{begin:t}],relevance:0},g,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:o},{begin:"("+n.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[n.BACKSLASH_ESCAPE,u],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(l,c),relevance:0}].concat(l,c);u.contains=x,m.contains=x;const O=[{begin:/^\s*=>/,starts:{end:"$",contains:x}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:o,contains:x}}];return c.unshift(l),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:o,illegal:/\/\*/,contains:[n.SHEBANG({binary:"ruby"})].concat(O).concat(c).concat(x)}}function t5(n){const e=n.regex,t=/(r#)?/,r=e.concat(t,n.UNDERSCORE_IDENT_RE),i=e.concat(t,n.IDENT_RE),s={className:"title.function.invoke",relevance:0,begin:e.concat(/\b/,/(?!let|for|while|if|else|match\b)/,i,e.lookahead(/\s*\(/))},o="([ui](8|16|32|64|128|size)|f(32|64))?",a=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],l=["true","false","Some","None","Ok","Err"],c=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],u=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:n.IDENT_RE+"!?",type:u,keyword:a,literal:l,built_in:c},illegal:"</",contains:[n.C_LINE_COMMENT_MODE,n.COMMENT("/\\*","\\*/",{contains:["self"]}),n.inherit(n.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+o},{begin:"\\b0o([0-7_]+)"+o},{begin:"\\b0x([A-Fa-f0-9_]+)"+o},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+o}],relevance:0},{begin:[/fn/,/\s+/,r],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[n.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,r],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,r,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:n.IDENT_RE+"::",keywords:{keyword:"Self",built_in:c,type:u}},{className:"punctuation",begin:"->"},s]}}const n5=n=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:n.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[n.APOS_STRING_MODE,n.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:n.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),r5=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],i5=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],s5=[...r5,...i5],o5=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),a5=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),l5=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),c5=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function u5(n){const e=n5(n),t=l5,r=a5,i="@[a-z-]+",s="and or not only",a={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,e.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+s5.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+t.join("|")+")"},a,{begin:/\(/,end:/\)/,contains:[e.CSS_NUMBER_MODE]},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+c5.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[e.BLOCK_COMMENT,a,e.HEXCOLOR,e.CSS_NUMBER_MODE,n.QUOTE_STRING_MODE,n.APOS_STRING_MODE,e.IMPORTANT,e.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:o5.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},a,n.QUOTE_STRING_MODE,n.APOS_STRING_MODE,e.HEXCOLOR,e.CSS_NUMBER_MODE]},e.FUNCTION_DISPATCH]}}function d5(n){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function h5(n){const e=n.regex,t=n.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},i={begin:/"/,end:/"/,contains:[{match:/""/}]},s=["true","false","unknown"],o=["double precision","large object","with timezone","without timezone"],a=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],l=["add","asc","collation","desc","final","first","last","view"],c=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],u=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],d=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],h=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],f=u,g=[...c,...l].filter(C=>!u.includes(C)),m={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},y={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},v={match:e.concat(/\b/,e.either(...f),/\s*\(/),relevance:0,keywords:{built_in:f}};function A(C){return e.concat(/\b/,e.either(...C.map(x=>x.replace(/\s+/,"\\s+"))),/\b/)}const E={scope:"keyword",match:A(h),relevance:0};function S(C,{exceptions:x,when:N}={}){const D=N;return x=x||[],C.map(V=>V.match(/\|\d+$/)||x.includes(V)?V:D(V)?`${V}|0`:V)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:S(g,{when:C=>C.length<3}),literal:s,type:a,built_in:d},contains:[{scope:"type",match:A(o)},E,v,m,r,i,n.C_NUMBER_MODE,n.C_BLOCK_COMMENT_MODE,t,y]}}function Xx(n){return n?typeof n=="string"?n:n.source:null}function cc(n){return xn("(?=",n,")")}function xn(...n){return n.map(t=>Xx(t)).join("")}function f5(n){const e=n[n.length-1];return typeof e=="object"&&e.constructor===Object?(n.splice(n.length-1,1),e):{}}function Wr(...n){return"("+(f5(n).capture?"":"?:")+n.map(r=>Xx(r)).join("|")+")"}const Em=n=>xn(/\b/,n,/\w$/.test(n)?/\b/:/\B/),p5=["Protocol","Type"].map(Em),Zx=["init","self"].map(Em),g5=["Any","Self"],Am=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],Qx=["false","nil","true"],m5=["assignment","associativity","higherThan","left","lowerThan","none","right"],b5=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],Jx=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],eE=Wr(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),tE=Wr(eE,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),Sm=xn(eE,tE,"*"),nE=Wr(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),jd=Wr(nE,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),us=xn(nE,jd,"*"),qd=xn(/[A-Z]/,jd,"*"),v5=["attached","autoclosure",xn(/convention\(/,Wr("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",xn(/objc\(/,us,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],y5=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function w5(n){const e={match:/\s+/,relevance:0},t=n.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[n.C_LINE_COMMENT_MODE,t],i={match:[/\./,Wr(...p5,...Zx)],className:{2:"keyword"}},s={match:xn(/\./,Wr(...Am)),relevance:0},o=Am.filter(Ut=>typeof Ut=="string").concat(["_|0"]),a=Am.filter(Ut=>typeof Ut!="string").concat(g5).map(Em),l={variants:[{className:"keyword",match:Wr(...a,...Zx)}]},c={$pattern:Wr(/\b\w+/,/#\w+/),keyword:o.concat(b5),literal:Qx},u=[i,s,l],d={match:xn(/\./,Wr(...Jx)),relevance:0},h={className:"built_in",match:xn(/\b/,Wr(...Jx),/(?=\()/)},f=[d,h],g={match:/->/,relevance:0},m={className:"operator",relevance:0,variants:[{match:Sm},{match:`\\.(\\.|${tE})+`}]},y=[g,m],v="([0-9]_*)+",A="([0-9a-fA-F]_*)+",E={className:"number",relevance:0,variants:[{match:`\\b(${v})(\\.(${v}))?([eE][+-]?(${v}))?\\b`},{match:`\\b0x(${A})(\\.(${A}))?([pP][+-]?(${v}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},S=(Ut="")=>({className:"subst",variants:[{match:xn(/\\/,Ut,/[0\\tnr"']/)},{match:xn(/\\/,Ut,/u\{[0-9a-fA-F]{1,8}\}/)}]}),C=(Ut="")=>({className:"subst",match:xn(/\\/,Ut,/[\t ]*(?:[\r\n]|\r\n)/)}),x=(Ut="")=>({className:"subst",label:"interpol",begin:xn(/\\/,Ut,/\(/),end:/\)/}),N=(Ut="")=>({begin:xn(Ut,/"""/),end:xn(/"""/,Ut),contains:[S(Ut),C(Ut),x(Ut)]}),D=(Ut="")=>({begin:xn(Ut,/"/),end:xn(/"/,Ut),contains:[S(Ut),x(Ut)]}),V={className:"string",variants:[N(),N("#"),N("##"),N("###"),D(),D("#"),D("##"),D("###")]},O=[n.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[n.BACKSLASH_ESCAPE]}],K={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:O},B=Ut=>{const ar=xn(Ut,/\//),Un=xn(/\//,Ut);return{begin:ar,end:Un,contains:[...O,{scope:"comment",begin:`#(?!.*${Un})`,end:/$/}]}},U={scope:"regexp",variants:[B("###"),B("##"),B("#"),K]},L={match:xn(/`/,us,/`/)},W={className:"variable",match:/\$\d+/},H={className:"variable",match:`\\$${jd}+`},Q=[L,W,H],X={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:y5,contains:[...y,E,V]}]}},le={scope:"keyword",match:xn(/@/,Wr(...v5),cc(Wr(/\(/,/\s+/)))},R={scope:"meta",match:xn(/@/,us)},Ae=[X,le,R],ke={match:cc(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:xn(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,jd,"+")},{className:"type",match:qd,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:xn(/\s+&\s+/,cc(qd)),relevance:0}]},M={begin:/</,end:/>/,keywords:c,contains:[...r,...u,...Ae,g,ke]};ke.contains.push(M);const fe={match:xn(us,/\s*:/),keywords:"_|0",relevance:0},Oe={begin:/\(/,end:/\)/,relevance:0,keywords:c,contains:["self",fe,...r,U,...u,...f,...y,E,V,...Q,...Ae,ke]},Le={begin:/</,end:/>/,keywords:"repeat each",contains:[...r,ke]},Pe={begin:Wr(cc(xn(us,/\s*:/)),cc(xn(us,/\s+/,us,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:us}]},$e={begin:/\(/,end:/\)/,keywords:c,contains:[Pe,...r,...u,...y,E,V,...Ae,ke,Oe],endsParent:!0,illegal:/["']/},Fe={match:[/(func|macro)/,/\s+/,Wr(L.match,us,Sm)],className:{1:"keyword",3:"title.function"},contains:[Le,$e,e],illegal:[/\[/,/%/]},nn={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[Le,$e,e],illegal:/\[|%/},wt={match:[/operator/,/\s+/,Sm],className:{1:"keyword",3:"title"}},ut={begin:[/precedencegroup/,/\s+/,qd],className:{1:"keyword",3:"title"},contains:[ke],keywords:[...m5,...Qx],end:/}/},Vt={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},rn={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},it={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,us,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:c,contains:[Le,...u,{begin:/:/,end:/\{/,keywords:c,contains:[{scope:"title.class.inherited",match:qd},...u],relevance:0}]};for(const Ut of V.variants){const ar=Ut.contains.find(lr=>lr.label==="interpol");ar.keywords=c;const Un=[...u,...f,...y,E,V,...Q];ar.contains=[...Un,{begin:/\(/,end:/\)/,contains:["self",...Un]}]}return{name:"Swift",keywords:c,contains:[...r,Fe,nn,Vt,rn,it,wt,ut,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},U,...u,...f,...y,E,V,...Q,...Ae,ke,Oe]}}const Wd="[A-Za-z$_][0-9A-Za-z$_]*",rE=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],iE=["true","false","null","undefined","NaN","Infinity"],sE=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],oE=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],aE=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],lE=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],cE=[].concat(aE,sE,oE);function _5(n){const e=n.regex,t=(X,{after:le})=>{const R="</"+X[0].slice(1);return X.input.indexOf(R,le)!==-1},r=Wd,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(X,le)=>{const R=X[0].length+X.index,Ae=X.input[R];if(Ae==="<"||Ae===","){le.ignoreMatch();return}Ae===">"&&(t(X,{after:R})||le.ignoreMatch());let ke;const M=X.input.substring(R);if(ke=M.match(/^\s*=/)){le.ignoreMatch();return}if((ke=M.match(/^\s+extends\s+/))&&ke.index===0){le.ignoreMatch();return}}},a={$pattern:Wd,keyword:rE,literal:iE,built_in:cE,"variable.language":lE},l="[0-9](_?[0-9])*",c=`\\.(${l})`,u="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",d={className:"number",variants:[{begin:`(\\b(${u})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${u})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},h={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},f={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[n.BACKSLASH_ESCAPE,h],subLanguage:"xml"}},g={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[n.BACKSLASH_ESCAPE,h],subLanguage:"css"}},m={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[n.BACKSLASH_ESCAPE,h],subLanguage:"graphql"}},y={className:"string",begin:"`",end:"`",contains:[n.BACKSLASH_ESCAPE,h]},A={className:"comment",variants:[n.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),n.C_BLOCK_COMMENT_MODE,n.C_LINE_COMMENT_MODE]},E=[n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,f,g,m,y,{match:/\$\d+/},d];h.contains=E.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(E)});const S=[].concat(A,h.contains),C=S.concat([{begin:/(\s*)\(/,end:/\)/,keywords:a,contains:["self"].concat(S)}]),x={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:C},N={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},D={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...sE,...oE]}},V={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},O={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[x],illegal:/%/},K={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function B(X){return e.concat("(?!",X.join("|"),")")}const U={match:e.concat(/\b/,B([...aE,"super","import"].map(X=>`${X}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},L={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},W={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},x]},H="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+n.UNDERSCORE_IDENT_RE+")\\s*=>",Q={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(H)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[x]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:C,CLASS_REFERENCE:D},illegal:/#(?![$_A-z])/,contains:[n.SHEBANG({label:"shebang",binary:"node",relevance:5}),V,n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,f,g,m,y,A,{match:/\$\d+/},d,D,{scope:"attr",match:r+e.lookahead(":"),relevance:0},Q,{begin:"("+n.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[A,n.REGEXP_MODE,{className:"function",begin:H,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:n.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:C}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},O,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+n.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[x,n.inherit(n.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},L,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[x]},U,K,N,W,{match:/\$[(.]/}]}}function x5(n){const e=n.regex,t=_5(n),r=Wd,i=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],s={begin:[/namespace/,/\s+/,n.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},o={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[t.exports.CLASS_REFERENCE]},a={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},l=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],c={$pattern:Wd,keyword:rE.concat(l),literal:iE,built_in:cE.concat(i),"variable.language":lE},u={className:"meta",begin:"@"+r},d=(m,y,v)=>{const A=m.contains.findIndex(E=>E.label===y);if(A===-1)throw new Error("can not find mode to replace");m.contains.splice(A,1,v)};Object.assign(t.keywords,c),t.exports.PARAMS_CONTAINS.push(u);const h=t.contains.find(m=>m.scope==="attr"),f=Object.assign({},h,{match:e.concat(r,e.lookahead(/\s*\?:/))});t.exports.PARAMS_CONTAINS.push([t.exports.CLASS_REFERENCE,h,f]),t.contains=t.contains.concat([u,s,o,f]),d(t,"shebang",n.SHEBANG()),d(t,"use_strict",a);const g=t.contains.find(m=>m.label==="func.def");return g.relevance=0,Object.assign(t,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),t}function E5(n){const e=n.regex,t={className:"string",begin:/"(""|[^/n])"C\b/},r={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,s=/\d{4}-\d{1,2}-\d{1,2}/,o=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,a=/\d{1,2}(:\d{1,2}){1,2}/,l={className:"literal",variants:[{begin:e.concat(/# */,e.either(s,i),/ *#/)},{begin:e.concat(/# */,a,/ *#/)},{begin:e.concat(/# */,o,/ *#/)},{begin:e.concat(/# */,e.either(s,i),/ +/,e.either(o,a),/ *#/)}]},c={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},u={className:"label",begin:/^\w+:/},d=n.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),h=n.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[t,r,l,c,u,d,h,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[h]}]}}function A5(n){n.regex;const e=n.COMMENT(/\(;/,/;\)/);e.contains.push("self");const t=n.COMMENT(/;;/,/$/),r=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},s={className:"variable",begin:/\$[\w_]+/},o={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},a={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},l={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},c={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:r},contains:[t,e,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},s,o,i,n.QUOTE_STRING_MODE,l,c,a]}}function S5(n){const e=n.regex,t=e.concat(/[\p{L}_]/u,e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=n.inherit(s,{begin:/\(/,end:/\)/}),a=n.inherit(n.APOS_STRING_MODE,{className:"string"}),l=n.inherit(n.QUOTE_STRING_MODE,{className:"string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,l,a,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,o,l,a]}]}]},n.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[c],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[c],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(t,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:t,relevance:0,starts:c}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(t,/>/))),contains:[{className:"name",begin:t,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function k5(n){const e="true false yes no null",t="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},s={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},o={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[n.BACKSLASH_ESCAPE,i]},a=n.inherit(o,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),h={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},f={end:",",endsWithParent:!0,excludeEnd:!0,keywords:e,relevance:0},g={begin:/\{/,end:/\}/,contains:[f],illegal:"\\n",relevance:0},m={begin:"\\[",end:"\\]",contains:[f],illegal:"\\n",relevance:0},y=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+t},{className:"type",begin:"!<"+t+">"},{className:"type",begin:"!"+t},{className:"type",begin:"!!"+t},{className:"meta",begin:"&"+n.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+n.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},n.HASH_COMMENT_MODE,{beginKeywords:e,keywords:{literal:e}},h,{className:"number",begin:n.C_NUMBER_RE+"\\b",relevance:0},g,m,s,o],v=[...y];return v.pop(),v.push(a),f.contains=v,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:y}}const C5={arduino:l4,bash:c4,c:u4,cpp:d4,csharp:h4,css:_4,diff:x4,go:E4,graphql:A4,ini:S4,java:k4,javascript:P4,json:R4,kotlin:M4,less:G4,lua:V4,makefile:j4,markdown:q4,objectivec:W4,perl:K4,php:$4,"php-template":Y4,plaintext:X4,python:Z4,"python-repl":Q4,r:J4,ruby:e5,rust:t5,scss:u5,shell:d5,sql:h5,swift:w5,typescript:x5,vbnet:E5,wasm:A5,xml:S5,yaml:k5};var km,uE;function T5(){if(uE)return km;uE=1;function n(Y){return Y instanceof Map?Y.clear=Y.delete=Y.set=function(){throw new Error("map is read-only")}:Y instanceof Set&&(Y.add=Y.clear=Y.delete=function(){throw new Error("set is read-only")}),Object.freeze(Y),Object.getOwnPropertyNames(Y).forEach(we=>{const Me=Y[we],at=typeof Me;(at==="object"||at==="function")&&!Object.isFrozen(Me)&&n(Me)}),Y}class e{constructor(we){we.data===void 0&&(we.data={}),this.data=we.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function t(Y){return Y.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function r(Y,...we){const Me=Object.create(null);for(const at in Y)Me[at]=Y[at];return we.forEach(function(at){for(const jt in at)Me[jt]=at[jt]}),Me}const i="</span>",s=Y=>!!Y.scope,o=(Y,{prefix:we})=>{if(Y.startsWith("language:"))return Y.replace("language:","language-");if(Y.includes(".")){const Me=Y.split(".");return[`${we}${Me.shift()}`,...Me.map((at,jt)=>`${at}${"_".repeat(jt+1)}`)].join(" ")}return`${we}${Y}`};class a{constructor(we,Me){this.buffer="",this.classPrefix=Me.classPrefix,we.walk(this)}addText(we){this.buffer+=t(we)}openNode(we){if(!s(we))return;const Me=o(we.scope,{prefix:this.classPrefix});this.span(Me)}closeNode(we){s(we)&&(this.buffer+=i)}value(){return this.buffer}span(we){this.buffer+=`<span class="${we}">`}}const l=(Y={})=>{const we={children:[]};return Object.assign(we,Y),we};class c{constructor(){this.rootNode=l(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(we){this.top.children.push(we)}openNode(we){const Me=l({scope:we});this.add(Me),this.stack.push(Me)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(we){return this.constructor._walk(we,this.rootNode)}static _walk(we,Me){return typeof Me=="string"?we.addText(Me):Me.children&&(we.openNode(Me),Me.children.forEach(at=>this._walk(we,at)),we.closeNode(Me)),we}static _collapse(we){typeof we!="string"&&we.children&&(we.children.every(Me=>typeof Me=="string")?we.children=[we.children.join("")]:we.children.forEach(Me=>{c._collapse(Me)}))}}class u extends c{constructor(we){super(),this.options=we}addText(we){we!==""&&this.add(we)}startScope(we){this.openNode(we)}endScope(){this.closeNode()}__addSublanguage(we,Me){const at=we.root;Me&&(at.scope=`language:${Me}`),this.add(at)}toHTML(){return new a(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function d(Y){return Y?typeof Y=="string"?Y:Y.source:null}function h(Y){return m("(?=",Y,")")}function f(Y){return m("(?:",Y,")*")}function g(Y){return m("(?:",Y,")?")}function m(...Y){return Y.map(Me=>d(Me)).join("")}function y(Y){const we=Y[Y.length-1];return typeof we=="object"&&we.constructor===Object?(Y.splice(Y.length-1,1),we):{}}function v(...Y){return"("+(y(Y).capture?"":"?:")+Y.map(at=>d(at)).join("|")+")"}function A(Y){return new RegExp(Y.toString()+"|").exec("").length-1}function E(Y,we){const Me=Y&&Y.exec(we);return Me&&Me.index===0}const S=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function C(Y,{joinWith:we}){let Me=0;return Y.map(at=>{Me+=1;const jt=Me;let dn=d(at),et="";for(;dn.length>0;){const Xe=S.exec(dn);if(!Xe){et+=dn;break}et+=dn.substring(0,Xe.index),dn=dn.substring(Xe.index+Xe[0].length),Xe[0][0]==="\\"&&Xe[1]?et+="\\"+String(Number(Xe[1])+jt):(et+=Xe[0],Xe[0]==="("&&Me++)}return et}).map(at=>`(${at})`).join(we)}const x=/\b\B/,N="[a-zA-Z]\\w*",D="[a-zA-Z_]\\w*",V="\\b\\d+(\\.\\d+)?",O="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",K="\\b(0b[01]+)",B="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",U=(Y={})=>{const we=/^#![ ]*\//;return Y.binary&&(Y.begin=m(we,/.*\b/,Y.binary,/\b.*/)),r({scope:"meta",begin:we,end:/$/,relevance:0,"on:begin":(Me,at)=>{Me.index!==0&&at.ignoreMatch()}},Y)},L={begin:"\\\\[\\s\\S]",relevance:0},W={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[L]},H={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[L]},Q={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},X=function(Y,we,Me={}){const at=r({scope:"comment",begin:Y,end:we,contains:[]},Me);at.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const jt=v("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return at.contains.push({begin:m(/[ ]+/,"(",jt,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),at},le=X("//","$"),R=X("/\\*","\\*/"),Ae=X("#","$"),ke={scope:"number",begin:V,relevance:0},M={scope:"number",begin:O,relevance:0},fe={scope:"number",begin:K,relevance:0},Oe={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[L,{begin:/\[/,end:/\]/,relevance:0,contains:[L]}]},Le={scope:"title",begin:N,relevance:0},Pe={scope:"title",begin:D,relevance:0},$e={begin:"\\.\\s*"+D,relevance:0};var nn=Object.freeze({__proto__:null,APOS_STRING_MODE:W,BACKSLASH_ESCAPE:L,BINARY_NUMBER_MODE:fe,BINARY_NUMBER_RE:K,COMMENT:X,C_BLOCK_COMMENT_MODE:R,C_LINE_COMMENT_MODE:le,C_NUMBER_MODE:M,C_NUMBER_RE:O,END_SAME_AS_BEGIN:function(Y){return Object.assign(Y,{"on:begin":(we,Me)=>{Me.data._beginMatch=we[1]},"on:end":(we,Me)=>{Me.data._beginMatch!==we[1]&&Me.ignoreMatch()}})},HASH_COMMENT_MODE:Ae,IDENT_RE:N,MATCH_NOTHING_RE:x,METHOD_GUARD:$e,NUMBER_MODE:ke,NUMBER_RE:V,PHRASAL_WORDS_MODE:Q,QUOTE_STRING_MODE:H,REGEXP_MODE:Oe,RE_STARTERS_RE:B,SHEBANG:U,TITLE_MODE:Le,UNDERSCORE_IDENT_RE:D,UNDERSCORE_TITLE_MODE:Pe});function wt(Y,we){Y.input[Y.index-1]==="."&&we.ignoreMatch()}function ut(Y,we){Y.className!==void 0&&(Y.scope=Y.className,delete Y.className)}function Vt(Y,we){we&&Y.beginKeywords&&(Y.begin="\\b("+Y.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",Y.__beforeBegin=wt,Y.keywords=Y.keywords||Y.beginKeywords,delete Y.beginKeywords,Y.relevance===void 0&&(Y.relevance=0))}function rn(Y,we){Array.isArray(Y.illegal)&&(Y.illegal=v(...Y.illegal))}function it(Y,we){if(Y.match){if(Y.begin||Y.end)throw new Error("begin & end are not supported with match");Y.begin=Y.match,delete Y.match}}function Ut(Y,we){Y.relevance===void 0&&(Y.relevance=1)}const ar=(Y,we)=>{if(!Y.beforeMatch)return;if(Y.starts)throw new Error("beforeMatch cannot be used with starts");const Me=Object.assign({},Y);Object.keys(Y).forEach(at=>{delete Y[at]}),Y.keywords=Me.keywords,Y.begin=m(Me.beforeMatch,h(Me.begin)),Y.starts={relevance:0,contains:[Object.assign(Me,{endsParent:!0})]},Y.relevance=0,delete Me.beforeMatch},Un=["of","and","for","in","not","or","if","then","parent","list","value"],lr="keyword";function Mn(Y,we,Me=lr){const at=Object.create(null);return typeof Y=="string"?jt(Me,Y.split(" ")):Array.isArray(Y)?jt(Me,Y):Object.keys(Y).forEach(function(dn){Object.assign(at,Mn(Y[dn],we,dn))}),at;function jt(dn,et){we&&(et=et.map(Xe=>Xe.toLowerCase())),et.forEach(function(Xe){const Ke=Xe.split("|");at[Ke[0]]=[dn,An(Ke[0],Ke[1])]})}}function An(Y,we){return we?Number(we):pt(Y)?0:1}function pt(Y){return Un.includes(Y.toLowerCase())}const At={},Nt=Y=>{console.error(Y)},Pt=(Y,...we)=>{console.log(`WARN: ${Y}`,...we)},ce=(Y,we)=>{At[`${Y}/${we}`]||(console.log(`Deprecated as of ${Y}. ${we}`),At[`${Y}/${we}`]=!0)},Ee=new Error;function Je(Y,we,{key:Me}){let at=0;const jt=Y[Me],dn={},et={};for(let Xe=1;Xe<=we.length;Xe++)et[Xe+at]=jt[Xe],dn[Xe+at]=!0,at+=A(we[Xe-1]);Y[Me]=et,Y[Me]._emit=dn,Y[Me]._multi=!0}function _t(Y){if(Array.isArray(Y.begin)){if(Y.skip||Y.excludeBegin||Y.returnBegin)throw Nt("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Ee;if(typeof Y.beginScope!="object"||Y.beginScope===null)throw Nt("beginScope must be object"),Ee;Je(Y,Y.begin,{key:"beginScope"}),Y.begin=C(Y.begin,{joinWith:""})}}function Mt(Y){if(Array.isArray(Y.end)){if(Y.skip||Y.excludeEnd||Y.returnEnd)throw Nt("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Ee;if(typeof Y.endScope!="object"||Y.endScope===null)throw Nt("endScope must be object"),Ee;Je(Y,Y.end,{key:"endScope"}),Y.end=C(Y.end,{joinWith:""})}}function Sn(Y){Y.scope&&typeof Y.scope=="object"&&Y.scope!==null&&(Y.beginScope=Y.scope,delete Y.scope)}function pn(Y){Sn(Y),typeof Y.beginScope=="string"&&(Y.beginScope={_wrap:Y.beginScope}),typeof Y.endScope=="string"&&(Y.endScope={_wrap:Y.endScope}),_t(Y),Mt(Y)}function hn(Y){function we(et,Xe){return new RegExp(d(et),"m"+(Y.case_insensitive?"i":"")+(Y.unicodeRegex?"u":"")+(Xe?"g":""))}class Me{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(Xe,Ke){Ke.position=this.position++,this.matchIndexes[this.matchAt]=Ke,this.regexes.push([Ke,Xe]),this.matchAt+=A(Xe)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const Xe=this.regexes.map(Ke=>Ke[1]);this.matcherRe=we(C(Xe,{joinWith:"|"}),!0),this.lastIndex=0}exec(Xe){this.matcherRe.lastIndex=this.lastIndex;const Ke=this.matcherRe.exec(Xe);if(!Ke)return null;const Lt=Ke.findIndex((Fi,ms)=>ms>0&&Fi!==void 0),Dn=this.matchIndexes[Lt];return Ke.splice(0,Lt),Object.assign(Ke,Dn)}}class at{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(Xe){if(this.multiRegexes[Xe])return this.multiRegexes[Xe];const Ke=new Me;return this.rules.slice(Xe).forEach(([Lt,Dn])=>Ke.addRule(Lt,Dn)),Ke.compile(),this.multiRegexes[Xe]=Ke,Ke}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(Xe,Ke){this.rules.push([Xe,Ke]),Ke.type==="begin"&&this.count++}exec(Xe){const Ke=this.getMatcher(this.regexIndex);Ke.lastIndex=this.lastIndex;let Lt=Ke.exec(Xe);if(this.resumingScanAtSamePosition()&&!(Lt&&Lt.index===this.lastIndex)){const Dn=this.getMatcher(0);Dn.lastIndex=this.lastIndex+1,Lt=Dn.exec(Xe)}return Lt&&(this.regexIndex+=Lt.position+1,this.regexIndex===this.count&&this.considerAll()),Lt}}function jt(et){const Xe=new at;return et.contains.forEach(Ke=>Xe.addRule(Ke.begin,{rule:Ke,type:"begin"})),et.terminatorEnd&&Xe.addRule(et.terminatorEnd,{type:"end"}),et.illegal&&Xe.addRule(et.illegal,{type:"illegal"}),Xe}function dn(et,Xe){const Ke=et;if(et.isCompiled)return Ke;[ut,it,pn,ar].forEach(Dn=>Dn(et,Xe)),Y.compilerExtensions.forEach(Dn=>Dn(et,Xe)),et.__beforeBegin=null,[Vt,rn,Ut].forEach(Dn=>Dn(et,Xe)),et.isCompiled=!0;let Lt=null;return typeof et.keywords=="object"&&et.keywords.$pattern&&(et.keywords=Object.assign({},et.keywords),Lt=et.keywords.$pattern,delete et.keywords.$pattern),Lt=Lt||/\w+/,et.keywords&&(et.keywords=Mn(et.keywords,Y.case_insensitive)),Ke.keywordPatternRe=we(Lt,!0),Xe&&(et.begin||(et.begin=/\B|\b/),Ke.beginRe=we(Ke.begin),!et.end&&!et.endsWithParent&&(et.end=/\B|\b/),et.end&&(Ke.endRe=we(Ke.end)),Ke.terminatorEnd=d(Ke.end)||"",et.endsWithParent&&Xe.terminatorEnd&&(Ke.terminatorEnd+=(et.end?"|":"")+Xe.terminatorEnd)),et.illegal&&(Ke.illegalRe=we(et.illegal)),et.contains||(et.contains=[]),et.contains=[].concat(...et.contains.map(function(Dn){return kn(Dn==="self"?et:Dn)})),et.contains.forEach(function(Dn){dn(Dn,Ke)}),et.starts&&dn(et.starts,Xe),Ke.matcher=jt(Ke),Ke}if(Y.compilerExtensions||(Y.compilerExtensions=[]),Y.contains&&Y.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return Y.classNameAliases=r(Y.classNameAliases||{}),dn(Y)}function Hn(Y){return Y?Y.endsWithParent||Hn(Y.starts):!1}function kn(Y){return Y.variants&&!Y.cachedVariants&&(Y.cachedVariants=Y.variants.map(function(we){return r(Y,{variants:null},we)})),Y.cachedVariants?Y.cachedVariants:Hn(Y)?r(Y,{starts:Y.starts?r(Y.starts):null}):Object.isFrozen(Y)?r(Y):Y}var Ie="11.11.1";class tt extends Error{constructor(we,Me){super(we),this.name="HTMLInjectionError",this.html=Me}}const dt=t,sn=r,De=Symbol("nomatch"),bt=7,Yt=function(Y){const we=Object.create(null),Me=Object.create(null),at=[];let jt=!0;const dn="Could not find the language '{}', did you forget to load/include a language module?",et={disableAutodetect:!0,name:"Plain text",contains:[]};let Xe={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:u};function Ke(ze){return Xe.noHighlightRe.test(ze)}function Lt(ze){let ht=ze.className+" ";ht+=ze.parentNode?ze.parentNode.className:"";const Zt=Xe.languageDetectRe.exec(ht);if(Zt){const mn=ci(Zt[1]);return mn||(Pt(dn.replace("{}",Zt[1])),Pt("Falling back to no-highlight mode for this block.",ze)),mn?Zt[1]:"no-highlight"}return ht.split(/\s+/).find(mn=>Ke(mn)||ci(mn))}function Dn(ze,ht,Zt){let mn="",Wn="";typeof ht=="object"?(mn=ze,Zt=ht.ignoreIllegals,Wn=ht.language):(ce("10.7.0","highlight(lang, code, ...args) has been deprecated."),ce("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),Wn=ze,mn=ht),Zt===void 0&&(Zt=!0);const It={code:mn,language:Wn};js("before:highlight",It);const Zi=It.result?It.result:Fi(It.language,It.code,Zt);return Zi.code=It.code,js("after:highlight",Zi),Zi}function Fi(ze,ht,Zt,mn){const Wn=Object.create(null);function It(Qe,gt){return Qe.keywords[gt]}function Zi(){if(!Ze.keywords){fr.addText(Tn);return}let Qe=0;Ze.keywordPatternRe.lastIndex=0;let gt=Ze.keywordPatternRe.exec(Tn),mt="";for(;gt;){mt+=Tn.substring(Qe,gt.index);const qt=Lr.case_insensitive?gt[0].toLowerCase():gt[0],Kn=It(Ze,qt);if(Kn){const[Xr,Uc]=Kn;if(fr.addText(mt),mt="",Wn[qt]=(Wn[qt]||0)+1,Wn[qt]<=bt&&(vr+=Uc),Xr.startsWith("_"))mt+=gt[0];else{const ws=Lr.classNameAliases[Xr]||Xr;cn(gt[0],ws)}}else mt+=gt[0];Qe=Ze.keywordPatternRe.lastIndex,gt=Ze.keywordPatternRe.exec(Tn)}mt+=Tn.substring(Qe),fr.addText(mt)}function sa(){if(Tn==="")return;let Qe=null;if(typeof Ze.subLanguage=="string"){if(!we[Ze.subLanguage]){fr.addText(Tn);return}Qe=Fi(Ze.subLanguage,Tn,!0,fl[Ze.subLanguage]),fl[Ze.subLanguage]=Qe._top}else Qe=Yr(Tn,Ze.subLanguage.length?Ze.subLanguage:null);Ze.relevance>0&&(vr+=Qe.relevance),fr.__addSublanguage(Qe._emitter,Qe.language)}function Dr(){Ze.subLanguage!=null?sa():Zi(),Tn=""}function cn(Qe,gt){Qe!==""&&(fr.startScope(gt),fr.addText(Qe),fr.endScope())}function bo(Qe,gt){let mt=1;const qt=gt.length-1;for(;mt<=qt;){if(!Qe._emit[mt]){mt++;continue}const Kn=Lr.classNameAliases[Qe[mt]]||Qe[mt],Xr=gt[mt];Kn?cn(Xr,Kn):(Tn=Xr,Zi(),Tn=""),mt++}}function vo(Qe,gt){return Qe.scope&&typeof Qe.scope=="string"&&fr.openNode(Lr.classNameAliases[Qe.scope]||Qe.scope),Qe.beginScope&&(Qe.beginScope._wrap?(cn(Tn,Lr.classNameAliases[Qe.beginScope._wrap]||Qe.beginScope._wrap),Tn=""):Qe.beginScope._multi&&(bo(Qe.beginScope,gt),Tn="")),Ze=Object.create(Qe,{parent:{value:Ze}}),Ze}function qs(Qe,gt,mt){let qt=E(Qe.endRe,mt);if(qt){if(Qe["on:end"]){const Kn=new e(Qe);Qe["on:end"](gt,Kn),Kn.isMatchIgnored&&(qt=!1)}if(qt){for(;Qe.endsParent&&Qe.parent;)Qe=Qe.parent;return Qe}}if(Qe.endsWithParent)return qs(Qe.parent,gt,mt)}function Lc(Qe){return Ze.matcher.regexIndex===0?(Tn+=Qe[0],1):(zi=!0,0)}function Fc(Qe){const gt=Qe[0],mt=Qe.rule,qt=new e(mt),Kn=[mt.__beforeBegin,mt["on:begin"]];for(const Xr of Kn)if(Xr&&(Xr(Qe,qt),qt.isMatchIgnored))return Lc(gt);return mt.skip?Tn+=gt:(mt.excludeBegin&&(Tn+=gt),Dr(),!mt.returnBegin&&!mt.excludeBegin&&(Tn=gt)),vo(mt,Qe),mt.returnBegin?0:gt.length}function hl(Qe){const gt=Qe[0],mt=ht.substring(Qe.index),qt=qs(Ze,Qe,mt);if(!qt)return De;const Kn=Ze;Ze.endScope&&Ze.endScope._wrap?(Dr(),cn(gt,Ze.endScope._wrap)):Ze.endScope&&Ze.endScope._multi?(Dr(),bo(Ze.endScope,Qe)):Kn.skip?Tn+=gt:(Kn.returnEnd||Kn.excludeEnd||(Tn+=gt),Dr(),Kn.excludeEnd&&(Tn=gt));do Ze.scope&&fr.closeNode(),!Ze.skip&&!Ze.subLanguage&&(vr+=Ze.relevance),Ze=Ze.parent;while(Ze!==qt.parent);return qt.starts&&vo(qt.starts,Qe),Kn.returnEnd?0:gt.length}function _h(){const Qe=[];for(let gt=Ze;gt!==Lr;gt=gt.parent)gt.scope&&Qe.unshift(gt.scope);Qe.forEach(gt=>fr.openNode(gt))}let Ws={};function Bc(Qe,gt){const mt=gt&&gt[0];if(Tn+=Qe,mt==null)return Dr(),0;if(Ws.type==="begin"&&gt.type==="end"&&Ws.index===gt.index&&mt===""){if(Tn+=ht.slice(gt.index,gt.index+1),!jt){const qt=new Error(`0 width match regex (${ze})`);throw qt.languageName=ze,qt.badRule=Ws.rule,qt}return 1}if(Ws=gt,gt.type==="begin")return Fc(gt);if(gt.type==="illegal"&&!Zt){const qt=new Error('Illegal lexeme "'+mt+'" for mode "'+(Ze.scope||"<unnamed>")+'"');throw qt.mode=Ze,qt}else if(gt.type==="end"){const qt=hl(gt);if(qt!==De)return qt}if(gt.type==="illegal"&&mt==="")return Tn+=`
`,1;if(yo>1e5&&yo>gt.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Tn+=mt,mt.length}const Lr=ci(ze);if(!Lr)throw Nt(dn.replace("{}",ze)),new Error('Unknown language: "'+ze+'"');const xh=hn(Lr);let zc="",Ze=mn||xh;const fl={},fr=new Xe.__emitter(Xe);_h();let Tn="",vr=0,ui=0,yo=0,zi=!1;try{if(Lr.__emitTokens)Lr.__emitTokens(ht,fr);else{for(Ze.matcher.considerAll();;){yo++,zi?zi=!1:Ze.matcher.considerAll(),Ze.matcher.lastIndex=ui;const Qe=Ze.matcher.exec(ht);if(!Qe)break;const gt=ht.substring(ui,Qe.index),mt=Bc(gt,Qe);ui=Qe.index+mt}Bc(ht.substring(ui))}return fr.finalize(),zc=fr.toHTML(),{language:ze,value:zc,relevance:vr,illegal:!1,_emitter:fr,_top:Ze}}catch(Qe){if(Qe.message&&Qe.message.includes("Illegal"))return{language:ze,value:dt(ht),illegal:!0,relevance:0,_illegalBy:{message:Qe.message,index:ui,context:ht.slice(ui-100,ui+100),mode:Qe.mode,resultSoFar:zc},_emitter:fr};if(jt)return{language:ze,value:dt(ht),illegal:!1,relevance:0,errorRaised:Qe,_emitter:fr,_top:Ze};throw Qe}}function ms(ze){const ht={value:dt(ze),illegal:!1,relevance:0,_top:et,_emitter:new Xe.__emitter(Xe)};return ht._emitter.addText(ze),ht}function Yr(ze,ht){ht=ht||Xe.languages||Object.keys(we);const Zt=ms(ze),mn=ht.filter(ci).filter(ys).map(Dr=>Fi(Dr,ze,!1));mn.unshift(Zt);const Wn=mn.sort((Dr,cn)=>{if(Dr.relevance!==cn.relevance)return cn.relevance-Dr.relevance;if(Dr.language&&cn.language){if(ci(Dr.language).supersetOf===cn.language)return 1;if(ci(cn.language).supersetOf===Dr.language)return-1}return 0}),[It,Zi]=Wn,sa=It;return sa.secondBest=Zi,sa}function Vs(ze,ht,Zt){const mn=ht&&Me[ht]||Zt;ze.classList.add("hljs"),ze.classList.add(`language-${mn}`)}function Mr(ze){let ht=null;const Zt=Lt(ze);if(Ke(Zt))return;if(js("before:highlightElement",{el:ze,language:Zt}),ze.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",ze);return}if(ze.children.length>0&&(Xe.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(ze)),Xe.throwUnescapedHTML))throw new tt("One of your code blocks includes unescaped HTML.",ze.innerHTML);ht=ze;const mn=ht.textContent,Wn=Zt?Dn(mn,{language:Zt,ignoreIllegals:!0}):Yr(mn);ze.innerHTML=Wn.value,ze.dataset.highlighted="yes",Vs(ze,Zt,Wn.language),ze.result={language:Wn.language,re:Wn.relevance,relevance:Wn.relevance},Wn.secondBest&&(ze.secondBest={language:Wn.secondBest.language,relevance:Wn.secondBest.relevance}),js("after:highlightElement",{el:ze,result:Wn,text:mn})}function bs(ze){Xe=sn(Xe,ze)}const Bi=()=>{kr(),ce("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function Ei(){kr(),ce("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let vs=!1;function kr(){function ze(){kr()}if(document.readyState==="loading"){vs||window.addEventListener("DOMContentLoaded",ze,!1),vs=!0;return}document.querySelectorAll(Xe.cssSelector).forEach(Mr)}function dl(ze,ht){let Zt=null;try{Zt=ht(Y)}catch(mn){if(Nt("Language definition for '{}' could not be registered.".replace("{}",ze)),jt)Nt(mn);else throw mn;Zt=et}Zt.name||(Zt.name=ze),we[ze]=Zt,Zt.rawDefinition=ht.bind(null,Y),Zt.aliases&&Gn(Zt.aliases,{languageName:ze})}function Ai(ze){delete we[ze];for(const ht of Object.keys(Me))Me[ht]===ze&&delete Me[ht]}function ia(){return Object.keys(we)}function ci(ze){return ze=(ze||"").toLowerCase(),we[ze]||we[Me[ze]]}function Gn(ze,{languageName:ht}){typeof ze=="string"&&(ze=[ze]),ze.forEach(Zt=>{Me[Zt.toLowerCase()]=ht})}function ys(ze){const ht=ci(ze);return ht&&!ht.disableAutodetect}function Xi(ze){ze["before:highlightBlock"]&&!ze["before:highlightElement"]&&(ze["before:highlightElement"]=ht=>{ze["before:highlightBlock"](Object.assign({block:ht.el},ht))}),ze["after:highlightBlock"]&&!ze["after:highlightElement"]&&(ze["after:highlightElement"]=ht=>{ze["after:highlightBlock"](Object.assign({block:ht.el},ht))})}function wh(ze){Xi(ze),at.push(ze)}function mo(ze){const ht=at.indexOf(ze);ht!==-1&&at.splice(ht,1)}function js(ze,ht){const Zt=ze;at.forEach(function(mn){mn[Zt]&&mn[Zt](ht)})}function Dc(ze){return ce("10.7.0","highlightBlock will be removed entirely in v12.0"),ce("10.7.0","Please use highlightElement now."),Mr(ze)}Object.assign(Y,{highlight:Dn,highlightAuto:Yr,highlightAll:kr,highlightElement:Mr,highlightBlock:Dc,configure:bs,initHighlighting:Bi,initHighlightingOnLoad:Ei,registerLanguage:dl,unregisterLanguage:Ai,listLanguages:ia,getLanguage:ci,registerAliases:Gn,autoDetection:ys,inherit:sn,addPlugin:wh,removePlugin:mo}),Y.debugMode=function(){jt=!1},Y.safeMode=function(){jt=!0},Y.versionString=Ie,Y.regex={concat:m,lookahead:h,either:v,optional:g,anyNumberOfTimes:f};for(const ze in nn)typeof nn[ze]=="object"&&n(nn[ze]);return Object.assign(Y,nn),Y},Cn=Yt({});return Cn.newInstance=()=>Yt({}),km=Cn,Cn.HighlightJS=Cn,Cn.default=Cn,km}var N5=T5();const I5=Fu(N5),dE={},P5="hljs-";function R5(n){const e=I5.newInstance();return n&&s(n),{highlight:t,highlightAuto:r,listLanguages:i,register:s,registerAlias:o,registered:a};function t(l,c,u){const d=u||dE,h=typeof d.prefix=="string"?d.prefix:P5;if(!e.getLanguage(l))throw new Error("Unknown language: `"+l+"` is not registered");e.configure({__emitter:O5,classPrefix:h});const f=e.highlight(c,{ignoreIllegals:!0,language:l});if(f.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:f.errorRaised});const g=f._emitter.root,m=g.data;return m.language=f.language,m.relevance=f.relevance,g}function r(l,c){const d=(c||dE).subset||i();let h=-1,f=0,g;for(;++h<d.length;){const m=d[h];if(!e.getLanguage(m))continue;const y=t(m,l,c);y.data&&y.data.relevance!==void 0&&y.data.relevance>f&&(f=y.data.relevance,g=y)}return g||{type:"root",children:[],data:{language:void 0,relevance:f}}}function i(){return e.listLanguages()}function s(l,c){if(typeof l=="string")e.registerLanguage(l,c);else{let u;for(u in l)Object.hasOwn(l,u)&&e.registerLanguage(u,l[u])}}function o(l,c){if(typeof l=="string")e.registerAliases(typeof c=="string"?c:[...c],{languageName:l});else{let u;for(u in l)if(Object.hasOwn(l,u)){const d=l[u];e.registerAliases(typeof d=="string"?d:[...d],{languageName:u})}}}function a(l){return!!e.getLanguage(l)}}class O5{constructor(e){this.options=e,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(e){if(e==="")return;const t=this.stack[this.stack.length-1],r=t.children[t.children.length-1];r&&r.type==="text"?r.value+=e:t.children.push({type:"text",value:e})}startScope(e){this.openNode(String(e))}endScope(){this.closeNode()}__addSublanguage(e,t){const r=this.stack[this.stack.length-1],i=e.root.children;t?r.children.push({type:"element",tagName:"span",properties:{className:[t]},children:i}):r.children.push(...i)}openNode(e){const t=this,r=e.split(".").map(function(o,a){return a?o+"_".repeat(a):t.options.classPrefix+o}),i=this.stack[this.stack.length-1],s={type:"element",tagName:"span",properties:{className:r},children:[]};i.children.push(s),this.stack.push(s)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const M5={};function D5(n){const e=n||M5,t=e.aliases,r=e.detect||!1,i=e.languages||C5,s=e.plainText,o=e.prefix,a=e.subset;let l="hljs";const c=R5(i);if(t&&c.registerAlias(t),o){const u=o.indexOf("-");l=u===-1?o:o.slice(0,u)}return function(u,d){em(u,"element",function(h,f,g){if(h.tagName!=="code"||!g||g.type!=="element"||g.tagName!=="pre")return;const m=L5(h);if(m===!1||!m&&!r||m&&s&&s.includes(m))return;Array.isArray(h.properties.className)||(h.properties.className=[]),h.properties.className.includes(l)||h.properties.className.unshift(l);const y=e4(h,{whitespace:"pre"});let v;try{v=m?c.highlight(m,y,{prefix:o}):c.highlightAuto(y,{prefix:o,subset:a})}catch(A){const E=A;if(m&&/Unknown language/.test(E.message)){d.message("Cannot highlight as `"+m+"`, its not registered",{ancestors:[g,h],cause:E,place:h.position,ruleId:"missing-language",source:"rehype-highlight"});return}throw E}!m&&v.data&&v.data.language&&h.properties.className.push("language-"+v.data.language),v.children.length>0&&(h.children=v.children)})}}function L5(n){const e=n.properties.className;let t=-1;if(!Array.isArray(e))return;let r;for(;++t<e.length;){const i=String(e[t]);if(i==="no-highlight"||i==="nohighlight")return!1;!r&&i.slice(0,5)==="lang-"&&(r=i.slice(5)),!r&&i.slice(0,9)==="language-"&&(r=i.slice(9))}return r}function F5(n,e){const t={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(e),!0)};return n.patch(e,t),n.applyData(e,t)}function B5(n,e){const t={type:"element",tagName:"br",properties:{},children:[]};return n.patch(e,t),[n.applyData(e,t),{type:"text",value:`
`}]}function z5(n,e){const t=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:t}]};return e.meta&&(i.data={meta:e.meta}),n.patch(e,i),i=n.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},n.patch(e,i),i}function U5(n,e){const t={type:"element",tagName:"del",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function H5(n,e){const t={type:"element",tagName:"em",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function G5(n,e){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Ka(r.toLowerCase()),s=n.footnoteOrder.indexOf(r);let o,a=n.footnoteCounts.get(r);a===void 0?(a=0,n.footnoteOrder.push(r),o=n.footnoteOrder.length):o=s+1,a+=1,n.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+i,id:t+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};n.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return n.patch(e,c),n.applyData(e,c)}function V5(n,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function j5(n,e){if(n.options.allowDangerousHtml){const t={type:"raw",value:e.value};return n.patch(e,t),n.applyData(e,t)}}function hE(n,e){const t=e.referenceType;let r="]";if(t==="collapsed"?r+="[]":t==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=n.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function q5(n,e){const t=String(e.identifier).toUpperCase(),r=n.definitionById.get(t);if(!r)return hE(n,e);const i={src:Ka(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return n.patch(e,s),n.applyData(e,s)}function W5(n,e){const t={src:Ka(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const r={type:"element",tagName:"img",properties:t,children:[]};return n.patch(e,r),n.applyData(e,r)}function K5(n,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};n.patch(e,t);const r={type:"element",tagName:"code",properties:{},children:[t]};return n.patch(e,r),n.applyData(e,r)}function $5(n,e){const t=String(e.identifier).toUpperCase(),r=n.definitionById.get(t);if(!r)return hE(n,e);const i={href:Ka(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:n.all(e)};return n.patch(e,s),n.applyData(e,s)}function Y5(n,e){const t={href:Ka(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const r={type:"element",tagName:"a",properties:t,children:n.all(e)};return n.patch(e,r),n.applyData(e,r)}function X5(n,e,t){const r=n.all(e),i=t?Z5(t):fE(e),s={},o=[];if(typeof e.checked=="boolean"){const u=r[0];let d;u&&u.type==="element"&&u.tagName==="p"?d=u:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const u=r[a];(i||a!==0||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?o.push(...u.children):o.push(u)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return n.patch(e,c),n.applyData(e,c)}function Z5(n){let e=!1;if(n.type==="list"){e=n.spread||!1;const t=n.children;let r=-1;for(;!e&&++r<t.length;)e=fE(t[r])}return e}function fE(n){const e=n.spread;return e??n.children.length>1}function Q5(n,e){const t={},r=n.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:n.wrap(r,!0)};return n.patch(e,s),n.applyData(e,s)}function J5(n,e){const t={type:"element",tagName:"p",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function eG(n,e){const t={type:"root",children:n.wrap(n.all(e))};return n.patch(e,t),n.applyData(e,t)}function tG(n,e){const t={type:"element",tagName:"strong",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}const pE=mE("end"),gE=mE("start");function mE(n){return e;function e(t){const r=t&&t.position&&t.position[n]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function nG(n){const e=gE(n),t=pE(n);if(e&&t)return{start:e,end:t}}function rG(n,e){const t=n.all(e),r=t.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:n.wrap([r],!0)};n.patch(e.children[0],o),i.push(o)}if(t.length>0){const o={type:"element",tagName:"tbody",properties:{},children:n.wrap(t,!0)},a=gE(e.children[1]),l=pE(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:n.wrap(i,!0)};return n.patch(e,s),n.applyData(e,s)}function iG(n,e,t){const r=t?t.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=t&&t.type==="table"?t.align:void 0,a=o?o.length:e.children.length;let l=-1;const c=[];for(;++l<a;){const d=e.children[l],h={},f=o?o[l]:void 0;f&&(h.align=f);let g={type:"element",tagName:s,properties:h,children:[]};d&&(g.children=n.all(d),n.patch(d,g),g=n.applyData(d,g)),c.push(g)}const u={type:"element",tagName:"tr",properties:{},children:n.wrap(c,!0)};return n.patch(e,u),n.applyData(e,u)}function sG(n,e){const t={type:"element",tagName:"td",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}const bE=9,vE=32;function oG(n){const e=String(n),t=/\r?\n|\r/g;let r=t.exec(e),i=0;const s=[];for(;r;)s.push(yE(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=t.exec(e);return s.push(yE(e.slice(i),i>0,!1)),s.join("")}function yE(n,e,t){let r=0,i=n.length;if(e){let s=n.codePointAt(r);for(;s===bE||s===vE;)r++,s=n.codePointAt(r)}if(t){let s=n.codePointAt(i-1);for(;s===bE||s===vE;)i--,s=n.codePointAt(i-1)}return i>r?n.slice(r,i):""}function aG(n,e){const t={type:"text",value:oG(String(e.value))};return n.patch(e,t),n.applyData(e,t)}function lG(n,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(e,t),n.applyData(e,t)}const cG={blockquote:F5,break:B5,code:z5,delete:U5,emphasis:H5,footnoteReference:G5,heading:V5,html:j5,imageReference:q5,image:W5,inlineCode:K5,linkReference:$5,link:Y5,listItem:X5,list:Q5,paragraph:J5,root:eG,strong:tG,table:rG,tableCell:sG,tableRow:iG,text:aG,thematicBreak:lG,toml:Kd,yaml:Kd,definition:Kd,footnoteDefinition:Kd};function Kd(){}const wE=-1,$d=0,uc=1,Yd=2,Cm=3,Tm=4,Nm=5,Im=6,_E=7,xE=8,EE=typeof self=="object"?self:globalThis,uG=(n,e)=>{const t=(i,s)=>(n.set(s,i),i),r=i=>{if(n.has(i))return n.get(i);const[s,o]=e[i];switch(s){case $d:case wE:return t(o,i);case uc:{const a=t([],i);for(const l of o)a.push(r(l));return a}case Yd:{const a=t({},i);for(const[l,c]of o)a[r(l)]=r(c);return a}case Cm:return t(new Date(o),i);case Tm:{const{source:a,flags:l}=o;return t(new RegExp(a,l),i)}case Nm:{const a=t(new Map,i);for(const[l,c]of o)a.set(r(l),r(c));return a}case Im:{const a=t(new Set,i);for(const l of o)a.add(r(l));return a}case _E:{const{name:a,message:l}=o;return t(new EE[a](l),i)}case xE:return t(BigInt(o),i);case"BigInt":return t(Object(BigInt(o)),i);case"ArrayBuffer":return t(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return t(new DataView(a),o)}}return t(new EE[s](o),i)};return r},AE=n=>uG(new Map,n)(0),Qa="",{toString:dG}={},{keys:hG}=Object,dc=n=>{const e=typeof n;if(e!=="object"||!n)return[$d,e];const t=dG.call(n).slice(8,-1);switch(t){case"Array":return[uc,Qa];case"Object":return[Yd,Qa];case"Date":return[Cm,Qa];case"RegExp":return[Tm,Qa];case"Map":return[Nm,Qa];case"Set":return[Im,Qa];case"DataView":return[uc,t]}return t.includes("Array")?[uc,t]:t.includes("Error")?[_E,t]:[Yd,t]},Xd=([n,e])=>n===$d&&(e==="function"||e==="symbol"),fG=(n,e,t,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return t.set(a,l),l},s=o=>{if(t.has(o))return t.get(o);let[a,l]=dc(o);switch(a){case $d:{let u=o;switch(l){case"bigint":a=xE,u=o.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([wE],o)}return i([a,u],o)}case uc:{if(l){let h=o;return l==="DataView"?h=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(o)),i([l,[...h]],o)}const u=[],d=i([a,u],o);for(const h of o)u.push(s(h));return d}case Yd:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const u=[],d=i([a,u],o);for(const h of hG(o))(n||!Xd(dc(o[h])))&&u.push([s(h),s(o[h])]);return d}case Cm:return i([a,o.toISOString()],o);case Tm:{const{source:u,flags:d}=o;return i([a,{source:u,flags:d}],o)}case Nm:{const u=[],d=i([a,u],o);for(const[h,f]of o)(n||!(Xd(dc(h))||Xd(dc(f))))&&u.push([s(h),s(f)]);return d}case Im:{const u=[],d=i([a,u],o);for(const h of o)(n||!Xd(dc(h)))&&u.push(s(h));return d}}const{message:c}=o;return i([a,{name:l,message:c}],o)};return s},SE=(n,{json:e,lossy:t}={})=>{const r=[];return fG(!(e||t),!!e,new Map,r)(n),r},Zd=typeof structuredClone=="function"?(n,e)=>e&&("json"in e||"lossy"in e)?AE(SE(n,e)):structuredClone(n):(n,e)=>AE(SE(n,e));function pG(n,e){const t=[{type:"text",value:""}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function gG(n,e){return"Back to reference "+(n+1)+(e>1?"-"+e:"")}function mG(n){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",t=n.options.footnoteBackContent||pG,r=n.options.footnoteBackLabel||gG,i=n.options.footnoteLabel||"Footnotes",s=n.options.footnoteLabelTagName||"h2",o=n.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<n.footnoteOrder.length;){const c=n.footnoteById.get(n.footnoteOrder[l]);if(!c)continue;const u=n.all(c),d=String(c.identifier).toUpperCase(),h=Ka(d.toLowerCase());let f=0;const g=[],m=n.footnoteCounts.get(d);for(;m!==void 0&&++f<=m;){g.length>0&&g.push({type:"text",value:" "});let A=typeof t=="string"?t:t(l,f);typeof A=="string"&&(A={type:"text",value:A}),g.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+h+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,f),className:["data-footnote-backref"]},children:Array.isArray(A)?A:[A]})}const y=u[u.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const A=y.children[y.children.length-1];A&&A.type==="text"?A.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...g)}else u.push(...g);const v={type:"element",tagName:"li",properties:{id:e+"fn-"+h},children:n.wrap(u,!0)};n.patch(c,v),a.push(v)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Zd(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(a,!0)},{type:"text",value:`
`}]}}const Pm={}.hasOwnProperty,bG={};function vG(n,e){const t=e||bG,r=new Map,i=new Map,s=new Map,o={...cG,...t.handlers},a={all:c,applyData:wG,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:t,patch:yG,wrap:xG};return em(n,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const d=u.type==="definition"?r:i,h=String(u.identifier).toUpperCase();d.has(h)||d.set(h,u)}}),a;function l(u,d){const h=u.type,f=a.handlers[h];if(Pm.call(a.handlers,h)&&f)return f(a,u,d);if(a.options.passThrough&&a.options.passThrough.includes(h)){if("children"in u){const{children:m,...y}=u,v=Zd(y);return v.children=a.all(u),v}return Zd(u)}return(a.options.unknownHandler||_G)(a,u,d)}function c(u){const d=[];if("children"in u){const h=u.children;let f=-1;for(;++f<h.length;){const g=a.one(h[f],u);if(g){if(f&&h[f-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=kE(g.value)),!Array.isArray(g)&&g.type==="element")){const m=g.children[0];m&&m.type==="text"&&(m.value=kE(m.value))}Array.isArray(g)?d.push(...g):d.push(g)}}}return d}}function yG(n,e){n.position&&(e.position=nG(n))}function wG(n,e){let t=e;if(n&&n.data){const r=n.data.hName,i=n.data.hChildren,s=n.data.hProperties;if(typeof r=="string")if(t.type==="element")t.tagName=r;else{const o="children"in t?t.children:[t];t={type:"element",tagName:r,properties:{},children:o}}t.type==="element"&&s&&Object.assign(t.properties,Zd(s)),"children"in t&&t.children&&i!==null&&i!==void 0&&(t.children=i)}return t}function _G(n,e){const t=e.data||{},r="value"in e&&!(Pm.call(t,"hProperties")||Pm.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:n.all(e)};return n.patch(e,r),n.applyData(e,r)}function xG(n,e){const t=[];let r=-1;for(e&&t.push({type:"text",value:`
`});++r<n.length;)r&&t.push({type:"text",value:`
`}),t.push(n[r]);return e&&n.length>0&&t.push({type:"text",value:`
`}),t}function kE(n){let e=0,t=n.charCodeAt(e);for(;t===9||t===32;)e++,t=n.charCodeAt(e);return n.slice(e)}function CE(n,e){const t=vG(n,e),r=t.one(n,void 0),i=mG(t),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function EG(n,e){return n&&"run"in n?async function(t,r){const i=CE(t,{file:r,...e});await n.run(i,r)}:function(t,r){return CE(t,{file:r,...n||e})}}const AG=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];class hc{constructor(e,t,r){this.normal=t,this.property=e,r&&(this.space=r)}}hc.prototype.normal={},hc.prototype.property={},hc.prototype.space=void 0;function TE(n,e){const t={},r={};for(const i of n)Object.assign(t,i.property),Object.assign(r,i.normal);return new hc(t,r,e)}function Rm(n){return n.toLowerCase()}class oi{constructor(e,t){this.attribute=t,this.property=e}}oi.prototype.attribute="",oi.prototype.booleanish=!1,oi.prototype.boolean=!1,oi.prototype.commaOrSpaceSeparated=!1,oi.prototype.commaSeparated=!1,oi.prototype.defined=!1,oi.prototype.mustUseProperty=!1,oi.prototype.number=!1,oi.prototype.overloadedBoolean=!1,oi.prototype.property="",oi.prototype.spaceSeparated=!1,oi.prototype.space=void 0;let SG=0;const Gt=$o(),ir=$o(),Om=$o(),Be=$o(),On=$o(),Ja=$o(),vi=$o();function $o(){return 2**++SG}const Mm=Object.freeze(Object.defineProperty({__proto__:null,boolean:Gt,booleanish:ir,commaOrSpaceSeparated:vi,commaSeparated:Ja,number:Be,overloadedBoolean:Om,spaceSeparated:On},Symbol.toStringTag,{value:"Module"})),Dm=Object.keys(Mm);class Lm extends oi{constructor(e,t,r,i){let s=-1;if(super(e,t),NE(this,"space",i),typeof r=="number")for(;++s<Dm.length;){const o=Dm[s];NE(this,Dm[s],(r&Mm[o])===Mm[o])}}}Lm.prototype.defined=!0;function NE(n,e,t){t&&(n[e]=t)}function el(n){const e={},t={};for(const[r,i]of Object.entries(n.properties)){const s=new Lm(r,n.transform(n.attributes||{},r),i,n.space);n.mustUseProperty&&n.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,t[Rm(r)]=r,t[Rm(s.attribute)]=r}return new hc(e,t,n.space)}const IE=el({properties:{ariaActiveDescendant:null,ariaAtomic:ir,ariaAutoComplete:null,ariaBusy:ir,ariaChecked:ir,ariaColCount:Be,ariaColIndex:Be,ariaColSpan:Be,ariaControls:On,ariaCurrent:null,ariaDescribedBy:On,ariaDetails:null,ariaDisabled:ir,ariaDropEffect:On,ariaErrorMessage:null,ariaExpanded:ir,ariaFlowTo:On,ariaGrabbed:ir,ariaHasPopup:null,ariaHidden:ir,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:On,ariaLevel:Be,ariaLive:null,ariaModal:ir,ariaMultiLine:ir,ariaMultiSelectable:ir,ariaOrientation:null,ariaOwns:On,ariaPlaceholder:null,ariaPosInSet:Be,ariaPressed:ir,ariaReadOnly:ir,ariaRelevant:null,ariaRequired:ir,ariaRoleDescription:On,ariaRowCount:Be,ariaRowIndex:Be,ariaRowSpan:Be,ariaSelected:ir,ariaSetSize:Be,ariaSort:null,ariaValueMax:Be,ariaValueMin:Be,ariaValueNow:Be,ariaValueText:null,role:null},transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function PE(n,e){return e in n?n[e]:e}function RE(n,e){return PE(n,e.toLowerCase())}const kG=el({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ja,acceptCharset:On,accessKey:On,action:null,allow:null,allowFullScreen:Gt,allowPaymentRequest:Gt,allowUserMedia:Gt,alt:null,as:null,async:Gt,autoCapitalize:null,autoComplete:On,autoFocus:Gt,autoPlay:Gt,blocking:On,capture:null,charSet:null,checked:Gt,cite:null,className:On,cols:Be,colSpan:null,content:null,contentEditable:ir,controls:Gt,controlsList:On,coords:Be|Ja,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Gt,defer:Gt,dir:null,dirName:null,disabled:Gt,download:Om,draggable:ir,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Gt,formTarget:null,headers:On,height:Be,hidden:Om,high:Be,href:null,hrefLang:null,htmlFor:On,httpEquiv:On,id:null,imageSizes:null,imageSrcSet:null,inert:Gt,inputMode:null,integrity:null,is:null,isMap:Gt,itemId:null,itemProp:On,itemRef:On,itemScope:Gt,itemType:On,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Gt,low:Be,manifest:null,max:null,maxLength:Be,media:null,method:null,min:null,minLength:Be,multiple:Gt,muted:Gt,name:null,nonce:null,noModule:Gt,noValidate:Gt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Gt,optimum:Be,pattern:null,ping:On,placeholder:null,playsInline:Gt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Gt,referrerPolicy:null,rel:On,required:Gt,reversed:Gt,rows:Be,rowSpan:Be,sandbox:On,scope:null,scoped:Gt,seamless:Gt,selected:Gt,shadowRootClonable:Gt,shadowRootDelegatesFocus:Gt,shadowRootMode:null,shape:null,size:Be,sizes:null,slot:null,span:Be,spellCheck:ir,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Be,step:null,style:null,tabIndex:Be,target:null,title:null,translate:null,type:null,typeMustMatch:Gt,useMap:null,value:ir,width:Be,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:On,axis:null,background:null,bgColor:null,border:Be,borderColor:null,bottomMargin:Be,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Gt,declare:Gt,event:null,face:null,frame:null,frameBorder:null,hSpace:Be,leftMargin:Be,link:null,longDesc:null,lowSrc:null,marginHeight:Be,marginWidth:Be,noResize:Gt,noHref:Gt,noShade:Gt,noWrap:Gt,object:null,profile:null,prompt:null,rev:null,rightMargin:Be,rules:null,scheme:null,scrolling:ir,standby:null,summary:null,text:null,topMargin:Be,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Be,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Gt,disableRemotePlayback:Gt,prefix:null,property:null,results:Be,security:null,unselectable:null},space:"html",transform:RE}),CG=el({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:vi,accentHeight:Be,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Be,amplitude:Be,arabicForm:null,ascent:Be,attributeName:null,attributeType:null,azimuth:Be,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Be,by:null,calcMode:null,capHeight:Be,className:On,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Be,diffuseConstant:Be,direction:null,display:null,dur:null,divisor:Be,dominantBaseline:null,download:Gt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Be,enableBackground:null,end:null,event:null,exponent:Be,externalResourcesRequired:null,fill:null,fillOpacity:Be,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ja,g2:Ja,glyphName:Ja,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Be,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Be,horizOriginX:Be,horizOriginY:Be,id:null,ideographic:Be,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Be,k:Be,k1:Be,k2:Be,k3:Be,k4:Be,kernelMatrix:vi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Be,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Be,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Be,overlineThickness:Be,paintOrder:null,panose1:null,path:null,pathLength:Be,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:On,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Be,pointsAtY:Be,pointsAtZ:Be,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:vi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:vi,rev:vi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:vi,requiredFeatures:vi,requiredFonts:vi,requiredFormats:vi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Be,specularExponent:Be,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Be,strikethroughThickness:Be,string:null,stroke:null,strokeDashArray:vi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Be,strokeOpacity:Be,strokeWidth:null,style:null,surfaceScale:Be,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:vi,tabIndex:Be,tableValues:null,target:null,targetX:Be,targetY:Be,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:vi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Be,underlineThickness:Be,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Be,values:null,vAlphabetic:Be,vMathematical:Be,vectorEffect:null,vHanging:Be,vIdeographic:Be,version:null,vertAdvY:Be,vertOriginX:Be,vertOriginY:Be,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Be,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:PE}),OE=el({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()}}),ME=el({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:RE}),DE=el({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()}}),TG=/[A-Z]/g,LE=/-[a-z]/g,NG=/^data[-\w.:]+$/i;function IG(n,e){const t=Rm(e);let r=e,i=oi;if(t in n.normal)return n.property[n.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&NG.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(LE,RG);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!LE.test(s)){let o=s.replace(TG,PG);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=Lm}return new i(r,e)}function PG(n){return"-"+n.toLowerCase()}function RG(n){return n.charAt(1).toUpperCase()}const OG=TE([IE,kG,OE,ME,DE],"html"),FE=TE([IE,CG,OE,ME,DE],"svg"),MG=/["&'<>`]/g,DG=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,LG=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,FG=/[|\\{}()[\]^$+*?.]/g,BE=new WeakMap;function BG(n,e){if(n=n.replace(e.subset?zG(e.subset):MG,r),e.subset||e.escapeOnly)return n;return n.replace(DG,t).replace(LG,r);function t(i,s,o){return e.format((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)-56320+65536,o.charCodeAt(s+2),e)}function r(i,s,o){return e.format(i.charCodeAt(0),o.charCodeAt(s+1),e)}}function zG(n){let e=BE.get(n);return e||(e=UG(n),BE.set(n,e)),e}function UG(n){const e=[];let t=-1;for(;++t<n.length;)e.push(n[t].replace(FG,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}const HG=/[\dA-Fa-f]/;function GG(n,e,t){const r="&#x"+n.toString(16).toUpperCase();return t&&e&&!HG.test(String.fromCharCode(e))?r:r+";"}const VG=/\d/;function jG(n,e,t){const r="&#"+String(n);return t&&e&&!VG.test(String.fromCharCode(e))?r:r+";"}const qG=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],Fm={nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:"",euro:""},WG=["cent","copy","divide","gt","lt","not","para","times"],zE={}.hasOwnProperty,Bm={};let Qd;for(Qd in Fm)zE.call(Fm,Qd)&&(Bm[Fm[Qd]]=Qd);const KG=/[^\dA-Za-z]/;function $G(n,e,t,r){const i=String.fromCharCode(n);if(zE.call(Bm,i)){const s=Bm[i],o="&"+s;return t&&qG.includes(s)&&!WG.includes(s)&&(!r||e&&e!==61&&KG.test(String.fromCharCode(e)))?o:o+";"}return""}function YG(n,e,t){let r=GG(n,e,t.omitOptionalSemicolons),i;if((t.useNamedReferences||t.useShortestReferences)&&(i=$G(n,e,t.omitOptionalSemicolons,t.attribute)),(t.useShortestReferences||!i)&&t.useShortestReferences){const s=jG(n,e,t.omitOptionalSemicolons);s.length<r.length&&(r=s)}return i&&(!t.useShortestReferences||i.length<r.length)?i:r}function tl(n,e){return BG(n,Object.assign({format:YG},e))}const XG=/^>|^->|<!--|-->|--!>|<!-$/g,ZG=[">"],QG=["<",">"];function JG(n,e,t,r){return r.settings.bogusComments?"<?"+tl(n.value,Object.assign({},r.settings.characterReferences,{subset:ZG}))+">":"<!--"+n.value.replace(XG,i)+"-->";function i(s){return tl(s,Object.assign({},r.settings.characterReferences,{subset:QG}))}}function eV(n,e,t,r){return"<!"+(r.settings.upperDoctype?"DOCTYPE":"doctype")+(r.settings.tightDoctype?"":" ")+"html>"}function tV(n,e){const t=e||{};return(n[n.length-1]===""?[...n,""]:n).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}function nV(n){return n.join(" ").trim()}const rV=/[ \t\n\f\r]/g;function zm(n){return typeof n=="object"?n.type==="text"?UE(n.value):!1:UE(n)}function UE(n){return n.replace(rV,"")===""}const dr=GE(1),HE=GE(-1),iV=[];function GE(n){return e;function e(t,r,i){const s=t?t.children:iV;let o=(r||0)+n,a=s[o];if(!i)for(;a&&zm(a);)o+=n,a=s[o];return a}}const sV={}.hasOwnProperty;function VE(n){return e;function e(t,r,i){return sV.call(n,t.tagName)&&n[t.tagName](t,r,i)}}const Um=VE({body:aV,caption:Hm,colgroup:Hm,dd:dV,dt:uV,head:Hm,html:oV,li:cV,optgroup:hV,option:fV,p:lV,rp:jE,rt:jE,tbody:gV,td:qE,tfoot:mV,th:qE,thead:pV,tr:bV});function Hm(n,e,t){const r=dr(t,e,!0);return!r||r.type!=="comment"&&!(r.type==="text"&&zm(r.value.charAt(0)))}function oV(n,e,t){const r=dr(t,e);return!r||r.type!=="comment"}function aV(n,e,t){const r=dr(t,e);return!r||r.type!=="comment"}function lV(n,e,t){const r=dr(t,e);return r?r.type==="element"&&(r.tagName==="address"||r.tagName==="article"||r.tagName==="aside"||r.tagName==="blockquote"||r.tagName==="details"||r.tagName==="div"||r.tagName==="dl"||r.tagName==="fieldset"||r.tagName==="figcaption"||r.tagName==="figure"||r.tagName==="footer"||r.tagName==="form"||r.tagName==="h1"||r.tagName==="h2"||r.tagName==="h3"||r.tagName==="h4"||r.tagName==="h5"||r.tagName==="h6"||r.tagName==="header"||r.tagName==="hgroup"||r.tagName==="hr"||r.tagName==="main"||r.tagName==="menu"||r.tagName==="nav"||r.tagName==="ol"||r.tagName==="p"||r.tagName==="pre"||r.tagName==="section"||r.tagName==="table"||r.tagName==="ul"):!t||!(t.type==="element"&&(t.tagName==="a"||t.tagName==="audio"||t.tagName==="del"||t.tagName==="ins"||t.tagName==="map"||t.tagName==="noscript"||t.tagName==="video"))}function cV(n,e,t){const r=dr(t,e);return!r||r.type==="element"&&r.tagName==="li"}function uV(n,e,t){const r=dr(t,e);return!!(r&&r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd"))}function dV(n,e,t){const r=dr(t,e);return!r||r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd")}function jE(n,e,t){const r=dr(t,e);return!r||r.type==="element"&&(r.tagName==="rp"||r.tagName==="rt")}function hV(n,e,t){const r=dr(t,e);return!r||r.type==="element"&&r.tagName==="optgroup"}function fV(n,e,t){const r=dr(t,e);return!r||r.type==="element"&&(r.tagName==="option"||r.tagName==="optgroup")}function pV(n,e,t){const r=dr(t,e);return!!(r&&r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot"))}function gV(n,e,t){const r=dr(t,e);return!r||r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot")}function mV(n,e,t){return!dr(t,e)}function bV(n,e,t){const r=dr(t,e);return!r||r.type==="element"&&r.tagName==="tr"}function qE(n,e,t){const r=dr(t,e);return!r||r.type==="element"&&(r.tagName==="td"||r.tagName==="th")}const vV=VE({body:_V,colgroup:xV,head:wV,html:yV,tbody:EV});function yV(n){const e=dr(n,-1);return!e||e.type!=="comment"}function wV(n){const e=new Set;for(const r of n.children)if(r.type==="element"&&(r.tagName==="base"||r.tagName==="title")){if(e.has(r.tagName))return!1;e.add(r.tagName)}const t=n.children[0];return!t||t.type==="element"}function _V(n){const e=dr(n,-1,!0);return!e||e.type!=="comment"&&!(e.type==="text"&&zm(e.value.charAt(0)))&&!(e.type==="element"&&(e.tagName==="meta"||e.tagName==="link"||e.tagName==="script"||e.tagName==="style"||e.tagName==="template"))}function xV(n,e,t){const r=HE(t,e),i=dr(n,-1,!0);return t&&r&&r.type==="element"&&r.tagName==="colgroup"&&Um(r,t.children.indexOf(r),t)?!1:!!(i&&i.type==="element"&&i.tagName==="col")}function EV(n,e,t){const r=HE(t,e),i=dr(n,-1);return t&&r&&r.type==="element"&&(r.tagName==="thead"||r.tagName==="tbody")&&Um(r,t.children.indexOf(r),t)?!1:!!(i&&i.type==="element"&&i.tagName==="tr")}const Jd={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function AV(n,e,t,r){const i=r.schema,s=i.space==="svg"?!1:r.settings.omitOptionalTags;let o=i.space==="svg"?r.settings.closeEmptyElements:r.settings.voids.includes(n.tagName.toLowerCase());const a=[];let l;i.space==="html"&&n.tagName==="svg"&&(r.schema=FE);const c=SV(r,n.properties),u=r.all(i.space==="html"&&n.tagName==="template"?n.content:n);return r.schema=i,u&&(o=!1),(c||!s||!vV(n,e,t))&&(a.push("<",n.tagName,c?" "+c:""),o&&(i.space==="svg"||r.settings.closeSelfClosing)&&(l=c.charAt(c.length-1),(!r.settings.tightSelfClosing||l==="/"||l&&l!=='"'&&l!=="'")&&a.push(" "),a.push("/")),a.push(">")),a.push(u),!o&&(!s||!Um(n,e,t))&&a.push("</"+n.tagName+">"),a.join("")}function SV(n,e){const t=[];let r=-1,i;if(e){for(i in e)if(e[i]!==null&&e[i]!==void 0){const s=kV(n,i,e[i]);s&&t.push(s)}}for(;++r<t.length;){const s=n.settings.tightAttributes?t[r].charAt(t[r].length-1):void 0;r!==t.length-1&&s!=='"'&&s!=="'"&&(t[r]+=" ")}return t.join("")}function kV(n,e,t){const r=IG(n.schema,e),i=n.settings.allowParseErrors&&n.schema.space==="html"?0:1,s=n.settings.allowDangerousCharacters?0:1;let o=n.quote,a;if(r.overloadedBoolean&&(t===r.attribute||t==="")?t=!0:(r.boolean||r.overloadedBoolean)&&(typeof t!="string"||t===r.attribute||t==="")&&(t=!!t),t==null||t===!1||typeof t=="number"&&Number.isNaN(t))return"";const l=tl(r.attribute,Object.assign({},n.settings.characterReferences,{subset:Jd.name[i][s]}));return t===!0||(t=Array.isArray(t)?(r.commaSeparated?tV:nV)(t,{padLeft:!n.settings.tightCommaSeparatedLists}):String(t),n.settings.collapseEmptyAttributes&&!t)?l:(n.settings.preferUnquoted&&(a=tl(t,Object.assign({},n.settings.characterReferences,{attribute:!0,subset:Jd.unquoted[i][s]}))),a!==t&&(n.settings.quoteSmart&&Bd(t,o)>Bd(t,n.alternative)&&(o=n.alternative),a=o+tl(t,Object.assign({},n.settings.characterReferences,{subset:(o==="'"?Jd.single:Jd.double)[i][s],attribute:!0}))+o),l+(a&&"="+a))}const CV=["<","&"];function WE(n,e,t,r){return t&&t.type==="element"&&(t.tagName==="script"||t.tagName==="style")?n.value:tl(n.value,Object.assign({},r.settings.characterReferences,{subset:CV}))}function TV(n,e,t,r){return r.settings.allowDangerousHtml?n.value:WE(n,e,t,r)}function NV(n,e,t,r){return r.all(n)}const IV=V0("type",{invalid:PV,unknown:RV,handlers:{comment:JG,doctype:eV,element:AV,raw:TV,root:NV,text:WE}});function PV(n){throw new Error("Expected node, not `"+n+"`")}function RV(n){const e=n;throw new Error("Cannot compile unknown node `"+e.type+"`")}const OV={},MV={},DV=[];function LV(n,e){const t=e||OV,r=t.quote||'"',i=r==='"'?"'":'"';if(r!=='"'&&r!=="'")throw new Error("Invalid quote `"+r+"`, expected `'` or `\"`");return{one:FV,all:BV,settings:{omitOptionalTags:t.omitOptionalTags||!1,allowParseErrors:t.allowParseErrors||!1,allowDangerousCharacters:t.allowDangerousCharacters||!1,quoteSmart:t.quoteSmart||!1,preferUnquoted:t.preferUnquoted||!1,tightAttributes:t.tightAttributes||!1,upperDoctype:t.upperDoctype||!1,tightDoctype:t.tightDoctype||!1,bogusComments:t.bogusComments||!1,tightCommaSeparatedLists:t.tightCommaSeparatedLists||!1,tightSelfClosing:t.tightSelfClosing||!1,collapseEmptyAttributes:t.collapseEmptyAttributes||!1,allowDangerousHtml:t.allowDangerousHtml||!1,voids:t.voids||AG,characterReferences:t.characterReferences||MV,closeSelfClosing:t.closeSelfClosing||!1,closeEmptyElements:t.closeEmptyElements||!1},schema:t.space==="svg"?FE:OG,quote:r,alternative:i}.one(Array.isArray(n)?{type:"root",children:n}:n,void 0,void 0)}function FV(n,e,t){return IV(n,e,t,this)}function BV(n){const e=[],t=n&&n.children||DV;let r=-1;for(;++r<t.length;)e[r]=this.one(t[r],r,n);return e.join("")}function zV(n){const e=this,t={...e.data("settings"),...n};e.compiler=r;function r(i){return LV(i,t)}}var UV=de("<div><!></div>");function KE(n,e){be(e,!0);let t=F(e,"class",3,""),r=_e(void 0),i=_e(""),s=q(()=>()=>pU().use(KH).use(_U).use(EG).use(D5).use(zV));function o(d){const h=document.createElement("div");h.innerHTML=d;const f=h.querySelectorAll("pre");for(const[g,m]of Array.from(f).entries()){const y=m.querySelector("code");if(!y)continue;let v="text";const A=Array.from(y.classList);for(const O of A)if(O.startsWith("language-")){v=O.replace("language-","");break}const E=y.textContent||"",S=`code-${Date.now()}-${g}`;y.setAttribute("data-code-id",S),y.setAttribute("data-raw-code",E);const C=document.createElement("div");C.className="code-block-wrapper";const x=document.createElement("div");x.className="code-block-header";const N=document.createElement("span");N.className="code-language",N.textContent=v;const D=document.createElement("button");D.className="copy-code-btn",D.setAttribute("data-code-id",S),D.setAttribute("title","Copy code"),D.setAttribute("type","button"),D.innerHTML=`
				<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy-icon lucide-copy"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>
			`,x.appendChild(N),x.appendChild(D),C.appendChild(x);const V=m.cloneNode(!0);C.appendChild(V),m.parentNode?.replaceChild(C,m)}return h.innerHTML}async function a(d){try{const h=await w(s)().process(d),f=String(h);return o(f)}catch(h){return console.error("Markdown processing error:",h),d.replace(/\n/g,"<br>")}}function l(){if(!w(r))return;const d=w(r).querySelectorAll(".copy-code-btn");console.log("Found copy buttons:",d.length);for(const[h,f]of Array.from(d).entries())console.log(`Setting up button ${h}:`,f),f.addEventListener("click",async g=>{g.preventDefault(),g.stopPropagation();const m=g.currentTarget;if(!m.getAttribute("data-code-id")){console.error("No code ID found on button");return}const v=m.closest(".code-block-wrapper");if(!v){console.error("No wrapper found");return}const A=v.querySelector("code[data-code-id]");if(!A){console.error("No code element found in wrapper");return}const E=A.getAttribute("data-raw-code");if(!E){console.error("No raw code found");return}try{const{copyCodeToClipboard:S}=await Ta(async()=>{const{copyCodeToClipboard:C}=await Promise.resolve().then(()=>Q2);return{copyCodeToClipboard:C}},void 0,Bt&&Bt.tagName.toUpperCase()==="SCRIPT"&&Bt.src||new URL("_app/immutable/bundle.CS9QXApz.js",document.baseURI).href);await S(E),console.log("Code copied successfully")}catch(S){console.error("Failed to copy code:",S)}})}Tt(()=>{e.content?a(e.content).then(d=>{G(i,d,!0)}).catch(d=>{console.error("Failed to process markdown:",d),G(i,e.content.replace(/\n/g,"<br>"),!0)}):G(i,"")}),Tt(()=>{w(r)&&w(i)&&l()});var c=UV(),u=he(c);qv(u,()=>w(i)),ue(c),fn(c,d=>G(r,d),()=>w(r)),ft(()=>Rn(c,1,Ri(t()),"svelte-1t16r5w")),I(n,c),ve()}const HV=$u({base:"focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive inline-flex w-fit shrink-0 items-center justify-center gap-1 overflow-hidden whitespace-nowrap rounded-md border px-2 py-0.5 text-xs font-medium transition-[color,box-shadow] focus-visible:ring-[3px] [&>svg]:pointer-events-none [&>svg]:size-3",variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90 border-transparent",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90 border-transparent",destructive:"bg-destructive [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/70 border-transparent text-white",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Gm(n,e){be(e,!0);let t=F(e,"ref",15,null),r=F(e,"variant",3,"default"),i=Re(e,["$$slots","$$events","$$legacy","ref","href","class","variant","children"]);var s=te(),o=j(s);Wv(o,()=>e.href?"a":"span",!1,(a,l)=>{fn(a,d=>t(d),()=>t()),St(a,d=>({"data-slot":"badge",href:e.href,class:d,...i}),[()=>zt(HV({variant:r()}),e.class)]);var c=te(),u=j(c);Se(u,()=>e.children??Te),I(l,c)}),I(n,s),ve()}var GV=de("<!> ",1),VV=de("<!> ",1),jV=de('<div class="flex items-center justify-center gap-3 text-sm text-muted-foreground"><!> <!> <!></div>');function qV(n,e){be(e,!0);const t=q(()=>Td.serverProps),r=q(()=>Td.modelName),i=q(()=>Td.supportedModalities);var s=te(),o=j(s);{var a=l=>{var c=jV(),u=he(c);{var d=y=>{Gm(y,{variant:"outline",class:"text-xs",children:(v,A)=>{var E=GV(),S=j(E);hL(S,{class:"mr-1 h-3 w-3"});var C=Ne(S);ft(()=>Xt(C,` ${w(r)??""}`)),I(v,E)},$$slots:{default:!0}})};xe(u,y=>{w(r)&&y(d)})}var h=Ne(u,2);{var f=y=>{Gm(y,{variant:"secondary",class:"text-xs",children:(v,A)=>{jn();var E=Vr();ft(S=>Xt(E,`ctx: ${S??""}`),[()=>w(t).n_ctx.toLocaleString()]),I(v,E)},$$slots:{default:!0}})};xe(h,y=>{w(t).n_ctx&&y(f)})}var g=Ne(h,2);{var m=y=>{var v=te(),A=j(v);es(A,17,()=>w(i),Al,(E,S)=>{Gm(E,{variant:"secondary",class:"text-xs",children:(C,x)=>{var N=VV(),D=j(N);{var V=B=>{eL(B,{class:"mr-1 h-3 w-3"})},O=B=>{var U=te(),L=j(U);{var W=H=>{Q_(H,{class:"mr-1 h-3 w-3"})};xe(L,H=>{w(S)==="audio"&&H(W)},!0)}I(B,U)};xe(D,B=>{w(S)==="vision"?B(V):B(O,!1)})}var K=Ne(D);ft(()=>Xt(K,` ${w(S)??""}`)),I(C,N)},$$slots:{default:!0}})}),I(y,v)};xe(g,y=>{w(i).length>0&&y(m)})}ue(c),I(l,c)};xe(o,l=>{w(t)&&l(a)})}I(n,s),ve()}let eh=null;async function WV(){if(!eh)try{eh=await Ta(()=>Promise.resolve().then(()=>Wq),void 0,Bt&&Bt.tagName.toUpperCase()==="SCRIPT"&&Bt.src||new URL("_app/immutable/bundle.CS9QXApz.js",document.baseURI).href),eh.GlobalWorkerOptions.workerSrc=new URL(""+new URL("assets/pdf.worker.min.DbR_HJhJ.mjs",document.currentScript&&document.currentScript.tagName.toUpperCase()==="SCRIPT"&&document.currentScript.src||document.baseURI).href,Bt&&Bt.tagName.toUpperCase()==="SCRIPT"&&Bt.src||new URL("_app/immutable/bundle.CS9QXApz.js",document.baseURI).href).toString()}catch(n){throw console.error("Failed to initialize PDF.js:",n),new Error("PDF.js is not available")}}async function KV(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=i=>{i.target?.result?e(i.target.result):t(new Error("Failed to read file."))},r.onerror=()=>{t(new Error("Failed to read file."))},r.readAsArrayBuffer(n)})}async function $V(n){try{await WV();const e=await KV(n),t=await eh.getDocument(e).promise,r=t.numPages,i=[];for(let a=1;a<=r;a++)i.push(t.getPage(a).then(l=>l.getTextContent()));return(await Promise.all(i)).flatMap(a=>a.items.map(l=>l.str??"")).join(`
`)}catch(e){throw console.error("Error converting PDF to text:",e),new Error(`Failed to convert PDF to text: ${e instanceof Error?e.message:"Unknown error"}`)}}function $E(n){return n==="application/pdf"}const YV=[".txt",".md",".js",".ts",".jsx",".tsx",".css",".html",".htm",".json",".xml",".yaml",".yml",".csv",".log",".py",".java",".cpp",".c",".h",".php",".rb",".go",".rs",".sh",".bat",".sql",".r",".scala",".kt",".swift",".dart",".vue",".svelte"];function XV(n){return YV.some(e=>n.toLowerCase().endsWith(e))}async function ZV(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=i=>{i.target?.result?e(i.target.result):t(new Error("Failed to read file"))},r.onerror=()=>t(new Error("File reading error")),r.readAsText(n)})}function QV(n){if(!n)return!0;const e=n.substring(0,1e3);let t=0,r=0;for(let i=0;i<e.length;i++){const s=e.charCodeAt(i);if(s===0){r++,t++;continue}s<32&&s!==9&&s!==10&&s!==13&&t++,s===65533&&t++}return!(r>2||t/e.length>.1)}function YE(n,e="white"){return new Promise((t,r)=>{try{const i=new Image;i.onload=()=>{const s=document.createElement("canvas"),o=s.getContext("2d");if(!o){r(new Error("Failed to get 2D canvas context."));return}const a=i.naturalWidth||300,l=i.naturalHeight||300;s.width=a,s.height=l,e&&(o.fillStyle=e,o.fillRect(0,0,s.width,s.height)),o.drawImage(i,0,0,a,l),t(s.toDataURL("image/png"))},i.onerror=()=>{r(new Error("Failed to load SVG image. Ensure the SVG data is valid."))},i.src=n}catch(i){const o=`Error converting SVG to PNG: ${i instanceof Error?i.message:String(i)}`;console.error(o,i),r(new Error(o))}})}function XE(n){return n==="image/svg+xml"}var JV=de('<div class="pointer-events-none fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm"><div class="bg-background border-border flex flex-col items-center justify-center rounded-2xl border-2 border-dashed p-12 shadow-lg"><!> <p class="text-foreground text-lg font-medium">Attach a file</p> <p class="text-muted-foreground text-sm">Drop your files here to upload</p></div></div>'),ej=de('<div class="flex h-full flex-col overflow-y-auto" role="main" aria-label="Chat interface with file drop zone"><!> <div class="z-999 sticky bottom-0 mx-auto mt-auto max-w-[56rem]"><div class="bg-background m-auto min-w-[56rem] rounded-t-3xl border-t pb-4"><!></div></div></div>'),tj=de('<div class="flex h-full items-center justify-center" role="main" aria-label="Welcome screen with file drop zone"><div class="w-full max-w-2xl px-4"><div class="mb-8 text-center"><h1 class="mb-2 text-3xl font-semibold tracking-tight">llama.cpp</h1> <p class="text-muted-foreground text-lg">How can I help you today?</p></div> <div class="mb-6 flex justify-center"><!></div> <div><!></div></div></div>'),nj=de("<!> <!>",1);function ZE(n,e){be(e,!0);let t=F(e,"showCenteredEmpty",3,!1),r=_e(void 0),i,s=_e(!0),o=_e(Nn([])),a=_e(!1),l=_e(0);const c=q(()=>t()&&!Hg()&&Cd().length===0&&!as());function u(B){if(!B)return!0;for(const U of B)if(U.type==="image/webp"||U.name.toLowerCase().endsWith(".webp"))return alert("WebP format is not supported at the moment. Please use JPEG or PNG images instead."),!1;return!0}async function d(B,U){if(!u(U))return!1;const L=U?await h(U):void 0;return await qL(B,L),!0}async function h(B){const U=[];for(const L of B)if(L.type.startsWith("image/")){if(L.preview){let W=L.preview;if(XE(L.type))try{W=await YE(W)}catch(H){console.error("Failed to convert SVG to PNG for database storage:",H)}U.push({type:"imageFile",name:L.name,base64Url:W})}}else if($E(L.type))try{const W=await $V(L.file);U.push({type:"pdfFile",name:L.name,content:W,processedAsImages:!1})}catch(W){console.error(`Failed to process PDF file ${L.name}:`,W)}else try{const W=await ZV(L.file);QV(W)?U.push({type:"textFile",name:L.name,content:W}):console.warn(`File ${L.name} appears to be binary and will be skipped`)}catch(W){console.error(`Failed to read file ${L.name}:`,W)}return U}function f(){w(r)?.scrollTo({top:w(r)?.scrollHeight,behavior:"instant"})}cC(()=>{setTimeout(f,10)}),ji(()=>{setTimeout(f,10)});function g(){if(!w(r))return;const{scrollTop:B,scrollHeight:U,clientHeight:L}=w(r),W=U-B-L;W>50?G(s,!1):W<=1&&G(s,!0)}Tt(()=>{as()&&w(s)?i=setInterval(f,100):i&&(clearInterval(i),i=void 0)});function m(B){for(const U of B){const W={id:Date.now().toString()+Math.random().toString(36).substr(2,9),name:U.name,size:U.size,type:U.type,file:U};if(U.type.startsWith("image/")){const H=new FileReader;H.onload=async Q=>{let X=Q.target?.result;if(XE(U.type))try{X=await YE(X)}catch(le){console.error("Failed to convert SVG to PNG:",le)}W.preview=X,G(o,[...w(o),W],!0)},H.readAsDataURL(U)}else if(U.type.startsWith("text/")||XV(U.name)){const H=new FileReader;H.onload=Q=>{const X=Q.target?.result;X&&(W.textContent=X),G(o,[...w(o),W],!0)},H.onerror=()=>{G(o,[...w(o),W],!0)},H.readAsText(U)}else $E(U.type)?G(o,[...w(o),W],!0):G(o,[...w(o),W],!0)}}function y(B){m(B)}function v(B){G(o,w(o).filter(U=>U.id!==B),!0)}function A(B){B.preventDefault(),gv(l),B.dataTransfer?.types.includes("Files")&&G(a,!0)}function E(B){B.preventDefault(),gv(l,-1),w(l)===0&&G(a,!1)}function S(B){B.preventDefault()}function C(B){B.preventDefault(),G(a,!1),G(l,0),B.dataTransfer?.files&&m(Array.from(B.dataTransfer.files))}var x=nj(),N=j(x);{var D=B=>{var U=JV(),L=he(U),W=he(L);mL(W,{class:"text-muted-foreground mb-4 h-12 w-12"}),jn(4),ue(L),ue(U),I(B,U)};xe(N,B=>{w(a)&&B(D)})}var V=Ne(N,2);{var O=B=>{var U=ej(),L=he(U);{let X=q(Cd);yF(L,{class:"mb-36",get messages(){return w(X)}})}var W=Ne(L,2),H=he(W),Q=he(H);{let X=q(as);c0(Q,{get isLoading(){return w(X)},showHelperText:!1,onSend:d,onStop:()=>rc(),onFileUpload:y,onFileRemove:v,get uploadedFiles(){return w(o)},set uploadedFiles(le){G(o,le,!0)}})}ue(H),ue(W),ue(U),fn(U,X=>G(r,X),()=>w(r)),pi("scroll",U,g),pi("dragenter",U,A),pi("dragleave",U,E),pi("dragover",U,S),pi("drop",U,C),Cl(1,W,()=>Nd,()=>({duration:400,axis:"y"})),I(B,U)},K=B=>{var U=tj(),L=he(U),W=he(L),H=Ne(W,2),Q=he(H);qV(Q,{}),ue(H);var X=Ne(H,2),le=he(X);{let R=q(as);c0(le,{get isLoading(){return w(R)},showHelperText:!0,onSend:d,onStop:()=>rc(),get uploadedFiles(){return w(o)},onFileUpload:y,onFileRemove:v})}ue(X),ue(L),ue(U),pi("dragenter",U,A),pi("dragleave",U,E),pi("dragover",U,S),pi("drop",U,C),Cl(1,W,()=>GF,()=>({y:-30,duration:600})),Cl(1,H,()=>Nd,()=>({duration:500,delay:300,axis:"y"})),Cl(1,X,()=>Nd,()=>({duration:600,delay:500,axis:"y"})),I(B,U)};xe(V,B=>{w(c)?B(K,!1):B(O)})}I(n,x),ve()}function rj(n,e){be(e,!1),ji(async()=>{jL||await In.initialize(),In.clearActiveConversation()}),Cf(),mf(t=>{af.title="llama.cpp - AI Chat Interface"}),ZE(n,{showCenteredEmpty:!0}),ve()}const ij=Object.freeze(Object.defineProperty({__proto__:null,component:rj},Symbol.toStringTag,{value:"Module"})),sj=()=>{const n=ns;return{page:{subscribe:n.page.subscribe},navigating:{subscribe:n.navigating.subscribe},updated:n.updated}},oj={subscribe(n){return sj().page.subscribe(n)}};var aj=de("<!> <!>",1);function lj(n,e){be(e,!0);const[t,r]=nk(),i=()=>tk(oj,"$page",t);let s=q(()=>i().params.id),o;uC(async({cancel:d,to:h})=>{as()&&(console.log("Navigation detected while streaming - aborting stream and saving partial response"),d(),await YL(),h?.url&&await Fl(h.url.pathname+h.url.search))}),Tt(()=>{w(s)&&w(s)!==o&&(as()&&(console.log("Chat switch detected while streaming - aborting stream"),rc()),o=w(s),(async()=>await In.loadConversation(w(s))||await Fl("/"))())}),Tt(()=>{if(typeof window<"u"){const d=h=>{as()&&(console.log("Page unload detected while streaming - aborting stream"),rc())};return window.addEventListener("beforeunload",d),()=>{window.removeEventListener("beforeunload",d)}}}),ay(()=>{as()&&rc()});var a=aj();mf(d=>{ft(h=>af.title=`${h??""} - llama.cpp`,[()=>Hg()?.name||"Chat"])});var l=j(a);{var c=d=>{_F(d)};xe(l,d=>{Hg()&&(Cd().length>0||as())&&d(c)})}var u=Ne(l,2);ZE(u,{}),I(n,a),ve(),r()}const cj=Object.freeze(Object.defineProperty({__proto__:null,component:lj},Symbol.toStringTag,{value:"Module"})),Kr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Vm=[.001,0,0,.001,0,0],jm=1.35,yi={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Bs={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},QE="pdfjs_internal_editor_",Ot={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101,COMMENT:102},ln={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},JE={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Pr={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},fc={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Qn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},nl={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},pc={ERRORS:0,WARNINGS:1,INFOS:5},gc={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},th={moveTo:0,lineTo:1,curveTo:2,closePath:3},eA={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let nh=pc.WARNINGS;function uj(n){Number.isInteger(n)&&(nh=n)}function dj(){return nh}function rh(n){nh>=pc.INFOS&&console.log(`Info: ${n}`)}function Dt(n){nh>=pc.WARNINGS&&console.log(`Warning: ${n}`)}function En(n){throw new Error(n)}function sr(n,e){n||En(e)}function hj(n){switch(n?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function qm(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"&&(t.addDefaultProtocol&&n.startsWith("www.")&&n.match(/\./g)?.length>=2&&(n=`http://${n}`),t.tryConvertEncoding))try{n=bj(n)}catch{}const r=e?URL.parse(n,e):URL.parse(n);return hj(r)?r:null}function Wm(n,e,t=!1){const r=URL.parse(n);return r?(r.hash=e,r.href):t&&qm(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function $t(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const Yo=function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class tA extends Yo{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Km extends Yo{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class ih extends Yo{constructor(e){super(e,"InvalidPDFException")}}class mc extends Yo{constructor(e,t,r){super(e,"ResponseException"),this.status=t,this.missing=r}}class fj extends Yo{constructor(e){super(e,"FormatError")}}class zs extends Yo{constructor(e){super(e,"AbortException")}}function nA(n){(typeof n!="object"||n?.length===void 0)&&En("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),o=n.subarray(i,s);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function bc(n){typeof n!="string"&&En("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function pj(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function gj(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function mj(){try{return new Function(""),!0}catch{return!1}}class mr{static get isLittleEndian(){return $t(this,"isLittleEndian",gj())}static get isEvalSupported(){return $t(this,"isEvalSupported",mj())}static get isOffscreenCanvasSupported(){return $t(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return $t(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return $t(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){return $t(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const $m=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));class vt{static makeHexColor(e,t,r){return`#${$m[e]}${$m[t]}${$m[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t,r=0){const i=e[r],s=e[r+1];e[r]=i*t[0]+s*t[2]+t[4],e[r+1]=i*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,r=0){const i=t[0],s=t[1],o=t[2],a=t[3],l=t[4],c=t[5];for(let u=0;u<6;u+=2){const d=e[r+u],h=e[r+u+1];e[r+u]=d*i+h*o+l,e[r+u+1]=d*s+h*a+c}}static applyInverseTransform(e,t){const r=e[0],i=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(r*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-r*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,r){const i=t[0],s=t[1],o=t[2],a=t[3],l=t[4],c=t[5],u=e[0],d=e[1],h=e[2],f=e[3];let g=i*u+l,m=g,y=i*h+l,v=y,A=a*d+c,E=A,S=a*f+c,C=S;if(s!==0||o!==0){const x=s*u,N=s*h,D=o*d,V=o*f;g+=D,v+=D,y+=V,m+=V,A+=x,C+=x,S+=N,E+=N}r[0]=Math.min(r[0],g,y,m,v),r[1]=Math.min(r[1],A,S,E,C),r[2]=Math.max(r[2],g,y,m,v),r[3]=Math.max(r[3],A,S,E,C)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const r=e[0],i=e[1],s=e[2],o=e[3],a=r**2+i**2,l=r*s+i*o,c=s**2+o**2,u=(a+c)/2,d=Math.sqrt(u**2-(a*c-l**2));t[0]=Math.sqrt(u+d||1),t[1]=Math.sqrt(u-d||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[r,s,i,o]}static pointBoundingBox(e,t,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],t),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],t)}static rectBoundingBox(e,t,r,i,s){s[0]=Math.min(s[0],e,r),s[1]=Math.min(s[1],t,i),s[2]=Math.max(s[2],e,r),s[3]=Math.max(s[3],t,i)}static#e(e,t,r,i,s,o,a,l,c,u){if(c<=0||c>=1)return;const d=1-c,h=c*c,f=h*c,g=d*(d*(d*e+3*c*t)+3*h*r)+f*i,m=d*(d*(d*s+3*c*o)+3*h*a)+f*l;u[0]=Math.min(u[0],g),u[1]=Math.min(u[1],m),u[2]=Math.max(u[2],g),u[3]=Math.max(u[3],m)}static#t(e,t,r,i,s,o,a,l,c,u,d,h){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&this.#e(e,t,r,i,s,o,a,l,-d/u,h);return}const f=u**2-4*d*c;if(f<0)return;const g=Math.sqrt(f),m=2*c;this.#e(e,t,r,i,s,o,a,l,(-u+g)/m,h),this.#e(e,t,r,i,s,o,a,l,(-u-g)/m,h)}static bezierBoundingBox(e,t,r,i,s,o,a,l,c){c[0]=Math.min(c[0],e,a),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,a),c[3]=Math.max(c[3],t,l),this.#t(e,r,s,a,t,i,o,l,3*(-e+3*(r-s)+a),6*(e-2*r+s),3*(r-e),c),this.#t(e,r,s,a,t,i,o,l,3*(-t+3*(i-o)+l),6*(t-2*i+o),3*(i-t),c)}}function bj(n){return decodeURIComponent(escape(n))}let Ym=null,rA=null;function iA(n){return Ym||(Ym=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,rA=new Map([["","t"]])),n.replaceAll(Ym,(e,t,r)=>t?t.normalize("NFKC"):rA.get(r))}function Xm(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),nA(n)}const Zm="pdfjs_internal_id_";function vj(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[r,i,...s]=t;if(!n(r)&&!Number.isInteger(r)||!e(i))return!1;const o=s.length;let a=!0;switch(i.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;a=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||a&&l===null))return!1;return!0}function Rr(n,e,t){return Math.min(Math.max(n,e),t)}function sA(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(nA(n))}function yj(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):bc(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})}),typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});const Us="http://www.w3.org/2000/svg";class Xo{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function rl(n,e="text"){if(wc(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class vc{constructor({viewBox:e,userUnit:t,scale:r,rotation:i,offsetX:s=0,offsetY:o=0,dontFlip:a=!1}){this.viewBox=e,this.userUnit=t,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=o,r*=t;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let u,d,h,f;switch(i%=360,i<0&&(i+=360),i){case 180:u=-1,d=0,h=0,f=1;break;case 90:u=0,d=1,h=1,f=0;break;case 270:u=0,d=-1,h=-1,f=0;break;case 0:u=1,d=0,h=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(h=-h,f=-f);let g,m,y,v;u===0?(g=Math.abs(c-e[1])*r+s,m=Math.abs(l-e[0])*r+o,y=(e[3]-e[1])*r,v=(e[2]-e[0])*r):(g=Math.abs(l-e[0])*r+s,m=Math.abs(c-e[1])*r+o,y=(e[2]-e[0])*r,v=(e[3]-e[1])*r),this.transform=[u*r,d*r,h*r,f*r,g-u*r*l-h*r*c,m-d*r*l-f*r*c],this.width=y,this.height=v}get rawDims(){const e=this.viewBox;return $t(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new vc({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){const r=[e,t];return vt.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const t=[e[0],e[1]];vt.applyTransform(t,this.transform);const r=[e[2],e[3]];return vt.applyTransform(r,this.transform),[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){const r=[e,t];return vt.applyInverseTransform(r,this.transform),r}}class sh extends Yo{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function yc(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function oh(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function oA(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function aA(n,e="document.pdf"){if(typeof n!="string")return e;if(yc(n))return Dt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(a=>{try{return new URL(a)}catch{try{return new URL(decodeURIComponent(a))}catch{try{return new URL(a,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(a),"https://foo.bar")}catch{return null}}}}})(n);if(!r)return e;const i=a=>{try{let l=decodeURIComponent(a);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:a):l}catch{return a}},s=/\.pdf$/i,o=r.pathname.split("/").at(-1);if(s.test(o))return i(o);if(r.searchParams.size>0){const a=Array.from(r.searchParams.values()).reverse();for(const c of a)if(s.test(c))return i(c);const l=Array.from(r.searchParams.keys()).reverse();for(const c of l)if(s.test(c))return i(c)}if(r.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(l)return i(l[0])}return e}class lA{started=Object.create(null);times=[];time(e){e in this.started&&Dt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Dt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function wc(n,e){const t=e?URL.parse(n,e):URL.parse(n);return t?.protocol==="http:"||t?.protocol==="https:"}function wi(n){n.preventDefault()}function Jn(n){n.preventDefault(),n.stopPropagation()}function wj(n){console.log("Deprecated API usage: "+n)}class ah{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=this.#e.exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(o+=u,a+=d):c==="+"&&(o-=u,a-=d),new Date(Date.UTC(r,i,s,o,a,l))}}function cA(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new vc({viewBox:s,userUnit:1,scale:e,rotation:t})}function _c(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Dt(`Not a valid color format: "${n}"`),[0,0,0])}function _j(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,_c(r))}e.remove()}function qn(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform();return[e,t,r,i,s,o]}function ds(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform().invertSelf();return[e,t,r,i,s,o]}function po(n,e,t=!1,r=!0){if(e instanceof vc){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:o}=n,a=mr.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${s}px`,u=a?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,d=a?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!t||e.rotation%180===0?(o.width=u,o.height=d):(o.width=d,o.height=u)}r&&n.setAttribute("data-main-rotation",e.rotation)}class $i{constructor(){const{pixelRatio:e}=$i;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,r,i,s=-1){let o=1/0,a=1/0,l=1/0;r=$i.capPixels(r,s),r>0&&(o=Math.sqrt(r/(e*t))),i!==-1&&(a=i/e,l=i/t);const c=Math.min(o,a,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,r):r}return e}}const lh=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class xc{#e=null;#t=null;#n;#r=null;#s=null;#i=null;#o=null;static#a=null;constructor(e){this.#n=e,xc.#a||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=this.#n._uiManager._signal;e.addEventListener("contextmenu",wi,{signal:t}),e.addEventListener("pointerdown",xc.#l,{signal:t});const r=this.#r=document.createElement("div");r.className="buttons",e.append(r);const i=this.#n.toolbarPosition;if(i){const{style:s}=e,o=this.#n._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#l(e){e.stopPropagation()}#c(e){this.#n._focusEventsAllowed=!1,Jn(e)}#d(e){this.#n._focusEventsAllowed=!0,Jn(e)}#u(e){const t=this.#n._uiManager._signal;e.addEventListener("focusin",this.#c.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",wi,{signal:t})}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#s?.shown(),this.#i?.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=this.#n,r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",xc.#a[e]),this.#u(r),r.addEventListener("click",i=>{t.delete()},{signal:t._signal}),this.#r.append(r)}get#p(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const t=await e.render();this.#u(t),this.#r.append(t,this.#p),this.#s=e}addComment(e){if(this.#i)return;const t=e.render();t&&(this.#u(t),this.#r.prepend(t,this.#p),this.#i=e,e.toolbar=this)}addColorPicker(e){if(this.#t)return;this.#t=e;const t=e.renderButton();this.#u(t),this.#r.append(t,this.#p)}async addEditSignatureButton(e){const t=this.#o=await e.renderEditButton(this.#n);this.#u(t),this.#r.append(t,this.#p)}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t);break}}updateEditSignatureButton(e){this.#o&&(this.#o.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class xj{#e=null;#t=null;#n;constructor(e){this.#n=e}#r(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",wi,{signal:this.#n._signal});const t=this.#e=document.createElement("div");return t.className="buttons",e.append(t),this.#i(),e}#s(e,t){let r=0,i=0;for(const s of e){const o=s.y+s.height;if(o<r)continue;const a=s.x+(t?s.width:0);if(o>r){i=a,r=o;continue}t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,r]}show(e,t,r){const[i,s]=this.#s(t,r),{style:o}=this.#t||=this.#r();e.append(this.#t),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#i(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=this.#n._signal;e.addEventListener("contextmenu",wi,{signal:r}),e.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:r}),this.#e.append(e)}}function uA(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}class Ej{#e=0;get id(){return`${QE}${this.#e++}`}}class Qm{#e=Xm();#t=0;#n=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return $t(this,"_isSVGFittingCanvas",s)}async#r(e,t){this.#n||=new Map;let r=this.#n.get(e);if(r===null)return null;if(r?.bitmap)return r.refCounter+=1,r;try{r||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let i;if(typeof t=="string"?(r.url=t,i=await rl(t,"blob")):t instanceof File?i=r.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=Qm._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((c,u)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,c()},o.onload=async()=>{const d=r.svgUrl=o.result;a.src=await s?`${d}#svgView(preserveAspectRatio(none))`:d},a.onerror=o.onerror=u});o.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){Dt(i),r=null}return this.#n.set(e,r),r&&this.#n.set(r.id,r),r}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return this.#r(`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return this.#r(e,e)}async getFromBlob(e,t){const r=await t;return this.#r(e,r)}async getFromId(e){this.#n||=new Map;const t=this.#n.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){this.#n||=new Map;let r=this.#n.get(e);if(r?.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#n.set(e,r),this.#n.set(r.id,r),r}getSvgUrl(e){const t=this.#n.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#n||=new Map;const t=this.#n.get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const i=new OffscreenCanvas(r.width,r.height);i.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=i.convertToBlob()}r.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class Aj{#e=[];#t=!1;#n;#r=-1;constructor(e=128){this.#n=e}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(i&&e(),this.#t)return;const l={cmd:e,undo:t,post:r,type:s};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(l);return}if(o&&this.#e[this.#r].type===s){a&&(l.undo=this.#e[this.#r].undo),this.#e[this.#r]=l;return}const c=this.#r+1;c===this.#n?this.#e.splice(0,1):(this.#r=c,c<this.#e.length&&this.#e.splice(c)),this.#e.push(l)}undo(){if(this.#r===-1)return;this.#t=!0;const{undo:e,post:t}=this.#e[this.#r];e(),t?.(),this.#t=!1,this.#r-=1}redo(){if(this.#r<this.#e.length-1){this.#r+=1,this.#t=!0;const{cmd:e,post:t}=this.#e[this.#r];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}cleanType(e){if(this.#r!==-1){for(let t=this.#r;t>=0;t--)if(this.#e[t].type!==e){this.#e.splice(t+1,this.#r-t),this.#r=t;return}this.#e.length=0,this.#r=-1}}destroy(){this.#e=null}}class Ec{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=mr.platform;for(const[r,i,s={}]of e)for(const o of r){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(this.#e(t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:o=[],checker:a=null}}=r;a&&!a(e,t)||(i.bind(e,...o,t)(),s||Jn(t))}}class Jm{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return _j(e),$t(this,"_colors",e)}convert(e){const t=_c(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,o)=>s===t[o]))return Jm._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?vt.makeHexColor(...t):e}}class Hs{#e=new AbortController;#t=null;#n=new Map;#r=new Map;#s=null;#i=null;#o=null;#a=new Aj;#l=null;#c=null;#d=null;#u=0;#p=new Set;#g=null;#f=null;#h=new Set;_editorUndoBar=null;#m=!1;#y=!1;#b=!1;#w=null;#_=null;#v=null;#E=null;#k=!1;#A=null;#I=new Ej;#N=!1;#T=!1;#C=null;#R=null;#F=null;#O=null;#H=null;#S=Ot.NONE;#x=new Set;#B=null;#z=null;#G=null;#q=null;#W={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#V=[0,0];#M=null;#D=null;#j=null;#X=null;#L=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=Hs.prototype,t=o=>o.#D.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return $t(this,"_keyboardManager",new Ec([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&o.#D.contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&o.#D.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}constructor(e,t,r,i,s,o,a,l,c,u,d,h,f,g,m,y){const v=this._signal=this.#e.signal;this.#D=e,this.#j=t,this.#X=r,this.#s=i,this.#l=s,this.#z=o,this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:v}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),a._on("setpreference",this.onSetPreference.bind(this),{signal:v}),a._on("switchannotationeditorparams",A=>this.updateParams(A.type,A.value),{signal:v}),this.#se(),this.#ce(),this.#Q(),this.#i=l.annotationStorage,this.#w=l.filterFactory,this.#G=c,this.#E=u||null,this.#m=d,this.#y=h,this.#b=f,this.#H=g||null,this.viewParameters={realScale:Xo.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=m||null,this._supportsPinchToZoom=y!==!1}destroy(){this.#L?.resolve(),this.#L=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#r.values())e.destroy();this.#r.clear(),this.#n.clear(),this.#h.clear(),this.#O?.clear(),this.#t=null,this.#x.clear(),this.#a.destroy(),this.#s?.destroy(),this.#l?.destroy(),this.#z?.destroy(),this.#A?.hide(),this.#A=null,this.#F?.destroy(),this.#F=null,this.#_&&(clearTimeout(this.#_),this.#_=null),this.#M&&(clearTimeout(this.#M),this.#M=null),this._editorUndoBar?.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#H}get useNewAltTextFlow(){return this.#y}get useNewAltTextWhenAddingImage(){return this.#b}get hcmFilter(){return $t(this,"hcmFilter",this.#G?this.#w.addHCMFilter(this.#G.foreground,this.#G.background):"none")}get direction(){return $t(this,"direction",getComputedStyle(this.#D).direction)}get _highlightColors(){return $t(this,"_highlightColors",this.#E?new Map(this.#E.split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return $t(this,"highlightColors",null);const t=new Map,r=!!this.#G;for(const[i,s]of e){const o=i.endsWith("_HCM");if(r&&o){t.set(i.replace("_HCM",""),s);continue}!r&&!o&&t.set(i,s)}return $t(this,"highlightColors",t)}get highlightColorNames(){return $t(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#d=e}setMainHighlightColorPicker(e){this.#F=e}editAltText(e,t=!1){this.#s?.editAltText(this,e,t)}hasCommentManager(){return!!this.#l}editComment(e,t){this.#l?.open(this,e,t)}getSignature(e){this.#z?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#z}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":this.#b=t;break}}onPageChanging({pageNumber:e}){this.#u=e-1}focusMainContainer(){this.#D.focus()}findParent(e,t){for(const r of this.#r.values()){const{x:i,y:s,width:o,height:a}=r.div.getBoundingClientRect();if(e>=i&&e<=i+o&&t>=s&&t<=s+a)return r}return null}disableUserSelect(e=!1){this.#j.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#h.add(e)}removeShouldRescale(e){this.#h.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Xo.PDF_TO_CSS_UNITS;for(const t of this.#h)t.onScaleChanging();this.#d?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#$({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#Z(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of this.#r.values())if(r.hasTextLayer(e))return r;return null}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}=t,a=t.toString(),c=this.#$(t).closest(".textLayer"),u=this.getSelectionBoxes(c);if(!u)return;t.empty();const d=this.#Z(c),h=this.#S===Ot.NONE,f=()=>{d?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:u,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o,text:a}),h&&this.showAllEditors("highlight",!0,!0)};if(h){this.switchToMode(Ot.HIGHLIGHT,f);return}f()}#re(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=this.#$(e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(this.#A||=new xj(this),this.#A.show(r,i,this.direction==="ltr"))}addToAnnotationStorage(e){!e.isEmpty()&&this.#i&&!this.#i.has(e.id)&&this.#i.setValue(e.id,e)}a11yAlert(e,t=null){const r=this.#X;r&&(r.setAttribute("data-l10n-id",e),t?r.setAttribute("data-l10n-args",JSON.stringify(t)):r.removeAttribute("data-l10n-args"))}#ie(){const e=document.getSelection();if(!e||e.isCollapsed){this.#B&&(this.#A?.hide(),this.#B=null,this.#P({hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===this.#B)return;const i=this.#$(e).closest(".textLayer");if(!i){this.#B&&(this.#A?.hide(),this.#B=null,this.#P({hasSelectedText:!1}));return}if(this.#A?.hide(),this.#B=t,this.#P({hasSelectedText:!0}),!(this.#S!==Ot.HIGHLIGHT&&this.#S!==Ot.NONE)&&(this.#S===Ot.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#k=this.isShiftKeyDown,!this.isShiftKeyDown)){const s=this.#S===Ot.HIGHLIGHT?this.#Z(i):null;s?.toggleDrawing();const o=new AbortController,a=this.combinedSignal(o),l=c=>{c.type==="pointerup"&&c.button!==0||(o.abort(),s?.toggleDrawing(!0),c.type==="pointerup"&&this.#Y("main_toolbar"))};window.addEventListener("pointerup",l,{signal:a}),window.addEventListener("blur",l,{signal:a})}}#Y(e=""){this.#S===Ot.HIGHLIGHT?this.highlightSelection(e):this.#m&&this.#re()}#se(){document.addEventListener("selectionchange",this.#ie.bind(this),{signal:this._signal})}#oe(){if(this.#v)return;this.#v=new AbortController;const e=this.combinedSignal(this.#v);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#ae(){this.#v?.abort(),this.#v=null}blur(){if(this.isShiftKeyDown=!1,this.#k&&(this.#k=!1,this.#Y("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#x)if(t.div.contains(e)){this.#R=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#R)return;const[e,t]=this.#R;this.#R=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}#Q(){if(this.#C)return;this.#C=new AbortController;const e=this.combinedSignal(this.#C);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#le(){this.#C?.abort(),this.#C=null}#J(){if(this.#c)return;this.#c=new AbortController;const e=this.combinedSignal(this.#c);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#ee(){this.#c?.abort(),this.#c=null}#ce(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#Q(),this.#J()}removeEditListeners(){this.#le(),this.#ee()}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of this.#f)if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of this.#f)if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of this.#x){const i=r.serialize(!0);i&&t.push(i)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of this.#f)if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){Dt(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const c=await i.deserialize(l);if(!c)return;s.push(c)}const o=()=>{for(const l of s)this.#te(l);this.#ne(s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){Dt(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#S!==Ot.NONE&&!this.isEditorHandlingKeyboard&&Hs._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#k&&(this.#k=!1,this.#Y("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#P(e){Object.entries(e).some(([r,i])=>this.#W[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#W,e)}),this.#S===Ot.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#U([[ln.HIGHLIGHT_FREE,!0]]))}#U(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#oe(),this.#J(),this.#P({isEditing:this.#S!==Ot.NONE,isEmpty:this.#K(),hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:this.#a.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ae(),this.#ee(),this.#P({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#f){this.#f=e;for(const t of this.#f)this.#U(t.defaultPropertiesToUpdate)}}getId(){return this.#I.id}get currentLayer(){return this.#r.get(this.#u)}getLayer(e){return this.#r.get(e)}get currentPageIndex(){return this.#u}addLayer(e){this.#r.set(e.pageIndex,e),this.#N?e.enable():e.disable()}removeLayer(e){this.#r.delete(e.pageIndex)}async updateMode(e,t=null,r=!1,i=!1,s=!1){if(this.#S!==e&&!(this.#L&&(await this.#L.promise,!this.#L))){if(this.#L=Promise.withResolvers(),this.#d?.commitOrRemove(),this.#S=e,e===Ot.NONE){this.setEditingState(!1),this.#de(),this._editorUndoBar?.hide(),this.#L.resolve();return}e===Ot.SIGNATURE&&await this.#z?.loadSignatures(),this.setEditingState(!0),await this.#ue(),this.unselectAll();for(const o of this.#r.values())o.updateMode(e);if(!t){r&&this.addNewEditorFromKeyboard(),this.#L.resolve();return}for(const o of this.#n.values())o.annotationElementId===t||o.id===t?(this.setSelected(o),s?o.editComment():i&&o.enterInEditMode()):o.unselect();this.#L.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#S&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(this.#f){switch(e){case ln.CREATE:this.currentLayer.addNewEditor(t);return;case ln.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#q||=new Map).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const r of this.#x)r.updateParams(e,t);else for(const r of this.#f)r.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){for(const s of this.#n.values())s.editorType===e&&s.show(t);(this.#q?.get(ln.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#U([[ln.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#T!==e){this.#T=e;for(const t of this.#r.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}async#ue(){if(!this.#N){this.#N=!0;const e=[];for(const t of this.#r.values())e.push(t.enable());await Promise.all(e);for(const t of this.#n.values())t.enable()}}#de(){if(this.unselectAll(),this.#N){this.#N=!1;for(const e of this.#r.values())e.disable();for(const e of this.#n.values())e.disable()}}getEditors(e){const t=[];for(const r of this.#n.values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#_&&clearTimeout(this.#_),this.#_=setTimeout(()=>{this.focusMainContainer(),this.#_=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#O?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#p.has(e.annotationElementId))&&this.#i?.remove(e.id)}addDeletedAnnotationElement(e){this.#p.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#p.has(e)}removeDeletedAnnotationElement(e){this.#p.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#te(e){const t=this.#r.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#U(e.propertiesToUpdate))}get#he(){let e=null;for(e of this.#x);return e}updateUI(e){this.#he===e&&this.#U(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#U(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#x.has(e)){this.#x.delete(e),e.unselect(),this.#P({hasSelectedEditor:this.hasSelection});return}this.#x.add(e),e.select(),this.#U(e.propertiesToUpdate),this.#P({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.id}),this.#d?.commitOrRemove();for(const t of this.#x)t!==e&&t.unselect();this.#x.clear(),this.#x.add(e),e.select(),this.#U(e.propertiesToUpdate),this.#P({hasSelectedEditor:!0})}isSelected(e){return this.#x.has(e)}get firstSelectedEditor(){return this.#x.values().next().value}unselect(e){e.unselect(),this.#x.delete(e),this.#P({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#x.size!==0}get isEnterHandled(){return this.#x.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#a.undo(),this.#P({hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#K()}),this._editorUndoBar?.hide()}redo(){this.#a.redo(),this.#P({hasSomethingToUndo:!0,hasSomethingToRedo:this.#a.hasSomethingToRedo(),isEmpty:this.#K()})}addCommands(e){this.#a.add(e),this.#P({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#K()})}cleanUndoStack(e){this.#a.cleanType(e)}#K(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...this.#x],r=()=>{this._editorUndoBar?.show(i,t.length===1?t[0].editorType:t.length);for(const s of t)s.remove()},i=()=>{for(const s of t)this.#te(s)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#ne(e){for(const t of this.#x)t.unselect();this.#x.clear();for(const t of e)t.isEmpty()||(this.#x.add(t),t.select());this.#P({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#x)e.commit();this.#ne(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#S!==Ot.NONE))&&!this.#d?.commitOrRemove()&&this.hasSelection){for(const e of this.#x)e.unselect();this.#x.clear(),this.#P({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;this.#V[0]+=e,this.#V[1]+=t;const[i,s]=this.#V,o=[...this.#x],a=1e3;this.#M&&clearTimeout(this.#M),this.#M=setTimeout(()=>{this.#M=null,this.#V[0]=this.#V[1]=0,this.addCommands({cmd:()=>{for(const l of o)this.#n.has(l.id)&&(l.translateInPage(i,s),l.translationDone())},undo:()=>{for(const l of o)this.#n.has(l.id)&&(l.translateInPage(-i,-s),l.translationDone())},mustExec:!1})},a);for(const l of o)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#g=new Map;for(const e of this.#x)this.#g.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#g)return!1;this.disableUserSelect(!1);const e=this.#g;this.#g=null;let t=!1;for(const[{x:i,y:s,pageIndex:o},a]of e)a.newX=i,a.newY=s,a.newPageIndex=o,t||=i!==a.savedX||s!==a.savedY||o!==a.savedPageIndex;if(!t)return!1;const r=(i,s,o,a)=>{if(this.#n.has(i.id)){const l=this.#r.get(a);l?i._setParentAndPosition(l,s,o):(i.pageIndex=a,i.x=s,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:o,newPageIndex:a}]of e)r(i,s,o,a)},undo:()=>{for(const[i,{savedX:s,savedY:o,savedPageIndex:a}]of e)r(i,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#g)for(const r of this.#g.keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#x.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#S}get imageManager(){return $t(this,"imageManager",new Qm)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,u=t.rangeCount;c<u;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(c,u,d,h)=>({x:(u-i)/o,y:1-(c+d-r)/s,width:h/o,height:d/s});break;case"180":a=(c,u,d,h)=>({x:1-(c+d-r)/s,y:1-(u+h-i)/o,width:d/s,height:h/o});break;case"270":a=(c,u,d,h)=>({x:1-(u+h-i)/o,y:(c-r)/s,width:h/o,height:d/s});break;default:a=(c,u,d,h)=>({x:(c-r)/s,y:(u-i)/o,width:d/s,height:h/o});break}const l=[];for(let c=0,u=t.rangeCount;c<u;c++){const d=t.getRangeAt(c);if(!d.collapsed)for(const{x:h,y:f,width:g,height:m}of d.getClientRects())g===0||m===0||l.push(a(h,f,g,m))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#o||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#o?.delete(e)}renderAnnotationElement(e){const t=this.#o?.get(e.data.id);if(!t)return;const r=this.#i.getRawValue(t);r&&(this.#S===Ot.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,t,r){const i=this.#O?.get(e);i&&(i.setCanvas(t,r),this.#O.delete(e))}addMissingCanvas(e,t){(this.#O||=new Map).set(e,t)}}class hs{#e=null;#t=!1;#n=null;#r=null;#s=null;#i=null;#o=!1;#a=null;#l=null;#c=null;#d=null;#u=!1;static#p=null;static _l10n=null;constructor(e){this.#l=e,this.#u=e._uiManager.useNewAltTextFlow,hs.#p||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){hs._l10n??=e}async render(){const e=this.#n=document.createElement("button");e.className="altText",e.tabIndex="0";const t=this.#r=document.createElement("span");e.append(t),this.#u?(e.classList.add("new"),e.setAttribute("data-l10n-id",hs.#p.missing),t.setAttribute("data-l10n-id",hs.#p["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=this.#l._uiManager._signal;e.addEventListener("contextmenu",wi,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),this.#l._uiManager.editAltText(this.#l),this.#u&&this.#l._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#o=!0,i(s))},{signal:r}),await this.#f(),e}get#g(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#o}),this.#o=!1)}isEmpty(){return this.#u?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#u?this.#e!==null||!!this.#c:this.isEmpty()}get guessedText(){return this.#c}async setGuessedText(e){this.#e===null&&(this.#c=e,this.#d=await hs._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#f())}toggleAltTextBadge(e=!1){if(!this.#u||this.#e){this.#a?.remove(),this.#a=null;return}if(!this.#a){const t=this.#a=document.createElement("div");t.className="noAltTextBadge",this.#l.div.append(t)}this.#a.classList.toggle("hidden",!e)}serialize(e){let t=this.#e;return!e&&this.#c===t&&(t=this.#d),{altText:t,decorative:this.#t,guessedText:this.#c,textWithDisclaimer:this.#d}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(this.#c=r,this.#d=i),!(this.#e===e&&this.#t===t)&&(s||(this.#e=e,this.#t=t),this.#f())}toggle(e=!1){this.#n&&(!e&&this.#i&&(clearTimeout(this.#i),this.#i=null),this.#n.disabled=!e)}shown(){this.#l._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#n?.remove(),this.#n=null,this.#r=null,this.#s=null,this.#a?.remove(),this.#a=null}async#f(){const e=this.#n;if(!e)return;if(this.#u){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",hs.#p[this.#g]),this.#r?.setAttribute("data-l10n-id",hs.#p[`${this.#g}-label`]),!this.#e){this.#s?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#s?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=this.#s;if(!t){this.#s=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${this.#l.id}`;const i=100,s=this.#l._uiManager._signal;s.addEventListener("abort",()=>{clearTimeout(this.#i),this.#i=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#i=setTimeout(()=>{this.#i=null,this.#s.classList.add("show"),this.#l._reportTelemetry({action:"alt_text_tooltip"})},i)},{signal:s}),e.addEventListener("mouseleave",()=>{this.#i&&(clearTimeout(this.#i),this.#i=null),this.#s?.classList.remove("show")},{signal:s})}this.#t?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=this.#e),t.parentNode||e.append(t),this.#l.getElementForAltText()?.setAttribute("aria-describedby",t.id)}}let ch=class{#e=null;#t=!1;#n=null;#r=null;#s=null;#i=null;#o=!1;constructor(e){this.#n=e,this.toolbar=null}render(){if(!this.#n._uiManager.hasCommentManager())return null;const e=this.#e=document.createElement("button");e.className="comment",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button");const t=this.#n._uiManager._signal;e.addEventListener("contextmenu",wi,{signal:t}),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:t});const r=i=>{i.preventDefault(),this.edit()};return e.addEventListener("click",r,{capture:!0,signal:t}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(this.#t=!0,r(i))},{signal:t}),e}edit(){const{bottom:e,left:t,right:r}=this.#n.getClientDimensions(),i={top:e};this.#n._uiManager.direction==="ltr"?i.right=r:i.left=t,this.#n._uiManager.editComment(this.#n,i)}finish(){this.#e&&(this.#e.focus({focusVisible:this.#t}),this.#t=!1)}isDeleted(){return this.#o||this.#s===""}hasBeenEdited(){return this.isDeleted()||this.#s!==this.#r}serialize(){return this.data}get data(){return{text:this.#s,date:this.#i,deleted:this.#o}}set data(e){if(e===null){this.#s="",this.#o=!0;return}this.#s=e,this.#i=new Date,this.#o=!1}setInitialText(e){this.#r=e,this.data=e}toggle(e=!1){this.#e&&(this.#e.disabled=!e)}shown(){}destroy(){this.#e?.remove(),this.#e=null,this.#s="",this.#i=null,this.#n=null,this.#t=!1,this.#o=!1}};class Ac{#e;#t=!1;#n=null;#r;#s;#i;#o;#a=null;#l;#c=null;#d;#u=null;constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:o=null,signal:a}){this.#e=e,this.#n=r,this.#r=t,this.#s=i,this.#i=s,this.#o=o,this.#d=new AbortController,this.#l=AbortSignal.any([a,this.#d.signal]),e.addEventListener("touchstart",this.#p.bind(this),{passive:!1,signal:this.#l})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/$i.pixelRatio}#p(e){if(this.#r?.())return;if(e.touches.length===1){if(this.#a)return;const i=this.#a=new AbortController,s=AbortSignal.any([this.#l,i.signal]),o=this.#e,a={capture:!0,signal:s,passive:!1},l=c=>{c.pointerType==="touch"&&(this.#a?.abort(),this.#a=null)};o.addEventListener("pointerdown",c=>{c.pointerType==="touch"&&(Jn(c),l(c))},a),o.addEventListener("pointerup",l,a),o.addEventListener("pointercancel",l,a);return}if(!this.#u){this.#u=new AbortController;const i=AbortSignal.any([this.#l,this.#u.signal]),s=this.#e,o={signal:i,capture:!1,passive:!1};s.addEventListener("touchmove",this.#g.bind(this),o);const a=this.#f.bind(this);s.addEventListener("touchend",a,o),s.addEventListener("touchcancel",a,o),o.capture=!0,s.addEventListener("pointerdown",Jn,o),s.addEventListener("pointermove",Jn,o),s.addEventListener("pointercancel",Jn,o),s.addEventListener("pointerup",Jn,o),this.#s?.()}if(Jn(e),e.touches.length!==2||this.#n?.()){this.#c=null;return}let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]),this.#c={touch0X:t.screenX,touch0Y:t.screenY,touch1X:r.screenX,touch1Y:r.screenY}}#g(e){if(!this.#c||e.touches.length!==2)return;Jn(e);let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]);const{screenX:i,screenY:s}=t,{screenX:o,screenY:a}=r,l=this.#c,{touch0X:c,touch0Y:u,touch1X:d,touch1Y:h}=l,f=d-c,g=h-u,m=o-i,y=a-s,v=Math.hypot(m,y)||1,A=Math.hypot(f,g)||1;if(!this.#t&&Math.abs(A-v)<=Ac.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=o,l.touch1Y=a,!this.#t){this.#t=!0;return}const E=[(i+o)/2,(s+a)/2];this.#i?.(E,A,v)}#f(e){e.touches.length>=2||(this.#u&&(this.#u.abort(),this.#u=null,this.#o?.()),this.#c&&(Jn(e),this.#c=null,this.#t=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#a?.abort(),this.#a=null}}class Et{#e=null;#t=null;#n=null;#r=null;#s=!1;#i=null;#o="";#a=!1;#l=null;#c=null;#d=null;#u=null;#p="";#g=!1;#f=null;#h=!1;#m=!1;#y=!1;#b=null;#w=0;#_=0;#v=null;#E=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#k=!1;#A=Et._zIndex++;static _borderLineWidth=-1;static _colorManager=new Jm;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=Et.prototype._resizeWithKeyboard,t=Hs.TRANSLATE_SMALL,r=Hs.TRANSLATE_BIG;return $t(this,"_resizerKeyboardManager",new Ec([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],Et.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return $t(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Sj({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Et._l10n??=e,Et._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Et._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);Et._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){En("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#k}set _isDraggable(e){this.#k=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#A}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#j(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#g?this.#g=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/o,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[r,i]=this.parentDimensions;this.setAt(e*r,t*i,this.width*r,this.height*i),this._onTranslated()}#I([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,t){this.#I(this.parentDimensions,e,t)}translateInPage(e,t){this.#f||=[this.x,this.y,this.width,this.height],this.#I(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){this.#f||=[this.x,this.y,this.width,this.height];const{div:r,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:a}=this;const[l,c]=this.getBaseTranslation();o+=l,a+=c;const{style:u}=r;u.left=`${(100*o).toFixed(2)}%`,u.top=`${(100*a).toFixed(2)}%`,this._onTranslating(o,a),r.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!this.#f&&(this.#f[0]!==this.x||this.#f[1]!==this.y)}get _hasBeenResized(){return!!this.#f&&(this.#f[2]!==this.width||this.#f[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=Et,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[r,i]}=this;let{x:s,y:o,width:a,height:l}=this;if(a*=r,l*=i,s*=r,o*=i,this._mustFixPosition)switch(e){case 0:s=Rr(s,0,r-a),o=Rr(o,0,i-l);break;case 90:s=Rr(s,0,r-l),o=Rr(o,a,i);break;case 180:s=Rr(s,a,r),o=Rr(o,l,i);break;case 270:s=Rr(s,l,r),o=Rr(o,0,i-a);break}this.x=s/=r,this.y=o/=i;const[c,u]=this.getBaseTranslation();s+=c,o+=u,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}static#N(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return Et.#N(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return Et.#N(e,t,360-this.parentRotation)}#T(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(e,t){const[r,i]=this.parentDimensions,{style:s}=this.div;s.width=`${(100*e/r).toFixed(2)}%`,this.#a||(s.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,i=r.endsWith("%"),s=!this.#a&&t.endsWith("%");if(i&&s)return;const[o,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/o).toFixed(2)}%`),!this.#a&&!s&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#C(){if(this.#l)return;this.#l=document.createElement("div"),this.#l.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");this.#l.append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",this.#R.bind(this,r),{signal:t}),i.addEventListener("contextmenu",wi,{signal:t}),i.tabIndex=-1}this.div.prepend(this.#l)}#R(e,t){t.preventDefault();const{isMac:r}=mr.platform;if(t.button!==0||t.ctrlKey&&r)return;this.#n?.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,this.#c=[t.screenX,t.screenY];const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#H.bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",Jn,{passive:!1,signal:o}),window.addEventListener("contextmenu",wi,{signal:o}),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const a=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const c=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=a,this.div.style.cursor=l,this.#O()};window.addEventListener("pointerup",c,{signal:o}),window.addEventListener("blur",c,{signal:o})}#F(e,t,r,i){this.width=r,this.height=i,this.x=e,this.y=t;const[s,o]=this.parentDimensions;this.setDims(s*r,o*i),this.fixAndSetPosition(),this._onResized()}_onResized(){}#O(){if(!this.#d)return;const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=this.#d;this.#d=null;const s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===t&&a===r&&l===i||this.addCommands({cmd:this.#F.bind(this,s,o,a,l),undo:this.#F.bind(this,e,t,r,i),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#H(e,t){const[r,i]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,c=Et.MIN_SIZE/r,u=Et.MIN_SIZE/i,d=this.#T(this.rotation),h=(H,Q)=>[d[0]*H+d[2]*Q,d[1]*H+d[3]*Q],f=this.#T(360-this.rotation),g=(H,Q)=>[f[0]*H+f[2]*Q,f[1]*H+f[3]*Q];let m,y,v=!1,A=!1;switch(e){case"topLeft":v=!0,m=(H,Q)=>[0,0],y=(H,Q)=>[H,Q];break;case"topMiddle":m=(H,Q)=>[H/2,0],y=(H,Q)=>[H/2,Q];break;case"topRight":v=!0,m=(H,Q)=>[H,0],y=(H,Q)=>[0,Q];break;case"middleRight":A=!0,m=(H,Q)=>[H,Q/2],y=(H,Q)=>[0,Q/2];break;case"bottomRight":v=!0,m=(H,Q)=>[H,Q],y=(H,Q)=>[0,0];break;case"bottomMiddle":m=(H,Q)=>[H/2,Q],y=(H,Q)=>[H/2,0];break;case"bottomLeft":v=!0,m=(H,Q)=>[0,Q],y=(H,Q)=>[H,0];break;case"middleLeft":A=!0,m=(H,Q)=>[0,Q/2],y=(H,Q)=>[H,Q/2];break}const E=m(a,l),S=y(a,l);let C=h(...S);const x=Et._round(s+C[0]),N=Et._round(o+C[1]);let D=1,V=1,O,K;if(t.fromKeyboard)({deltaX:O,deltaY:K}=t);else{const{screenX:H,screenY:Q}=t,[X,le]=this.#c;[O,K]=this.screenToPageTranslation(H-X,Q-le),this.#c[0]=H,this.#c[1]=Q}if([O,K]=g(O/r,K/i),v){const H=Math.hypot(a,l);D=V=Math.max(Math.min(Math.hypot(S[0]-E[0]-O,S[1]-E[1]-K)/H,1/a,1/l),c/a,u/l)}else A?D=Rr(Math.abs(S[0]-E[0]-O),c,1)/a:V=Rr(Math.abs(S[1]-E[1]-K),u,1)/l;const B=Et._round(a*D),U=Et._round(l*V);C=h(...y(B,U));const L=x-C[0],W=N-C[1];this.#f||=[this.x,this.y,this.width,this.height],this.width=B,this.height=U,this.x=L,this.y=W,this.setDims(r*B,i*U),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#m)return this._editToolbar;this._editToolbar=new xc(this),this.div.append(this._editToolbar.render()),this._editToolbar.addButton("comment",this.addCommentButton());const{toolbarButtons:e}=this;if(e)for(const[t,r]of e)await this._editToolbar.addButton(t,r);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(e){const t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#n||(hs.initialize(Et._l10n),this.#n=new hs(this),this.#e&&(this.#n.data=this.#e,this.#e=null)),this.#n}get altTextData(){return this.#n?.data}set altTextData(e){this.#n&&(this.#n.data=e)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(e){await this.#n?.setGuessedText(e)}serializeAltText(e){return this.#n?.serialize(e)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}addCommentButton(){return this.#r?this.#r:this.#r=new ch(this)}get commentColor(){return null}get comment(){const e=this.#r;return{text:e.data.text,date:e.data.date,deleted:e.isDeleted(),color:this.commentColor}}set comment(e){this.#r||(this.#r=new ch(this)),this.#r.data=e}setCommentData(e){this.#r||(this.#r=new ch(this)),this.#r.setInitialText(e)}get hasEditedComment(){return this.#r?.hasBeenEdited()}async editComment(){this.#r||(this.#r=new ch(this)),this.#r.edit()}addComment(e){this.hasEditedComment&&(e.popup={contents:this.comment.text,deleted:this.comment.deleted})}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#s?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#q();const[t,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),uA(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#E||=new Ac({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#S.bind(this),onPinching:this.#x.bind(this),onPinchEnd:this.#B.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),e}#S(){this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#x(e,t,r){let s=.7*(r/t)+1-.7;if(s===1)return;const o=this.#T(this.rotation),a=(x,N)=>[o[0]*x+o[2]*N,o[1]*x+o[3]*N],[l,c]=this.parentDimensions,u=this.x,d=this.y,h=this.width,f=this.height,g=Et.MIN_SIZE/l,m=Et.MIN_SIZE/c;s=Math.max(Math.min(s,1/h,1/f),g/h,m/f);const y=Et._round(h*s),v=Et._round(f*s);if(y===h&&v===f)return;this.#f||=[u,d,h,f];const A=a(h/2,f/2),E=Et._round(u+A[0]),S=Et._round(d+A[1]),C=a(y/2,v/2);this.x=E-C[0],this.y=S-C[1],this.width=y,this.height=v,this.setDims(l*y,c*v),this.fixAndSetPosition(),this._onResizing()}#B(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#O()}pointerdown(e){const{isMac:t}=mr.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#g=!0,this._isDraggable){this.#G(e);return}this.#z(e)}#z(e){const{isMac:t}=mr.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#G(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),o={capture:!0,passive:!1,signal:s},a=c=>{i.abort(),this.#i=null,this.#g=!1,this._uiManager.endDragSession()||this.#z(c),r&&this._onStopDragging()};t&&(this.#w=e.clientX,this.#_=e.clientY,this.#i=e.pointerId,this.#o=e.pointerType,window.addEventListener("pointermove",c=>{r||(r=!0,this._onStartDragging());const{clientX:u,clientY:d,pointerId:h}=c;if(h!==this.#i){Jn(c);return}const[f,g]=this.screenToPageTranslation(u-this.#w,d-this.#_);this.#w=u,this.#_=d,this._uiManager.dragSelectedEditors(f,g)},o),window.addEventListener("touchmove",Jn,o),window.addEventListener("pointerdown",c=>{c.pointerType===this.#o&&(this.#E||c.isPrimary)&&a(c),Jn(c)},o));const l=c=>{if(!this.#i||this.#i===c.pointerId){a(c);return}Jn(c)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.#b=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=e/i,u=t/i,d=this.x*s,h=this.y*o,f=this.width*s,g=this.height*o;switch(r){case 0:return[d+c+a,o-h-u-g+l,d+c+f+a,o-h-u+l];case 90:return[d+u+a,o-h+c+l,d+u+g+a,o-h+c+f+l];case 180:return[d-c-f+a,o-h+u+l,d-c+a,o-h+u+g+l];case 270:return[d-u-g+a,o-h-c-f+l,d-u+a,o-h-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,o]=e,a=s-r,l=o-i;switch(this.rotation){case 0:return[r,t-o,a,l];case 90:return[r,t-i,l,a];case 180:return[s,t-i,a,l];case 270:return[s,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#m=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#m=!1,!0):!1}isInEditMode(){return this.#m}shouldGetKeyboardEvents(){return this.#y}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:o}=window;return t<o&&i>0&&e<s&&r>0}#q(){if(this.#u||!this.div)return;this.#u=new AbortController;const e=this._uiManager.combinedSignal(this.#u);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#q()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){En("An editor must be serializable")}static async deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r,annotationElementId:e.annotationElementId});i.rotation=e.rotation,i.#e=e.accessibilityData,i._isCopy=e.isCopy||!1;const[s,o]=i.pageDimensions,[a,l,c,u]=i.getRectInCurrentCoords(e.rect,o);return i.x=a/s,i.y=l/o,i.width=c/s,i.height=u/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#u?.abort(),this.#u=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#b&&(clearTimeout(this.#b),this.#b=null),this.#j(),this.removeEditToolbar(),this.#v){for(const e of this.#v.values())clearTimeout(e);this.#v=null}this.parent=null,this.#E?.destroy(),this.#E=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#C(),this.#l.classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#l.children;if(!this.#t){this.#t=Array.from(t);const o=this.#W.bind(this),a=this.#V.bind(this),l=this._uiManager._signal;for(const c of this.#t){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",o,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",this.#M.bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",Et._l10nResizer[u])}}const r=this.#t[0];let i=0;for(const o of t){if(o===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(s!==i){if(s<i)for(let a=0;a<i-s;a++)this.#l.append(this.#l.firstChild);else if(s>i)for(let a=0;a<s-i;a++)this.#l.firstChild.before(this.#l.lastChild);let o=0;for(const a of t){const c=this.#t[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",Et._l10nResizer[c])}}this.#D(0),this.#y=!0,this.#l.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#W(e){Et._resizerKeyboardManager.exec(this,e)}#V(e){this.#y&&e.relatedTarget?.parentNode!==this.#l&&this.#j()}#M(e){this.#p=this.#y?e:""}#D(e){if(this.#t)for(const t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#y&&this.#H(this.#p,{deltaX:e,deltaY:t,fromKeyboard:!0})}#j(){this.#y=!1,this.#D(-1),this.#O()}_stopResizingWithKeyboard(){this.#j(),this.div.focus()}select(){if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}}unselect(){this.isSelected&&(this.isSelected=!1,this.#l?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#h}set isEditing(e){this.#h=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){this.#a=!0;const r=e/t,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#v||=new Map;const{action:r}=e;let i=this.#v.get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),this.#v.delete(r),this.#v.size===0&&(this.#v=null)},Et._telemetryTimeout),this.#v.set(r,i);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}}class Sj extends Et{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const dA=3285377520,Li=4294901760,fs=65535;class hA{constructor(e){this.h1=e?e&4294967295:dA,this.h2=e?e&4294967295:dA}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let m=0,y=e.length;m<y;m++){const v=e.charCodeAt(m);v<=255?t[r++]=v:(t[r++]=v>>>8,t[r++]=v&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,o=new Uint32Array(t.buffer,0,i);let a=0,l=0,c=this.h1,u=this.h2;const d=3432918353,h=461845907,f=d&fs,g=h&fs;for(let m=0;m<i;m++)m&1?(a=o[m],a=a*d&Li|a*f&fs,a=a<<15|a>>>17,a=a*h&Li|a*g&fs,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(l=o[m],l=l*d&Li|l*f&fs,l=l<<15|l>>>17,l=l*h&Li|l*g&fs,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(a=0,s){case 3:a^=t[i*4+2]<<16;case 2:a^=t[i*4+1]<<8;case 1:a^=t[i*4],a=a*d&Li|a*f&fs,a=a<<15|a>>>17,a=a*h&Li|a*g&fs,i&1?c^=a:u^=a}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Li|e*36045&fs,t=t*4283543511&Li|((t<<16|e>>>16)*2950163797&Li)>>>16,e^=t>>>1,e=e*444984403&Li|e*60499&fs,t=t*3301882366&Li|((t<<16|e>>>16)*3120437893&Li)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const eb=Object.freeze({map:null,hash:"",transfer:void 0});class tb{#e=!1;#t=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=this.#n.get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return this.#n.get(e)}remove(e){if(this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of this.#n.values())if(t instanceof Et)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=this.#n.get(e);let i=!1;if(r!==void 0)for(const[s,o]of Object.entries(t))r[s]!==o&&(i=!0,r[s]=o);else i=!0,this.#n.set(e,t);i&&this.#r(),t instanceof Et&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#n.has(e)}get size(){return this.#n.size}#r(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new fA(this)}get serializable(){if(this.#n.size===0)return eb;const e=new Map,t=new hA,r=[],i=Object.create(null);let s=!1;for(const[o,a]of this.#n){const l=a instanceof Et?a.serialize(!1,i):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),s||=!!l.bitmap)}if(s)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:eb}get editorStats(){let e=null;const t=new Map;for(const r of this.#n.values()){if(!(r instanceof Et))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(r).constructor),e||=Object.create(null);const o=e[s]||=new Map;for(const[a,l]of Object.entries(i)){if(a==="type")continue;let c=o.get(a);c||(c=new Map,o.set(a,c));const u=c.get(l)??0;c.set(l,u+1)}}for(const[r,i]of t)e[r]=i.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){this.#t=null}get modifiedIds(){if(this.#t)return this.#t;const e=[];for(const t of this.#n.values())!(t instanceof Et)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class fA extends tb{#e;constructor(e){super();const{map:t,hash:r,transfer:i}=e.serializable,s=structuredClone(t,i?{transfer:i}:null);this.#e={map:s,hash:r,transfer:i}}get print(){En("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return $t(this,"modifiedIds",{ids:new Set,hash:""})}}class kj{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:r}){if(!(!e||this.#e.has(e.loadedName))){if(sr(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:o}=e,a=new FontFace(i,s,o);this.addNativeFontFace(a);try{await a.load(),this.#e.add(i),r?.(e)}catch{Dt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}En("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw Dt(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return $t(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return $t(this,"isSyncFontLoadingSupported",Kr||mr.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(sr(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return $t(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(S,C){return S.charCodeAt(C)<<24|S.charCodeAt(C+1)<<16|S.charCodeAt(C+2)<<8|S.charCodeAt(C+3)&255}function i(S,C,x,N){const D=S.substring(0,C),V=S.substring(C+x);return D+N+V}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;function u(S,C){if(++c>30){Dt("Load test font never loaded."),C();return}if(l.font="30px "+S,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){C();return}setTimeout(u.bind(null,S,C))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=i(h,976,d.length,d);const g=16,m=1482184792;let y=r(h,g);for(s=0,o=d.length-3;s<o;s+=4)y=y-m+r(d,s)|0;s<d.length&&(y=y-m+r(d+"XXX",s)|0),h=i(h,g,4,pj(y));const v=`url(data:font/opentype;base64,${btoa(h)});`,A=`@font-face {font-family:"${d}";src:${v}}`;this.insertRule(A);const E=this._document.createElement("div");E.style.visibility="hidden",E.style.width=E.style.height="10px",E.style.position="absolute",E.style.top=E.style.left="0px";for(const S of[e.loadedName,d]){const C=this._document.createElement("span");C.textContent="Hi",C.style.fontFamily=S,E.append(C)}this._document.body.append(E),u(d,()=>{E.remove(),t.complete()})}}class Cj{constructor(e,t=null){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this._inspectFont=t}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${sA(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const r=this.loadedName+"_path_"+t;let i;try{i=e.get(r)}catch(o){Dt(`getPathGenerator - ignoring character: "${o}".`)}const s=new Path2D(i||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[t]=s}}function Tj(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(Kr)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Nj(n){if(Kr&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return bc(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n?.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function uh(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const nb=n=>typeof n=="object"&&Number.isInteger(n?.num)&&n.num>=0&&Number.isInteger(n?.gen)&&n.gen>=0,Ij=n=>typeof n=="object"&&typeof n?.name=="string",pA=vj.bind(null,nb,Ij);class Pj{#e=new Map;#t=Promise.resolve();postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(const[i]of this.#e)i.call(this,r)})}addEventListener(e,t,r=null){let i=null;if(r?.signal instanceof AbortSignal){const{signal:s}=r;if(s.aborted){Dt("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}this.#e.set(t,i)}removeEventListener(e,t){this.#e.get(t)?.(),this.#e.delete(t)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const dh={DATA:1,ERROR:2},or={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function gA(){}function ai(n){if(n instanceof zs||n instanceof ih||n instanceof tA||n instanceof mc||n instanceof Km)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||En('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new zs(n.message);case"InvalidPDFException":return new ih(n.message);case"PasswordException":return new tA(n.message,n.code);case"ResponseException":return new mc(n.message,n.status,n.missing);case"UnknownErrorException":return new Km(n.message,n.details)}return new Km(n.message,n.toString())}class Sc{#e=new AbortController;constructor(e,t,r){this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#r(e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===dh.DATA)i.resolve(e.data);else if(e.callback===dh.ERROR)i.reject(ai(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(o){s.postMessage({sourceName:r,targetName:i,callback:dh.DATA,callbackId:e.callbackId,data:o})},function(o){s.postMessage({sourceName:r,targetName:i,callback:dh.ERROR,callbackId:e.callbackId,reason:ai(o)})});return}if(e.streamId){this.#n(e);return}t(e.data)}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:c.desiredSize},i),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,l.postMessage({sourceName:o,targetName:a,stream:or.PULL,streamId:s,desiredSize:c.desiredSize}),u.promise},cancel:c=>{sr(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:or.CANCEL,streamId:s,reason:ai(c)}),u.promise}},r)}#n(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(c,u=1,d){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=u,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:or.ENQUEUE,streamId:t,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:or.CLOSE,streamId:t}),delete o.streamSinks[t])},error(c){sr(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:or.ERROR,streamId:t,reason:ai(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(a,e.data,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:or.START_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:or.START_COMPLETE,streamId:t,reason:ai(c)})})}#r(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case or.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(ai(e.reason));break;case or.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(ai(e.reason));break;case or.PULL:if(!a){s.postMessage({sourceName:r,targetName:i,stream:or.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,Promise.try(a.onPull||gA).then(function(){s.postMessage({sourceName:r,targetName:i,stream:or.PULL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:or.PULL_COMPLETE,streamId:t,reason:ai(c)})});break;case or.ENQUEUE:if(sr(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case or.CLOSE:if(sr(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this.#s(o,t);break;case or.ERROR:sr(o,"error should have stream controller"),o.controller.error(ai(e.reason)),this.#s(o,t);break;case or.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(ai(e.reason)),this.#s(o,t);break;case or.CANCEL:if(!a)break;const l=ai(e.reason);Promise.try(a.onCancel||gA,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:or.CANCEL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:or.CANCEL_COMPLETE,streamId:t,reason:ai(c)})}),a.sinkCapability.reject(l),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#s(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.#e?.abort(),this.#e=null}}class mA{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){En("Abstract method `_createCanvas` called.")}}class Rj extends mA{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class bA{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){En("Abstract method `_fetch` called.")}}class vA extends bA{async _fetch(e){const t=await rl(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):bc(t)}}class yA{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}class Oj extends yA{#e;#t;#n;#r;#s;#i;#o=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#r=e,this.#s=t}get#a(){return this.#t||=new Map}get#l(){return this.#i||=new Map}get#c(){if(!this.#n){const e=this.#s.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const r=this.#s.createElementNS(Us,"svg");r.setAttribute("width",0),r.setAttribute("height",0),this.#n=this.#s.createElementNS(Us,"defs"),e.append(r),r.append(this.#n),this.#s.body.append(e)}return this.#n}#d(e){if(e.length===1){const l=e[0],c=new Array(256);for(let d=0;d<256;d++)c[d]=l[d]/255;const u=c.join(",");return[u,u,u]}const[t,r,i]=e,s=new Array(256),o=new Array(256),a=new Array(256);for(let l=0;l<256;l++)s[l]=t[l]/255,o[l]=r[l]/255,a[l]=i[l]/255;return[s.join(","),o.join(","),a.join(",")]}#u(e){if(this.#e===void 0){this.#e="";const t=this.#s.URL;t!==this.#s.baseURI&&(yc(t)?Dt('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=Wm(t,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#a.get(e);if(t)return t;const[r,i,s]=this.#d(e),o=e.length===1?r:`${r}${i}${s}`;if(t=this.#a.get(o),t)return this.#a.set(e,t),t;const a=`g_${this.#r}_transfer_map_${this.#o++}`,l=this.#u(a);this.#a.set(e,l),this.#a.set(o,l);const c=this.#f(a);return this.#m(r,i,s,c),l}addHCMFilter(e,t){const r=`${e}-${t}`,i="base";let s=this.#l.get(i);if(s?.key===r||(s?(s.filter?.remove(),s.key=r,s.url="none",s.filter=null):(s={key:r,url:"none",filter:null},this.#l.set(i,s)),!e||!t))return s.url;const o=this.#b(e);e=vt.makeHexColor(...o);const a=this.#b(t);if(t=vt.makeHexColor(...a),this.#c.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return s.url;const l=new Array(256);for(let f=0;f<=255;f++){const g=f/255;l[f]=g<=.03928?g/12.92:((g+.055)/1.055)**2.4}const c=l.join(","),u=`g_${this.#r}_hcm_filter`,d=s.filter=this.#f(u);this.#m(c,c,c,d),this.#g(d);const h=(f,g)=>{const m=o[f]/255,y=a[f]/255,v=new Array(g+1);for(let A=0;A<=g;A++)v[A]=m+A/g*(y-m);return v.join(",")};return this.#m(h(0,5),h(1,5),h(2,5),d),s.url=this.#u(u),s.url}addAlphaFilter(e){let t=this.#a.get(e);if(t)return t;const[r]=this.#d([e]),i=`alpha_${r}`;if(t=this.#a.get(i),t)return this.#a.set(e,t),t;const s=`g_${this.#r}_alpha_map_${this.#o++}`,o=this.#u(s);this.#a.set(e,o),this.#a.set(i,o);const a=this.#f(s);return this.#y(r,a),o}addLuminosityFilter(e){let t=this.#a.get(e||"luminosity");if(t)return t;let r,i;if(e?([r]=this.#d([e]),i=`luminosity_${r}`):i="luminosity",t=this.#a.get(i),t)return this.#a.set(e,t),t;const s=`g_${this.#r}_luminosity_map_${this.#o++}`,o=this.#u(s);this.#a.set(e,o),this.#a.set(i,o);const a=this.#f(s);return this.#p(a),e&&this.#y(r,a),o}addHighlightHCMFilter(e,t,r,i,s){const o=`${t}-${r}-${i}-${s}`;let a=this.#l.get(e);if(a?.key===o||(a?(a.filter?.remove(),a.key=o,a.url="none",a.filter=null):(a={key:o,url:"none",filter:null},this.#l.set(e,a)),!t||!r))return a.url;const[l,c]=[t,r].map(this.#b.bind(this));let u=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[h,f]=[i,s].map(this.#b.bind(this));d<u&&([u,d,h,f]=[d,u,f,h]),this.#c.style.color="";const g=(v,A,E)=>{const S=new Array(256),C=(d-u)/E,x=v/255,N=(A-v)/(255*E);let D=0;for(let V=0;V<=E;V++){const O=Math.round(u+V*C),K=x+V*N;for(let B=D;B<=O;B++)S[B]=K;D=O+1}for(let V=D;V<256;V++)S[V]=S[D-1];return S.join(",")},m=`g_${this.#r}_hcm_${e}_filter`,y=a.filter=this.#f(m);return this.#g(y),this.#m(g(h[0],f[0],5),g(h[1],f[1],5),g(h[2],f[2],5),y),a.url=this.#u(m),a.url}destroy(e=!1){e&&this.#i?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#t?.clear(),this.#t=null,this.#i?.clear(),this.#i=null,this.#o=0)}#p(e){const t=this.#s.createElementNS(Us,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#g(e){const t=this.#s.createElementNS(Us,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#f(e){const t=this.#s.createElementNS(Us,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#c.append(t),t}#h(e,t,r){const i=this.#s.createElementNS(Us,t);i.setAttribute("type","discrete"),i.setAttribute("tableValues",r),e.append(i)}#m(e,t,r,i){const s=this.#s.createElementNS(Us,"feComponentTransfer");i.append(s),this.#h(s,"feFuncR",e),this.#h(s,"feFuncG",t),this.#h(s,"feFuncB",r)}#y(e,t){const r=this.#s.createElementNS(Us,"feComponentTransfer");t.append(r),this.#h(r,"feFuncA",e)}#b(e){return this.#c.style.color=e,_c(getComputedStyle(this.#c).getPropertyValue("color"))}}class wA{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){En("Abstract method `_fetch` called.")}}class _A extends wA{async _fetch(e){const t=await rl(e,"arraybuffer");return new Uint8Array(t)}}class xA{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){En("Abstract method `_fetch` called.")}}class EA extends xA{async _fetch(e){const t=await rl(e,"arraybuffer");return new Uint8Array(t)}}Kr&&Dt("Please use the `legacy` build in Node.js environments.");async function rb(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class Mj extends yA{}class Dj extends mA{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(Bt&&Bt.tagName.toUpperCase()==="SCRIPT"&&Bt.src||new URL("_app/immutable/bundle.CS9QXApz.js",document.baseURI).href)("@napi-rs/canvas").createCanvas(e,t)}}class Lj extends bA{async _fetch(e){return rb(e)}}class Fj extends wA{async _fetch(e){return rb(e)}}class Bj extends xA{async _fetch(e){return rb(e)}}const Sr={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function ib(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class sb{isModifyingCurrentTransform(){return!1}getPattern(){En("Abstract method `getPattern` called.")}}class zj extends sb{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===Sr.STROKE||i===Sr.FILL){const o=t.current.getClippedPathBoundingBox(i,qn(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=t.cachedCanvases.getCanvas("pattern",a,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-o[0],-o[1]),r=vt.transform(r,[1,0,0,1,o[0],o[1]]),u.transform(...t.baseTransform),this.matrix&&u.transform(...this.matrix),ib(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=e.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(r);s.setTransform(d)}else ib(e,this._bbox),s=this._createGradient(e);return s}}function ob(n,e,t,r,i,s,o,a){const l=e.coords,c=e.colors,u=n.data,d=n.width*4;let h;l[t+1]>l[r+1]&&(h=t,t=r,r=h,h=s,s=o,o=h),l[r+1]>l[i+1]&&(h=r,r=i,i=h,h=o,o=a,a=h),l[t+1]>l[r+1]&&(h=t,t=r,r=h,h=s,s=o,o=h);const f=(l[t]+e.offsetX)*e.scaleX,g=(l[t+1]+e.offsetY)*e.scaleY,m=(l[r]+e.offsetX)*e.scaleX,y=(l[r+1]+e.offsetY)*e.scaleY,v=(l[i]+e.offsetX)*e.scaleX,A=(l[i+1]+e.offsetY)*e.scaleY;if(g>=A)return;const E=c[s],S=c[s+1],C=c[s+2],x=c[o],N=c[o+1],D=c[o+2],V=c[a],O=c[a+1],K=c[a+2],B=Math.round(g),U=Math.round(A);let L,W,H,Q,X,le,R,Ae;for(let ke=B;ke<=U;ke++){if(ke<y){const Pe=ke<g?0:(g-ke)/(g-y);L=f-(f-m)*Pe,W=E-(E-x)*Pe,H=S-(S-N)*Pe,Q=C-(C-D)*Pe}else{let Pe;ke>A?Pe=1:y===A?Pe=0:Pe=(y-ke)/(y-A),L=m-(m-v)*Pe,W=x-(x-V)*Pe,H=N-(N-O)*Pe,Q=D-(D-K)*Pe}let M;ke<g?M=0:ke>A?M=1:M=(g-ke)/(g-A),X=f-(f-v)*M,le=E-(E-V)*M,R=S-(S-O)*M,Ae=C-(C-K)*M;const fe=Math.round(Math.min(L,X)),Oe=Math.round(Math.max(L,X));let Le=d*ke+fe*4;for(let Pe=fe;Pe<=Oe;Pe++)M=(L-Pe)/(L-X),M<0?M=0:M>1&&(M=1),u[Le++]=W-(W-le)*M|0,u[Le++]=H-(H-R)*M|0,u[Le++]=Q-(Q-Ae)*M|0,u[Le++]=255}}function Uj(n,e,t){const r=e.coords,i=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(r.length/a)-1,c=a-1;for(s=0;s<l;s++){let u=s*a;for(let d=0;d<c;d++,u++)ob(n,t,r[u],r[u+1],r[u+a],i[u],i[u+1],i[u+a]),ob(n,t,r[u+a+1],r[u+1],r[u+a],i[u+a+1],i[u+1],i[u+a])}break;case"triangles":for(s=0,o=r.length;s<o;s+=3)ob(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class Hj extends sb{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,r){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,u=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),f=c/d,g=u/h,m={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/f,scaleY:1/g},y=d+4,v=h+4,A=r.getCanvas("mesh",y,v),E=A.context,S=E.createImageData(d,h);if(t){const x=S.data;for(let N=0,D=x.length;N<D;N+=4)x[N]=t[0],x[N+1]=t[1],x[N+2]=t[2],x[N+3]=255}for(const x of this._figures)Uj(S,x,m);return E.putImageData(S,2,2),{canvas:A.canvas,offsetX:a-2*f,offsetY:l-2*g,scaleX:f,scaleY:g}}isModifyingCurrentTransform(){return!0}getPattern(e,t,r,i){ib(e,this._bbox);const s=new Float32Array(2);if(i===Sr.SHADING)vt.singularValueDecompose2dScale(qn(e),s);else if(this.matrix){vt.singularValueDecompose2dScale(this.matrix,s);const[a,l]=s;vt.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=a,s[1]*=l}else vt.singularValueDecompose2dScale(t.baseTransform,s);const o=this._createMeshCanvas(s,i===Sr.SHADING?null:this._background,t.cachedCanvases);return i!==Sr.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class Gj extends sb{getPattern(){return"hotpink"}}function Vj(n){switch(n[0]){case"RadialAxial":return new zj(n);case"Mesh":return new Hj(n);case"Dummy":return new Gj}throw new Error(`Unknown IR type: ${n[0]}`)}const AA={COLORED:1,UNCOLORED:2};class ab{static MAX_PATTERN_SIZE=3e3;constructor(e,t,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e){const{bbox:t,operatorList:r,paintType:i,tilingType:s,color:o,canvasGraphicsFactory:a}=this;let{xstep:l,ystep:c}=this;l=Math.abs(l),c=Math.abs(c),rh("TilingType: "+s);const u=t[0],d=t[1],h=t[2],f=t[3],g=h-u,m=f-d,y=new Float32Array(2);vt.singularValueDecompose2dScale(this.matrix,y);const[v,A]=y;vt.singularValueDecompose2dScale(this.baseTransform,y);const E=v*y[0],S=A*y[1];let C=g,x=m,N=!1,D=!1;const V=Math.ceil(l*E),O=Math.ceil(c*S),K=Math.ceil(g*E),B=Math.ceil(m*S);V>=K?C=l:N=!0,O>=B?x=c:D=!0;const U=this.getSizeAndScale(C,this.ctx.canvas.width,E),L=this.getSizeAndScale(x,this.ctx.canvas.height,S),W=e.cachedCanvases.getCanvas("pattern",U.size,L.size),H=W.context,Q=a.createCanvasGraphics(H);if(Q.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(Q,i,o),H.translate(-U.scale*u,-L.scale*d),Q.transform(U.scale,0,0,L.scale,0,0),H.save(),this.clipBbox(Q,u,d,h,f),Q.baseTransform=qn(Q.ctx),Q.executeOperatorList(r),Q.endDrawing(),H.restore(),N||D){const X=W.canvas;N&&(C=l),D&&(x=c);const le=this.getSizeAndScale(C,this.ctx.canvas.width,E),R=this.getSizeAndScale(x,this.ctx.canvas.height,S),Ae=le.size,ke=R.size,M=e.cachedCanvases.getCanvas("pattern-workaround",Ae,ke),fe=M.context,Oe=N?Math.floor(g/l):0,Le=D?Math.floor(m/c):0;for(let Pe=0;Pe<=Oe;Pe++)for(let $e=0;$e<=Le;$e++)fe.drawImage(X,Ae*Pe,ke*$e,Ae,ke,0,0,Ae,ke);return{canvas:M.canvas,scaleX:le.scale,scaleY:R.scale,offsetX:u,offsetY:d}}return{canvas:W.canvas,scaleX:U.scale,scaleY:L.scale,offsetX:u,offsetY:d}}getSizeAndScale(e,t,r){const i=Math.max(ab.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const o=i-t,a=s-r;e.ctx.rect(t,r,o,a),vt.axialAlignedBoundingBox([t,r,i,s],qn(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case AA.COLORED:const{fillStyle:o,strokeStyle:a}=this.ctx;i.fillStyle=s.fillColor=o,i.strokeStyle=s.strokeColor=a;break;case AA.UNCOLORED:i.fillStyle=i.strokeStyle=r,s.fillColor=s.strokeColor=r;break;default:throw new fj(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,r,i){let s=r;i!==Sr.SHADING&&(s=vt.transform(s,t.baseTransform),this.matrix&&(s=vt.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}}function jj({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=mr.isLittleEndian?4278190080:255,[l,c]=o?[s,a]:[a,s],u=r>>3,d=r&7,h=n.length;t=new Uint32Array(t.buffer);let f=0;for(let g=0;g<i;g++){for(const y=e+u;e<y;e++){const v=e<h?n[e]:255;t[f++]=v&128?c:l,t[f++]=v&64?c:l,t[f++]=v&32?c:l,t[f++]=v&16?c:l,t[f++]=v&8?c:l,t[f++]=v&4?c:l,t[f++]=v&2?c:l,t[f++]=v&1?c:l}if(d===0)continue;const m=e<h?n[e++]:255;for(let y=0;y<d;y++)t[f++]=m&1<<7-y?c:l}return{srcPos:e,destPos:f}}const SA=16,kA=100,qj=15,CA=10,li=16,lb=new DOMMatrix,_i=new Float32Array(2),il=new Float32Array([1/0,1/0,-1/0,-1/0]);function Wj(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,r){e.translate(t,r),this.__originalTranslate(t,r)},n.scale=function(t,r){e.scale(t,r),this.__originalScale(t,r)},n.transform=function(t,r,i,s,o,a){e.transform(t,r,i,s,o,a),this.__originalTransform(t,r,i,s,o,a)},n.setTransform=function(t,r,i,s,o,a){e.setTransform(t,r,i,s,o,a),this.__originalSetTransform(t,r,i,s,o,a)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,o,a){e.bezierCurveTo(t,r,i,s,o,a),this.__originalBezierCurveTo(t,r,i,s,o,a)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class Kj{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function hh(n,e,t,r,i,s,o,a,l,c){const[u,d,h,f,g,m]=qn(n);if(d===0&&h===0){const A=o*u+g,E=Math.round(A),S=a*f+m,C=Math.round(S),x=(o+l)*u+g,N=Math.abs(Math.round(x)-E)||1,D=(a+c)*f+m,V=Math.abs(Math.round(D)-C)||1;return n.setTransform(Math.sign(u),0,0,Math.sign(f),E,C),n.drawImage(e,t,r,i,s,0,0,N,V),n.setTransform(u,d,h,f,g,m),[N,V]}if(u===0&&f===0){const A=a*h+g,E=Math.round(A),S=o*d+m,C=Math.round(S),x=(a+c)*h+g,N=Math.abs(Math.round(x)-E)||1,D=(o+l)*d+m,V=Math.abs(Math.round(D)-C)||1;return n.setTransform(0,Math.sign(d),Math.sign(h),0,E,C),n.drawImage(e,t,r,i,s,0,0,V,N),n.setTransform(u,d,h,f,g,m),[V,N]}n.drawImage(e,t,r,i,s,o,a,l,c);const y=Math.hypot(u,d),v=Math.hypot(h,f);return[y*l,v*c]}class TA{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Vm;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Pr.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,t){this.clipBox=new Float32Array([0,0,e,t]),this.minMax=il.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Sr.FILL,t=null){const r=this.minMax.slice();if(e===Sr.STROKE){t||En("Stroke bounding box must include transform."),vt.singularValueDecompose2dScale(t,_i);const i=_i[0]*this.lineWidth/2,s=_i[1]*this.lineWidth/2;r[0]-=i,r[1]-=s,r[2]+=i,r[3]+=s}return r}updateClipFromPath(){const e=vt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(il,0)}getClippedPathBoundingBox(e=Sr.FILL,t=null){return vt.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function NA(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%li,s=(t-i)/li,o=i===0?s:s+1,a=n.createImageData(r,li);let l=0,c;const u=e.data,d=a.data;let h,f,g,m;if(e.kind===fc.GRAYSCALE_1BPP){const y=u.byteLength,v=new Uint32Array(d.buffer,0,d.byteLength>>2),A=v.length,E=r+7>>3,S=4294967295,C=mr.isLittleEndian?4278190080:255;for(h=0;h<o;h++){for(g=h<s?li:i,c=0,f=0;f<g;f++){const x=y-l;let N=0;const D=x>E?r:x*8-7,V=D&-8;let O=0,K=0;for(;N<V;N+=8)K=u[l++],v[c++]=K&128?S:C,v[c++]=K&64?S:C,v[c++]=K&32?S:C,v[c++]=K&16?S:C,v[c++]=K&8?S:C,v[c++]=K&4?S:C,v[c++]=K&2?S:C,v[c++]=K&1?S:C;for(;N<D;N++)O===0&&(K=u[l++],O=128),v[c++]=K&O?S:C,O>>=1}for(;c<A;)v[c++]=0;n.putImageData(a,0,h*li)}}else if(e.kind===fc.RGBA_32BPP){for(f=0,m=r*li*4,h=0;h<s;h++)d.set(u.subarray(l,l+m)),l+=m,n.putImageData(a,0,f),f+=li;h<o&&(m=r*i*4,d.set(u.subarray(l,l+m)),n.putImageData(a,0,f))}else if(e.kind===fc.RGB_24BPP)for(g=li,m=r*g,h=0;h<o;h++){for(h>=s&&(g=i,m=r*g),c=0,f=m;f--;)d[c++]=u[l++],d[c++]=u[l++],d[c++]=u[l++],d[c++]=255;n.putImageData(a,0,h*li)}else throw new Error(`bad image kind: ${e.kind}`)}function IA(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%li,s=(t-i)/li,o=i===0?s:s+1,a=n.createImageData(r,li);let l=0;const c=e.data,u=a.data;for(let d=0;d<o;d++){const h=d<s?li:i;({srcPos:l}=jj({src:c,srcPos:l,dest:u,width:r,height:h,nonBlackColor:0})),n.putImageData(a,0,d*li)}}function kc(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function fh(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function PA(n,e){if(e)return!0;vt.singularValueDecompose2dScale(n,_i);const t=Math.fround($i.pixelRatio*Xo.PDF_TO_CSS_UNITS);return _i[0]<=t&&_i[1]<=t}const $j=["butt","round","square"],Yj=["miter","round","bevel"],Xj={},RA={};class sl{constructor(e,t,r,i,s,{optionalContentConfig:o,markedContentStack:a=null},l,c){this.ctx=e,this.current=new TA(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new Kj(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,r){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...qn(this.compositeCtx))}this.ctx.save(),fh(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=qn(this.ctx)}executeOperatorList(e,t,r,i){const s=e.argsArray,o=e.fnArray;let a=t||0;const l=s.length;if(l===a)return a;const c=l-a>CA&&typeof r=="function",u=c?Date.now()+qj:0;let d=0;const h=this.commonObjs,f=this.objs;let g;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,r),a;if(g=o[a],g!==gc.dependency)this[g].apply(this,s[a]);else for(const m of s[a]){const y=m.startsWith("g_")?h:f;if(!y.has(m))return y.get(m,r),a}if(a++,a===l)return a;if(c&&++d>CA){if(Date.now()>u)return r(),a;d=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=r,l=i,c="prescale1",u,d;for(;s>2&&a>1||o>2&&l>1;){let h=a,f=l;s>2&&a>1&&(h=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/h),o>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/f),u=this.cachedCanvases.getCanvas(c,h,f),d=u.context,d.clearRect(0,0,h,f),d.drawImage(e,0,0,a,l,0,0,h,f),e=u.canvas,a=h,l=f,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:i}=e,s=this.current.fillColor,o=this.current.patternFill,a=qn(t);let l,c,u,d;if((e.bitmap||e.data)&&e.count>1){const V=e.bitmap||e.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(V),l||(l=new Map,this._cachedBitmapsMap.set(V,l));const O=l.get(c);if(O&&!o){const K=Math.round(Math.min(a[0],a[2])+a[4]),B=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:O,offsetX:K,offsetY:B}}u=O}u||(d=this.cachedCanvases.getCanvas("maskCanvas",r,i),IA(d.context,e));let h=vt.transform(a,[1/r,0,0,-1/i,0,0]);h=vt.transform(h,[1,0,0,1,0,-i]);const f=il.slice();vt.axialAlignedBoundingBox([0,0,r,i],h,f);const[g,m,y,v]=f,A=Math.round(y-g)||1,E=Math.round(v-m)||1,S=this.cachedCanvases.getCanvas("fillCanvas",A,E),C=S.context,x=g,N=m;C.translate(-x,-N),C.transform(...h),u||(u=this._scaleImage(d.canvas,ds(C)),u=u.img,l&&o&&l.set(c,u)),C.imageSmoothingEnabled=PA(qn(C),e.interpolate),hh(C,u,0,0,u.width,u.height,0,0,r,i),C.globalCompositeOperation="source-in";const D=vt.transform(ds(C),[1,0,0,1,-x,-N]);return C.fillStyle=o?s.getPattern(t,this,D,Sr.FILL):s,C.fillRect(0,0,r,i),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,S.canvas)),{canvas:S.canvas,offsetX:Math.round(x),offsetY:Math.round(N)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=$j[e]}setLineJoin(e){this.ctx.lineJoin=Yj[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx;const s=this.ctx=i.context;s.setTransform(this.suspendedCtx.getTransform()),kc(this.suspendedCtx,s),Wj(s,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),kc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],o=i[1],a=i[2]-s,l=i[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,r,a,l,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,o,a,l,c,u,d){let h=e.canvas,f=l-u,g=c-d;if(o)if(f<0||g<0||f+r>h.width||g+i>h.height){const y=this.cachedCanvases.getCanvas("maskExtension",r,i),v=y.context;v.drawImage(h,-f,-g),v.globalCompositeOperation="destination-atop",v.fillStyle=o,v.fillRect(0,0,r,i),v.globalCompositeOperation="source-over",h=y.canvas,f=g=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const y=new Path2D;y.rect(f,g,r,i),e.clip(y),e.globalCompositeOperation="destination-atop",e.fillStyle=o,e.fillRect(f,g,r,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const m=new Path2D;m.rect(l,c,r,i),t.clip(m),t.globalCompositeOperation="destination-in",t.drawImage(h,f,g,r,i,l,c,r,i),t.restore()}save(){this.inSMaskMode&&kc(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&kc(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,r,i,s,o){this.ctx.transform(e,t,r,i,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){let[i]=t;if(!r){i||=t[0]=new Path2D,this[e](i);return}if(!(i instanceof Path2D)){const s=t[0]=new Path2D;for(let o=0,a=i.length;o<a;)switch(i[o++]){case th.moveTo:s.moveTo(i[o++],i[o++]);break;case th.lineTo:s.lineTo(i[o++],i[o++]);break;case th.curveTo:s.bezierCurveTo(i[o++],i[o++],i[o++],i[o++],i[o++],i[o++]);break;case th.closePath:s.closePath();break;default:Dt(`Unrecognized drawing path operator: ${i[o-1]}`);break}i=s}vt.axialAlignedBoundingBox(r,qn(this.ctx),this.current.minMax),this[e](i)}closePath(){this.ctx.closePath()}stroke(e,t=!0){const r=this.ctx,i=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof i=="object"&&i?.getPattern){const s=i.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=i.getPattern(r,this,ds(r),Sr.STROKE),s){const o=new Path2D;o.addPath(e,r.getTransform().invertSelf().multiplySelf(s)),e=o}this.rescaleAndStroke(e,!1),r.restore()}else this.rescaleAndStroke(e,!0);t&&this.consumePath(e,this.current.getClippedPathBoundingBox(Sr.STROKE,qn(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,t=!0){const r=this.ctx,i=this.current.fillColor,s=this.current.patternFill;let o=!1;if(s){const l=i.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.fillStyle=i.getPattern(r,this,ds(r),Sr.FILL),l){const c=new Path2D;c.addPath(e,r.getTransform().invertSelf().multiplySelf(l)),e=c}o=!0}const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(r.fill(e,"evenodd"),this.pendingEOFill=!1):r.fill(e)),o&&r.restore(),t&&this.consumePath(e,a)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=Xj}eoClip(){this.pendingClip=RA}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0)return;const r=new Path2D,i=t.getTransform().invertSelf();for(const{transform:s,x:o,y:a,fontSize:l,path:c}of e)c&&r.addPath(c,new DOMMatrix(s).preMultiplySelf(i).translate(o,a).scale(l,-l));t.clip(r),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||Vm,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&Dt("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const s=r.loadedName||"sans-serif",o=r.systemFontInfo?.css||`"${s}", ${r.fallbackName}`;let a="normal";r.black?a="900":r.bold&&(a="bold");const l=r.italic?"italic":"normal";let c=t;t<SA?c=SA:t>kA&&(c=kA),this.current.fontSizeScale=t/c,this.ctx.font=`${l} ${a} ${c}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e){const{current:t}=this;t.textMatrix=e,t.textMatrixScale=Math.hypot(e[0],e[1]),t.x=t.lineX=0,t.y=t.lineY=0}nextLine(){this.moveText(0,this.current.leading)}#n(e,t,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(t)),i}paintChar(e,t,r,i,s){const o=this.ctx,a=this.current,l=a.font,c=a.textRenderingMode,u=a.fontSize/a.fontSizeScale,d=c&Pr.FILL_STROKE_MASK,h=!!(c&Pr.ADD_TO_PATH_FLAG),f=a.patternFill&&!l.missingFile,g=a.patternStroke&&!l.missingFile;let m;if((l.disableFontFace||h||f||g)&&!l.missingFile&&(m=l.getPathGenerator(this.commonObjs,e)),m&&(l.disableFontFace||f||g)){o.save(),o.translate(t,r),o.scale(u,-u);let y;if((d===Pr.FILL||d===Pr.FILL_STROKE)&&(i?(y=o.getTransform(),o.setTransform(...i),o.fill(this.#n(m,y,i))):o.fill(m)),d===Pr.STROKE||d===Pr.FILL_STROKE)if(s){y||=o.getTransform(),o.setTransform(...s);const{a:v,b:A,c:E,d:S}=y,C=vt.inverseTransform(s),x=vt.transform([v,A,E,S,0,0],C);vt.singularValueDecompose2dScale(x,_i),o.lineWidth*=Math.max(_i[0],_i[1])/u,o.stroke(this.#n(m,y,s))}else o.lineWidth/=u,o.stroke(m);o.restore()}else(d===Pr.FILL||d===Pr.FILL_STROKE)&&o.fillText(e,t,r),(d===Pr.STROKE||d===Pr.FILL_STROKE)&&o.strokeText(e,t,r);h&&(this.pendingTextPaths||=[]).push({transform:qn(o),x:t,y:r,fontSize:u,path:m})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return $t(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,u=t.textHScale*c,d=e.length,h=r.vertical,f=h?1:-1,g=r.defaultVMetrics,m=i*t.fontMatrix[0],y=t.textRenderingMode===Pr.FILL&&!r.disableFontFace&&!t.patternFill;s.save(),t.textMatrix&&s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),c>0?s.scale(u,-1):s.scale(u,1);let v,A;if(t.patternFill){s.save();const N=t.fillColor.getPattern(s,this,ds(s),Sr.FILL);v=qn(s),s.restore(),s.fillStyle=N}if(t.patternStroke){s.save();const N=t.strokeColor.getPattern(s,this,ds(s),Sr.STROKE);A=qn(s),s.restore(),s.strokeStyle=N}let E=t.lineWidth;const S=t.textMatrixScale;if(S===0||E===0){const N=t.textRenderingMode&Pr.FILL_STROKE_MASK;(N===Pr.STROKE||N===Pr.FILL_STROKE)&&(E=this.getSinglePixelWidth())}else E/=S;if(o!==1&&(s.scale(o,o),E/=o),s.lineWidth=E,r.isInvalidPDFjsFont){const N=[];let D=0;for(const V of e)N.push(V.unicode),D+=V.width;s.fillText(N.join(""),0,0),t.x+=D*m*u,s.restore(),this.compose();return}let C=0,x;for(x=0;x<d;++x){const N=e[x];if(typeof N=="number"){C+=f*N*i/1e3;continue}let D=!1;const V=(N.isSpace?l:0)+a,O=N.fontChar,K=N.accent;let B,U,L=N.width;if(h){const H=N.vmetric||g,Q=-(N.vmetric?H[1]:L*.5)*m,X=H[2]*m;L=H?-H[0]:L,B=Q/o,U=(C+X)/o}else B=C/o,U=0;if(r.remeasure&&L>0){const H=s.measureText(O).width*1e3/i*o;if(L<H&&this.isFontSubpixelAAEnabled){const Q=L/H;D=!0,s.save(),s.scale(Q,1),B/=Q}else L!==H&&(B+=(L-H)/2e3*i/o)}if(this.contentVisible&&(N.isInFont||r.missingFile)){if(y&&!K)s.fillText(O,B,U);else if(this.paintChar(O,B,U,v,A),K){const H=B+i*K.offset.x/o,Q=U-i*K.offset.y/o;this.paintChar(K.fontChar,H,Q,v,A)}}const W=h?L*m-V*c:L*m+V*c;C+=W,D&&s.restore()}h?t.y-=C:t.x+=C*u,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,i=r.font,s=r.fontSize,o=r.fontDirection,a=i.vertical?1:-1,l=r.charSpacing,c=r.wordSpacing,u=r.textHScale*o,d=r.fontMatrix||Vm,h=e.length,f=r.textRenderingMode===Pr.INVISIBLE;let g,m,y,v;if(!(f||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),r.textMatrix&&t.transform(...r.textMatrix),t.translate(r.x,r.y+r.textRise),t.scale(u,o),g=0;g<h;++g){if(m=e[g],typeof m=="number"){v=a*m*s/1e3,this.ctx.translate(v,0),r.x+=v*u;continue}const A=(m.isSpace?c:0)+l,E=i.charProcOperatorList[m.operatorListId];E?this.contentVisible&&(this.save(),t.scale(s,s),t.transform(...d),this.executeOperatorList(E),this.restore()):Dt(`Type3 character "${m.operatorListId}" is not available.`);const S=[m.width,0];vt.applyTransform(S,d),y=S[0]*s+A,t.translate(y,0),r.x+=y*u}t.restore()}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,i,s,o){const a=new Path2D;a.rect(r,i,s-r,o-i),this.ctx.clip(a),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=this.baseTransform||qn(this.ctx),i={createCanvasGraphics:s=>new sl(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new ab(e,this.ctx,i,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=Vj(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,ds(t),Sr.SHADING);const i=ds(t);if(i){const{width:s,height:o}=t.canvas,a=il.slice();vt.axialAlignedBoundingBox([0,0,s,o],i,a);const[l,c,u,d]=a;this.ctx.fillRect(l,c,u-l,d-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){En("Should not call beginInlineImage")}beginImageData(){En("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=qn(this.ctx),t)){vt.axialAlignedBoundingBox(t,this.baseTransform,this.current.minMax);const[r,i,s,o]=t,a=new Path2D;a.rect(r,i,s-r,o-i),this.ctx.clip(a),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||rh("TODO: Support non-isolated groups."),e.knockout&&Dt("Knockout groups not supported.");const r=qn(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=il.slice();vt.axialAlignedBoundingBox(e.bbox,qn(t),i);const s=[0,0,t.canvas.width,t.canvas.height];i=vt.intersect(i,s)||[0,0,0,0];const o=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-o,1),c=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let u="groupAt"+this.groupLevel;e.smask&&(u+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(u,l,c),h=d.context;h.translate(-o,-a),h.transform(...r);let f=new Path2D;const[g,m,y,v]=e.bbox;if(f.rect(g,m,y-g,v-m),e.matrix){const A=new Path2D;A.addPath(f,new DOMMatrix(e.matrix)),f=A}h.clip(f),e.smask?this.smaskStack.push({canvas:d.canvas,context:h,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),kc(t,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=qn(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=il.slice();vt.axialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i,s),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,r,i,s){if(this.#e(),fh(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a,vt.singularValueDecompose2dScale(qn(this.ctx),_i);const{viewportScale:l}=this,c=Math.ceil(o*this.outputScaleX*l),u=Math.ceil(a*this.outputScaleY*l);this.annotationCanvas=this.canvasFactory.create(c,u);const{canvas:d,context:h}=this.annotationCanvas;this.annotationCanvasMap.set(e,d),this.annotationCanvas.savedCtx=this.ctx,this.ctx=h,this.ctx.save(),this.ctx.setTransform(_i[0],0,0,-_i[1],0,a*_i[1]),fh(this.ctx)}else{fh(this.ctx),this.endPath();const l=new Path2D;l.rect(t[0],t[1],o,a),this.ctx.clip(l)}}this.current=new TA(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,i=this._createMaskCanvas(e),s=i.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(s,i.offsetX,i.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,i=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=qn(a);a.transform(t,r,i,s,0,0);const c=this._createMaskCanvas(e);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let u=0,d=o.length;u<d;u+=2){const h=vt.transform(l,[t,r,i,s,o[u],o[u+1]]);a.drawImage(c.canvas,h[4],h[5])}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:o,width:a,height:l,transform:c}=s,u=this.cachedCanvases.getCanvas("maskCanvas",a,l),d=u.context;d.save();const h=this.getObject(o,s);IA(d,h),d.globalCompositeOperation="source-in",d.fillStyle=i?r.getPattern(d,this,ds(t),Sr.FILL):r,d.fillRect(0,0,a,l),d.restore(),t.save(),t.transform(...c),t.scale(1,-1),hh(t,u.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Dt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){Dt("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let c=0,u=i.length;c<u;c+=2)l.push({transform:[t,0,0,r,i[c],i[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,i=this.ctx;this.save();const{filter:s}=i;s!=="none"&&s!==""&&(i.filter="none"),i.scale(1/t,-1/r);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const c=this.cachedCanvases.getCanvas("inlineImage",t,r).context;NA(c,e),o=this.applyTransferMapsToCanvas(c)}const a=this._scaleImage(o,ds(i));i.imageSmoothingEnabled=PA(qn(i),e.interpolate),hh(i,a.img,0,0,a.paintWidth,a.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;NA(l,e),i=this.applyTransferMapsToCanvas(l)}for(const s of t)r.save(),r.transform(...s.transform),r.scale(1,-1),hh(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,t){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const i=this.ctx;this.pendingClip&&(r||(this.pendingClip===RA?i.clip(e,"evenodd"):i.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=qn(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let o,a;if(r===0&&i===0){const l=Math.abs(t),c=Math.abs(s);if(l===c)if(e===0)o=a=1/l;else{const u=l*e;o=a=u<1?1/u:1}else if(e===0)o=1/l,a=1/c;else{const u=l*e,d=c*e;o=u<1?1/u:1,a=d<1?1/d:1}}else{const l=Math.abs(t*s-r*i),c=Math.hypot(t,r),u=Math.hypot(i,s);if(e===0)o=u/l,a=c/l;else{const d=e*l;o=u>d?u/d:1,a=c>d?c/d:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:r,current:{lineWidth:i}}=this,[s,o]=this.getScaleForStroking();if(s===o){r.lineWidth=(i||1)*s,r.stroke(e);return}const a=r.getLineDash();t&&r.save(),r.scale(s,o),lb.a=1/s,lb.d=1/o;const l=new Path2D;if(l.addPath(e,lb),a.length>0){const c=Math.max(s,o);r.setLineDash(a.map(u=>u/c)),r.lineDashOffset/=c}r.lineWidth=i||1,r.stroke(l),t&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const n in gc)sl.prototype[n]!==void 0&&(sl.prototype[gc[n]]=sl.prototype[n]);class ol{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class Zj{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const al=Symbol("INTERNAL");class Qj{#e=!1;#t=!1;#n=!1;#r=!0;constructor(e,{name:t,intent:r,usage:i,rbGroups:s}){this.#e=!!(e&yi.DISPLAY),this.#t=!!(e&yi.PRINT),this.name=t,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(this.#n)return this.#r;if(!this.#r)return!1;const{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,r=!1){e!==al&&En("Internal method `_setVisible` called."),this.#n=r,this.#r=t}}class Jj{#e=null;#t=new Map;#n=null;#r=null;constructor(e,t=yi.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#r=e.order;for(const r of e.groups)this.#t.set(r.id,new Qj(t,r));if(e.baseState==="OFF")for(const r of this.#t.values())r._setVisible(al,!1);for(const r of e.on)this.#t.get(r)._setVisible(al,!0);for(const r of e.off)this.#t.get(r)._setVisible(al,!1);this.#n=this.getHash()}}#s(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let o;if(Array.isArray(s))o=this.#s(s);else if(this.#t.has(s))o=this.#t.get(s).visible;else return Dt(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return rh("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(Dt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#s(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!this.#t.has(t))return Dt(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!this.#t.has(t))return Dt(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!this.#t.has(t))return Dt(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!this.#t.has(t))return Dt(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return Dt(`Unknown optional content policy ${e.policy}.`),!0}return Dt(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){const i=this.#t.get(e);if(!i){Dt(`Optional content group not found: ${e}`);return}if(r&&t&&i.rbGroups.length)for(const s of i.rbGroups)for(const o of s)o!==e&&this.#t.get(o)?._setVisible(al,!1,!0);i._setVisible(al,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=this.#t.get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new hA;for(const[t,r]of this.#t)e.update(`${t}:${r.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class eq{constructor(e,{disableRange:t=!1,disableStream:r=!1}){sr(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,s?.length>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});sr(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){sr(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new tq(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new nq(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class tq{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=oh(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class nq{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function rq(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let u=a(t);return u=unescape(u),u=l(u),u=c(u),s(u)}if(t=o(n),t){const u=c(t);return s(u)}if(t=r("filename","i").exec(n),t){t=t[1];let u=a(t);return u=c(u),s(u)}function r(u,d){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(u,d){if(u){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const h=new TextDecoder(u,{fatal:!0}),f=bc(d);d=h.decode(f),e=!1}catch{}}return d}function s(u){return e&&/[\x80-\xff]/.test(u)&&(u=i("utf-8",u),e&&(u=i("iso-8859-1",u))),u}function o(u){const d=[];let h;const f=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=f.exec(u))!==null;){let[,m,y,v]=h;if(m=parseInt(m,10),m in d){if(m===0)break;continue}d[m]=[y,v]}const g=[];for(let m=0;m<d.length&&m in d;++m){let[y,v]=d[m];v=a(v),y&&(v=unescape(v),m===0&&(v=l(v))),g.push(v)}return g.join("")}function a(u){if(u.startsWith('"')){const d=u.slice(1).split('\\"');for(let h=0;h<d.length;++h){const f=d[h].indexOf('"');f!==-1&&(d[h]=d[h].slice(0,f),d.length=h+1),d[h]=d[h].replaceAll(/\\(.)/g,"$1")}u=d.join('"')}return u}function l(u){const d=u.indexOf("'");if(d===-1)return u;const h=u.slice(0,d),g=u.slice(d+1).replace(/^[^']*'/,"");return i(h,g)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,h,f,g){if(f==="q"||f==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(m,y){return String.fromCharCode(parseInt(y,16))}),i(h,g);try{g=atob(g)}catch{}return i(h,g)})}return""}function OA(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const i=e[r];i!==void 0&&t.append(r,i)}return t}function ph(n){return URL.parse(n)?.origin??null}function MA({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function DA(n){const e=n.get("Content-Disposition");if(e){let t=rq(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(oh(t))return t}return null}function Cc(n,e){return new mc(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function LA(n){return n===200||n===206}function FA(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function BA(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Dt(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class iq{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=OA(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return sr(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new sq(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new oq(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class sq{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),i=t.url;fetch(i,FA(r,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=ph(s.url),!LA(s.status))throw Cc(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:a,suggestedLength:l}=MA({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=DA(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new zs("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:BA(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class oq{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${r-1}`);const o=i.url;fetch(o,FA(s,this._withCredentials,this._abortController)).then(a=>{const l=ph(a.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!LA(a.status))throw Cc(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:BA(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const cb=200,ub=206;function aq(n){const e=n.response;return typeof e!="string"?e:bc(e).buffer}class lq{_responseOrigin=null;constructor({url:e,httpHeaders:t,withCredentials:r}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=OA(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,o]of this.headers)t.setRequestHeader(s,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=ub):i.expectedStatus=cb,t.responseType="arraybuffer",sr(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){const r=this.pendingRequests[e];r&&r.onProgress?.(t)}onStateChange(e,t){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const s=i.status||cb;if(!(s===cb&&r.expectedStatus===ub)&&s!==r.expectedStatus){r.onError(i.status);return}const a=aq(i);if(s===ub){const l=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?r.onDone({begin:parseInt(c[1],10),chunk:a}):(Dt('Missing or invalid "Content-Range" header.'),r.onError(0))}else a?r.onDone({begin:0,chunk:a}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class cq{constructor(e){this._source=e,this._manager=new lq(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return sr(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new uq(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new dq(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class uq{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=ph(t.responseURL);const r=t.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(a=>{const[l,...c]=a.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:o}=MA({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=DA(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Cc(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class dq{constructor(e,t,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=ph(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=Cc(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const hq=/^[a-z][a-z0-9\-+.]+:/i;function fq(n){if(hq.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class pq{constructor(e){this.source=e,this.url=fq(e.url),sr(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return sr(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new gq(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new mq(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class gq{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=Cc(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new zs("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class mq{constructor(e,t,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Tc=Symbol("INITIAL_DATA");class zA{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:Tc}}get(e,t=null){if(t){const i=this.#t(e);return i.promise.then(()=>t(i.data)),null}const r=this.#e[e];if(!r||r.data===Tc)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=this.#e[e];return!!t&&t.data!==Tc}delete(e){const t=this.#e[e];return!t||t.data===Tc?!1:(delete this.#e[e],!0)}resolve(e,t=null){const r=this.#t(e);r.data=t,r.resolve()}clear(){for(const e in this.#e){const{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:t}=this.#e[e];t!==Tc&&(yield[e,t])}}}const bq=1e5,UA=30;class Or{#e=Promise.withResolvers();#t=null;#n=!1;#r=!!globalThis.FontInspector?.enabled;#s=null;#i=null;#o=0;#a=0;#l=null;#c=null;#d=0;#u=0;#p=Object.create(null);#g=[];#f=null;#h=[];#m=new WeakMap;#y=null;static#b=new Map;static#w=new Map;static#_=new WeakMap;static#v=null;static#E=new Set;constructor({textContentSource:e,container:t,viewport:r}){if(e instanceof ReadableStream)this.#f=e;else if(typeof e=="object")this.#f=new ReadableStream({start(l){l.enqueue(e),l.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#c=t,this.#u=r.scale*$i.pixelRatio,this.#d=r.rotation,this.#i={div:null,properties:null,ctx:null};const{pageWidth:i,pageHeight:s,pageX:o,pageY:a}=r.rawDims;this.#y=[1,0,0,-1,-o,a+s],this.#a=i,this.#o=s,Or.#C(),po(t,r),this.#e.promise.finally(()=>{Or.#E.delete(this),this.#i=null,this.#p=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=mr.platform;return $t(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#l.read().then(({value:t,done:r})=>{if(r){this.#e.resolve();return}this.#s??=t.lang,Object.assign(this.#p,t.styles),this.#k(t.items),e()},this.#e.reject)};return this.#l=this.#f.getReader(),Or.#E.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){const r=e.scale*$i.pixelRatio,i=e.rotation;if(i!==this.#d&&(t?.(),this.#d=i,po(this.#c,{rotation:i})),r!==this.#u){t?.(),this.#u=r;const s={div:null,properties:null,ctx:Or.#N(this.#s)};for(const o of this.#h)s.properties=this.#m.get(o),s.div=o,this.#I(s)}}cancel(){const e=new zs("TextLayer task cancelled.");this.#l?.cancel(e).catch(()=>{}),this.#l=null,this.#e.reject(e)}get textDivs(){return this.#h}get textContentItemsStr(){return this.#g}#k(e){if(this.#n)return;this.#i.ctx??=Or.#N(this.#s);const t=this.#h,r=this.#g;for(const i of e){if(t.length>bq){Dt("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(i.str===void 0){if(i.type==="beginMarkedContentProps"||i.type==="beginMarkedContent"){const s=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),i.id&&this.#t.setAttribute("id",`${i.id}`),s.append(this.#t)}else i.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}r.push(i.str),this.#A(i)}}#A(e){const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#h.push(t);const i=vt.transform(this.#y,e.transform);let s=Math.atan2(i[1],i[0]);const o=this.#p[e.fontName];o.vertical&&(s+=Math.PI/2);let a=this.#r&&o.fontSubstitution||o.fontFamily;a=Or.fontFamilyMap.get(a)||a;const l=Math.hypot(i[2],i[3]),c=l*Or.#R(a,o,this.#s);let u,d;s===0?(u=i[4],d=i[5]-c):(u=i[4]+c*Math.sin(s),d=i[5]-c*Math.cos(s));const h="calc(var(--total-scale-factor) *",f=t.style;this.#t===this.#c?(f.left=`${(100*u/this.#a).toFixed(2)}%`,f.top=`${(100*d/this.#o).toFixed(2)}%`):(f.left=`${h}${u.toFixed(2)}px)`,f.top=`${h}${d.toFixed(2)}px)`),f.fontSize=`${h}${(Or.#v*l).toFixed(2)}px)`,f.fontFamily=a,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#r&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const m=Math.abs(e.transform[0]),y=Math.abs(e.transform[3]);m!==y&&Math.max(m,y)/Math.min(m,y)>1.5&&(g=!0)}if(g&&(r.canvasWidth=o.vertical?e.height:e.width),this.#m.set(t,r),this.#i.div=t,this.#i.properties=r,this.#I(this.#i),r.hasText&&this.#t.append(t),r.hasEOL){const m=document.createElement("br");m.setAttribute("role","presentation"),this.#t.append(m)}}#I(e){const{div:t,properties:r,ctx:i}=e,{style:s}=t;let o="";if(Or.#v>1&&(o=`scale(${1/Or.#v})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:a}=s,{canvasWidth:l,fontSize:c}=r;Or.#T(i,c*this.#u,a);const{width:u}=i.measureText(t.textContent);u>0&&(o=`scaleX(${l*this.#u/u}) ${o}`)}r.angle!==0&&(o=`rotate(${r.angle}deg) ${o}`),o.length>0&&(s.transform=o)}static cleanup(){if(!(this.#E.size>0)){this.#b.clear();for(const{canvas:e}of this.#w.values())e.remove();this.#w.clear()}}static#N(e=null){let t=this.#w.get(e||="");if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#w.set(e,t),this.#_.set(t,{size:0,family:""})}return t}static#T(e,t,r){const i=this.#_.get(e);t===i.size&&r===i.family||(e.font=`${t}px ${r}`,i.size=t,i.family=r)}static#C(){if(this.#v!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#v=e.getBoundingClientRect().height,e.remove()}static#R(e,t,r){const i=this.#b.get(e);if(i)return i;const s=this.#N(r);s.canvas.width=s.canvas.height=UA,this.#T(s,UA,e);const o=s.measureText(""),a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let c=.8;return a?c=a/(a+l):(mr.platform.isFirefox&&Dt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?c=t.ascent:t.descent&&(c=1+t.descent)),this.#b.set(e,c),c}}class Nc{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(Nc.shouldBuildText(a))s?.attributes?.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const l of s.children)i(l)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const vq=100;function HA(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new db,{docId:t}=e,r=n.url?Tj(n.url):null,i=n.data?Nj(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof hb?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let u=n.worker instanceof ll?n.worker:null;const d=n.verbosity,h=typeof n.docBaseUrl=="string"&&!yc(n.docBaseUrl)?n.docBaseUrl:null,f=uh(n.cMapUrl),g=n.cMapPacked!==!1,m=n.CMapReaderFactory||(Kr?Lj:vA),y=uh(n.iccUrl),v=uh(n.standardFontDataUrl),A=n.StandardFontDataFactory||(Kr?Fj:_A),E=uh(n.wasmUrl),S=n.WasmFactory||(Kr?Bj:EA),C=n.stopAtErrors!==!0,x=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,N=n.isEvalSupported!==!1,D=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Kr,V=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Kr&&(mr.platform.isFirefox||!globalThis.chrome),O=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,K=typeof n.disableFontFace=="boolean"?n.disableFontFace:Kr,B=n.fontExtraProperties===!0,U=n.enableXfa===!0,L=n.ownerDocument||globalThis.document,W=n.disableRange===!0,H=n.disableStream===!0,Q=n.disableAutoFetch===!0,X=n.pdfBug===!0,le=n.CanvasFactory||(Kr?Dj:Rj),R=n.FilterFactory||(Kr?Mj:Oj),Ae=n.enableHWA===!0,ke=n.useWasm!==!1,M=l?l.length:n.length??NaN,fe=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Kr&&!K,Oe=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(m===vA&&A===_A&&S===EA&&f&&v&&E&&wc(f,document.baseURI)&&wc(v,document.baseURI)&&wc(E,document.baseURI)),Le=null;uj(d);const Pe={canvasFactory:new le({ownerDocument:L,enableHWA:Ae}),filterFactory:new R({docId:t,ownerDocument:L}),cMapReaderFactory:Oe?null:new m({baseUrl:f,isCompressed:g}),standardFontDataFactory:Oe?null:new A({baseUrl:v}),wasmFactory:Oe?null:new S({baseUrl:E})};u||(u=ll.create({verbosity:d,port:ol.workerPort}),e._worker=u);const $e={docId:t,apiVersion:"5.4.54",data:i,password:a,disableAutoFetch:Q,rangeChunkSize:c,length:M,docBaseUrl:h,enableXfa:U,evaluatorOptions:{maxImageSize:x,disableFontFace:K,ignoreErrors:C,isEvalSupported:N,isOffscreenCanvasSupported:D,isImageDecoderSupported:V,canvasMaxAreaInBytes:O,fontExtraProperties:B,useSystemFonts:fe,useWasm:ke,useWorkerFetch:Oe,cMapUrl:f,iccUrl:y,standardFontDataUrl:v,wasmUrl:E}},Fe={ownerDocument:L,pdfBug:X,styleElement:Le,loadingParams:{disableAutoFetch:Q,enableXfa:U}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const nn=u.messageHandler.sendWithPromise("GetDocRequest",$e,i?[i.buffer]:null);let wt;if(l)wt=new eq(l,{disableRange:W,disableStream:H});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const ut=wc(r)?iq:Kr?pq:cq;wt=new ut({url:r,length:M,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:W,disableStream:H})}return nn.then(ut=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const Vt=new Sc(t,ut,u.port),rn=new _q(Vt,e,wt,Fe,Pe,Ae);e._transport=rn,Vt.send("Ready",null)})}).catch(e._capability.reject),e}class db{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${db.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class hb{#e=Promise.withResolvers();#t=[];#n=[];#r=[];#s=[];constructor(e,t,r=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){this.#s.push(e)}addProgressListener(e){this.#r.push(e)}addProgressiveReadListener(e){this.#n.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,t){for(const r of this.#s)r(e,t)}onDataProgress(e,t){this.#e.promise.then(()=>{for(const r of this.#r)r(e,t)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const t of this.#n)t(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,t){En("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class yq{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return $t(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class wq{#e=!1;constructor(e,t,r,i=!1){this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new lA:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new zA,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new vc({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return $t(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:t=e.canvas,viewport:r,intent:i="display",annotationMode:s=Bs.ENABLE,transform:o=null,background:a=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:u=null,printAnnotationStorage:d=null,isEditing:h=!1}){this._stats?.time("Overall");const f=this._transport.getRenderingIntent(i,s,d,h),{renderingIntent:g,cacheKey:m}=f;this.#e=!1,l||=this._transport.getOptionalContentConfig(g);let y=this._intentStates.get(m);y||(y=Object.create(null),this._intentStates.set(m,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const v=!!(g&yi.PRINT);y.displayReadyCapability||(y.displayReadyCapability=Promise.withResolvers(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(f));const A=C=>{y.renderTasks.delete(E),v&&(this.#e=!0),this.#t(),C?(E.capability.reject(C),this._abortOperatorList({intentState:y,reason:C instanceof Error?C:new Error(C)})):E.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},E=new cl({callback:A,params:{canvas:t,canvasContext:e,viewport:r,transform:o,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:u,enableHWA:this._transport.enableHWA});(y.renderTasks||=new Set).add(E);const S=E.task;return Promise.all([y.displayReadyCapability.promise,l]).then(([C,x])=>{if(this.destroyed){A();return}if(this._stats?.time("Rendering"),!(x.renderingIntent&g))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");E.initializeGraphics({transparency:C,optionalContentConfig:x}),E.operatorListChanged()}).catch(A),S}getOperatorList({intent:e="display",annotationMode:t=Bs.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}const o=this._transport.getRenderingIntent(e,t,r,i,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||=new Set).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Nc.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){o.read().then(function({value:l,done:c}){if(c){r(a);return}a.lang??=l.lang,Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},i)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const t=this.#t();return e&&t&&(this._stats&&=new lA),t}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,t){const r=this._intentStates.get(t);r&&(this._stats?.timeEnd("Page Request"),r.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:o}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},o).getReader(),c=this._intentStates.get(t);c.streamReader=l;const u=()=>{l.read().then(({value:d,done:h})=>{if(h){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,c),u())},d=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const h of c.renderTasks)h.operatorListChanged();this.#t()}if(c.displayReadyCapability)c.displayReadyCapability.reject(d);else if(c.opListReadCapability)c.opListReadCapability.reject(d);else throw d}})};u()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof sh){let i=vq;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new zs(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}const zn=class zn{constructor({name:e=null,port:t=null,verbosity:r=dj()}={}){xs(this,$r);xs(this,go,Promise.withResolvers());xs(this,Yi,null);xs(this,Gs,null);xs(this,ta,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,t){if(Vn(zn,ra).has(t))throw new Error("Cannot use more than one PDFWorker per port.");Vn(zn,ra).set(t,this),Es(this,$r,vS).call(this,t)}else Es(this,$r,yS).call(this)}get promise(){return Vn(this,go).promise}get port(){return Vn(this,Gs)}get messageHandler(){return Vn(this,Yi)}destroy(){this.destroyed=!0,Vn(this,ta)?.terminate(),di(this,ta,null),Vn(zn,ra).delete(Vn(this,Gs)),di(this,Gs,null),Vn(this,Yi)?.destroy(),di(this,Yi,null)}static create(e){const t=Vn(this,ra).get(e?.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new zn(e)}static get workerSrc(){if(ol.workerSrc)return ol.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return $t(this,"_setupFakeWorkerGlobal",(async()=>Vn(this,ul,Fh)?Vn(this,ul,Fh):(await import(this.workerSrc)).WorkerMessageHandler)())}};go=new WeakMap,Yi=new WeakMap,Gs=new WeakMap,ta=new WeakMap,yh=new WeakMap,na=new WeakMap,ra=new WeakMap,$r=new WeakSet,Lh=function(){Vn(this,go).resolve(),Vn(this,Yi).send("configure",{verbosity:this.verbosity})},vS=function(e){di(this,Gs,e),di(this,Yi,new Sc("main","worker",e)),Vn(this,Yi).on("ready",()=>{}),Es(this,$r,Lh).call(this)},yS=function(){if(Vn(zn,na)||Vn(zn,ul,Fh)){Es(this,$r,qc).call(this);return}let{workerSrc:e}=zn;try{zn._isSameOrigin(window.location,e)||(e=zn._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new Sc("main","worker",t),i=()=>{s.abort(),r.destroy(),t.terminate(),this.destroyed?Vn(this,go).reject(new Error("Worker was destroyed")):Es(this,$r,qc).call(this)},s=new AbortController;t.addEventListener("error",()=>{Vn(this,ta)||i()},{signal:s.signal}),r.on("test",a=>{if(s.abort(),this.destroyed||!a){i();return}di(this,Yi,r),di(this,Gs,t),di(this,ta,t),Es(this,$r,Lh).call(this)}),r.on("ready",a=>{if(s.abort(),this.destroyed){i();return}try{o()}catch{Es(this,$r,qc).call(this)}});const o=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};o();return}catch{rh("The worker has been disabled.")}Es(this,$r,qc).call(this)},qc=function(){Vn(zn,na)||(Dt("Setting up fake worker."),di(zn,na,!0)),zn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){Vn(this,go).reject(new Error("Worker was destroyed"));return}const t=new Pj;di(this,Gs,t);const r=`fake${bS(zn,yh)._++}`,i=new Sc(r+"_worker",r,t);e.setup(i,t),di(this,Yi,new Sc(r,r+"_worker",t)),Es(this,$r,Lh).call(this)}).catch(e=>{Vn(this,go).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},ul=new WeakSet,Fh=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},xs(zn,ul),xs(zn,yh,0),xs(zn,na,!1),xs(zn,ra,new WeakMap),Kr&&(di(zn,na,!0),ol.workerSrc||="./pdf.worker.mjs"),zn._isSameOrigin=(e,t)=>{const r=URL.parse(e);if(!r?.origin||r.origin==="null")return!1;const i=new URL(t,r);return r.origin===i.origin},zn._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},zn.fromPort=e=>{if(wj("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return zn.create(e)};let ll=zn;class _q{#e=new Map;#t=new Map;#n=new Map;#r=new Map;#s=null;constructor(e,t,r,i,s,o){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new zA,this.fontLoader=new kj({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=o,this.setupMessageHandler()}#i(e,t=null){const r=this.#e.get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,i),i}get annotationStorage(){return $t(this,"annotationStorage",new tb)}getRenderingIntent(e,t=Bs.ENABLE,r=null,i=!1,s=!1){let o=yi.DISPLAY,a=eb;switch(e){case"any":o=yi.ANY;break;case"display":break;case"print":o=yi.PRINT;break;default:Dt(`getRenderingIntent - invalid intent: ${e}`)}const l=o&yi.PRINT&&r instanceof fA?r:this.annotationStorage;switch(t){case Bs.DISABLE:o+=yi.ANNOTATIONS_DISABLE;break;case Bs.ENABLE:break;case Bs.ENABLE_FORMS:o+=yi.ANNOTATIONS_FORMS;break;case Bs.ENABLE_STORAGE:o+=yi.ANNOTATIONS_STORAGE,a=l.serializable;break;default:Dt(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(o+=yi.IS_EDITING),s&&(o+=yi.OPLIST);const{ids:c,hash:u}=l.modifiedIds,d=[o,a.hash,u];return{renderingIntent:o,cacheKey:d.join("_"),annotationStorageSerializable:a,modifiedIds:c}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#s?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of this.#t.values())e.push(r._destroy());this.#t.clear(),this.#n.clear(),this.#r.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),Or.cleanup(),this._networkStream?.cancelAllRequests(new zs("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{sr(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}sr(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async r=>{await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:o}=this._fullReader;return(!i||!s)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=a=>{t.onProgress?.({loaded:a.loaded,total:a.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:o}}),e.on("GetRangeReader",(r,i)=>{sr(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){i.close();return}sr(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new yq(r,this))}),e.on("DocException",r=>{t._capability.reject(ai(r))}),e.on("PasswordRequest",r=>{this.#s=Promise.withResolvers();try{if(!t.onPassword)throw ai(r);const i=s=>{s instanceof Error?this.#s.reject(s):this.#s.resolve({password:s})};t.onPassword(i,r.code)}catch(i){this.#s.reject(i)}return this.#s.promise}),e.on("DataLoaded",r=>{t.onProgress?.({loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;this.#t.get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in s){const c=s.error;Dt(`Error during font loading: ${c}`),this.commonObjs.resolve(r,c);break}const o=this._params.pdfBug&&globalThis.FontInspector?.enabled?(c,u)=>globalThis.FontInspector.fontAdded(c,u):null,a=new Cj(s,o);this.fontLoader.bind(a).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!a.fontExtraProperties&&a.data&&(a.data=null),this.commonObjs.resolve(r,a)});break;case"CopyLocalImage":const{imageRef:l}=s;sr(l,"The imageRef must be defined.");for(const c of this.#t.values())for(const[,u]of c.objs)if(u?.ref===l)return u.dataLen?(this.commonObjs.resolve(r,structuredClone(u)),u.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,o])=>{if(this.destroyed)return;const a=this.#t.get(i);if(!a.objs.has(r)){if(a._intentStates.size===0){o?.bitmap?.close();return}switch(s){case"Image":case"Pattern":a.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{this.destroyed||t.onProgress?.({loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Dt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=this.#n.get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#r.set(s.refStr,e);const o=new wq(t,s,this,this._params.pdfBug);return this.#t.set(t,o),o});return this.#n.set(t,i),i}getPageIndex(e){return nb(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#i("GetFieldObjects")}hasJSActions(){return this.#i("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#i("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#i("GetOptionalContentConfig").then(t=>new Jj(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#e.get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>({info:i[0],metadata:i[1]?new Zj(i[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),Or.cleanup()}}cachedPageNumber(e){if(!nb(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#r.get(t)??null}}class xq{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}}class cl{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:h=null,enableHWA:f=!1}){this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new xq(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=f}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(cl.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");cl.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:s}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new sl(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),cl.#t.delete(this._canvas),e||=new sh(`Rendering cancelled, page ${this._pageIndex+1}`,t),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),cl.#t.delete(this._canvas),this.callback())))}}const GA="5.4.54",VA="295fb3ec4";class xi{#e=null;#t=null;#n;#r=null;#s=!1;#i=!1;#o=null;#a;#l=null;#c=null;static#d=null;static get _keyboardManager(){return $t(this,"_keyboardManager",new Ec([[["Escape","mac+Escape"],xi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],xi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],xi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],xi.prototype._moveToPrevious],[["Home","mac+Home"],xi.prototype._moveToBeginning],[["End","mac+End"],xi.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#i=!1,this.#o=e):this.#i=!0,this.#c=e?._uiManager||t,this.#a=this.#c._eventBus,this.#n=e?.color?.toUpperCase()||this.#c?.highlightColors.values().next().value||"#FFFF98",xi.#d||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#o&&(e.ariaControls=`${this.#o.id}_colorpicker_dropdown`);const t=this.#c._signal;e.addEventListener("click",this.#f.bind(this),{signal:t}),e.addEventListener("keydown",this.#g.bind(this),{signal:t});const r=this.#t=document.createElement("span");return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=this.#n,e.append(r),e}renderMainDropdown(){const e=this.#r=this.#u();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#u(){const e=document.createElement("div"),t=this.#c._signal;e.addEventListener("contextmenu",wi,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#o&&(e.id=`${this.#o.id}_colorpicker_dropdown`);for(const[r,i]of this.#c.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",xi.#d[r]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=i,s.ariaSelected=i===this.#n,s.addEventListener("click",this.#p.bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",this.#g.bind(this),{signal:t}),e}#p(e,t){t.stopPropagation(),this.#a.dispatch("switchannotationeditorparams",{source:this,type:ln.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#f(e);return}const t=e.target.getAttribute("data-color");t&&this.#p(t,e)}_moveToNext(e){if(!this.#m){this.#f(e);return}if(e.target===this.#e){this.#r.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#r?.firstChild||e.target===this.#e){this.#m&&this._hideDropdownFromKeyboard();return}this.#m||this.#f(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#m){this.#f(e);return}this.#r.firstChild?.focus()}_moveToEnd(e){if(!this.#m){this.#f(e);return}this.#r.lastChild?.focus()}#g(e){xi._keyboardManager.exec(this,e)}#f(e){if(this.#m){this.hideDropdown();return}if(this.#s=e.detail===0,this.#l||(this.#l=new AbortController,window.addEventListener("pointerdown",this.#h.bind(this),{signal:this.#c.combinedSignal(this.#l)})),this.#e.ariaExpanded="true",this.#r){this.#r.classList.remove("hidden");return}const t=this.#r=this.#u();this.#e.append(t)}#h(e){this.#r?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#r?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#l?.abort(),this.#l=null}get#m(){return this.#r&&!this.#r.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#i){if(!this.#m){this.#o?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#s})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#r)return;const t=this.#c.highlightColors.values();for(const r of this.#r.children)r.ariaSelected=t.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#r?.remove(),this.#r=null}}class Ic{#e=null;#t=null;#n=null;static#r=null;constructor(e){this.#t=e,this.#n=e._uiManager,Ic.#r||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:t,colorValue:r}=this.#t,i=this.#e=document.createElement("input");return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",Ic.#r[e]),i.addEventListener("input",()=>{this.#n.updateParams(t,i.value)},{signal:this.#n._signal}),i}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function jA(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Pc(n){return Math.max(0,Math.min(255,255*n))}class qA{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Pc(e),[e,e,e]}static G_HTML([e]){const t=jA(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(Pc)}static RGB_HTML(e){return`#${e.map(jA).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[Pc(1-Math.min(1,e+i)),Pc(1-Math.min(1,r+i)),Pc(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,o=1-r,a=Math.min(i,s,o);return["CMYK",i,s,o,a]}}class Eq{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){En("Abstract method `_createSVG` called.")}}class Rc extends Eq{_createSVG(e){return document.createElementNS(Us,e)}}class fb{static setupStorage(e,t,r,i,s){const o=i.getValue(t,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{i.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of r.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[l,c]of Object.entries(o))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}a&&s.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,t,r)}static render(e){const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:s,linkService:r});const a=s!=="richText",l=e.div;if(l.append(o),e.viewport){const d=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=d}a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const d=document.createTextNode(i.value);o.append(d),a&&Nc.shouldBuildText(i.name)&&c.push(d)}return{textDivs:c}}const u=[[i,-1,o]];for(;u.length>0;){const[d,h,f]=u.at(-1);if(h+1===d.children.length){u.pop();continue}const g=d.children[++u.at(-1)[1]];if(g===null)continue;const{name:m}=g;if(m==="#text"){const v=document.createTextNode(g.value);c.push(v),f.append(v);continue}const y=g?.attributes?.xmlns?document.createElementNS(g.attributes.xmlns,m):document.createElement(m);if(f.append(y),g.attributes&&this.setAttributes({html:y,element:g,storage:t,intent:s,linkService:r}),g.children?.length>0)u.push([g,-1,y]);else if(g.value){const v=document.createTextNode(g.value);a&&Nc.shouldBuildText(m)&&c.push(v),y.append(v)}}for(const d of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Aq=9,Zo=new WeakSet,Sq=new Date().getTimezoneOffset()*60*1e3;class WA{static create(e){switch(e.data.annotationType){case Qn.LINK:return new pb(e);case Qn.TEXT:return new kq(e);case Qn.WIDGET:switch(e.data.fieldType){case"Tx":return new Cq(e);case"Btn":return e.data.radioButton?new KA(e):e.data.checkBox?new Nq(e):new Iq(e);case"Ch":return new Pq(e);case"Sig":return new Tq(e)}return new Qo(e);case Qn.POPUP:return new gb(e);case Qn.FREETEXT:return new $A(e);case Qn.LINE:return new Oq(e);case Qn.SQUARE:return new Mq(e);case Qn.CIRCLE:return new Dq(e);case Qn.POLYLINE:return new YA(e);case Qn.CARET:return new Fq(e);case Qn.INK:return new mb(e);case Qn.POLYGON:return new Lq(e);case Qn.HIGHLIGHT:return new XA(e);case Qn.UNDERLINE:return new Bq(e);case Qn.SQUIGGLY:return new zq(e);case Qn.STRIKEOUT:return new Uq(e);case Qn.STAMP:return new ZA(e);case Qn.FILEATTACHMENT:return new Hq(e);default:return new er(e)}}}class er{#e=null;#t=!1;#n=null;constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e?.str||t?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return er._hasPopupData(this.data)}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:t,popup:r}=e;t&&this.#r(t);let i=this.#n?.popup||this.popup;!i&&r?.text&&(this._createPopup(r),i=this.#n.popup),i&&(i.updateEdited(e),r?.deleted&&(i.remove(),this.#n=null,this.popup=null))}resetEdited(){this.#e&&(this.#r(this.#e.rect),this.#n?.popup.resetEdited(),this.#e=null)}#r(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;r?.splice(0,4,...e),t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(o-e[3]+l)/o}%`,i===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/o}%`):this.setRotation(i)}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof Qo)&&!(this instanceof pb)&&(s.tabIndex=0);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof gb){const{rotation:m}=t;return!t.hasOwnCanvas&&m!==0&&this.setRotation(m,s),s}const{width:a,height:l}=this;if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const m=t.borderStyle.horizontalCornerRadius,y=t.borderStyle.verticalCornerRadius;if(m>0||y>0){const A=`calc(${m}px * var(--total-scale-factor)) / calc(${y}px * var(--total-scale-factor))`;o.borderRadius=A}else if(this instanceof KA){const A=`calc(${a}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;o.borderRadius=A}switch(t.borderStyle.style){case nl.SOLID:o.borderStyle="solid";break;case nl.DASHED:o.borderStyle="dashed";break;case nl.BEVELED:Dt("Unimplemented border style: beveled");break;case nl.INSET:Dt("Unimplemented border style: inset");break;case nl.UNDERLINE:o.borderBottomStyle="solid";break}const v=t.borderColor||null;v?(this.#t=!0,o.borderColor=vt.makeHexColor(v[0]|0,v[1]|0,v[2]|0)):o.borderWidth=0}const c=vt.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:u,pageHeight:d,pageX:h,pageY:f}=i.rawDims;o.left=`${100*(c[0]-h)/u}%`,o.top=`${100*(c[1]-f)/d}%`;const{rotation:g}=t;return t.hasOwnCanvas||g===0?(o.width=`${100*a/u}%`,o.height=`${100*l/d}%`):this.setRotation(g,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:o}=this;e%180!==0&&([s,o]=[o,s]),t.style.width=`${100*s/r}%`,t.style.height=`${100*o/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],o=s[0],a=s.slice(1);i.target.style[r]=qA[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:qA[`${o}_rgb`](a)})};return $t(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail))(e[i]||r[i])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const o=r[i];if(o){const a={detail:{[i]:s},target:e};o(a),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect.map(m=>Math.fround(m));if(e.length===8){const[m,y,v,A]=e.subarray(2,6);if(i===m&&s===y&&t===v&&r===A)return}const{style:o}=this.container;let a;if(this.#t){const{borderColor:m,borderWidth:y}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${m}" stroke-width="${y}">`],this.container.classList.add("hasBorder")}const l=i-t,c=s-r,{svgFactory:u}=this,d=u.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0),d.role="none";const h=u.createElement("defs");d.append(h);const f=u.createElement("clipPath"),g=`clippath_${this.data.id}`;f.setAttribute("id",g),f.setAttribute("clipPathUnits","objectBoundingBox"),h.append(f);for(let m=2,y=e.length;m<y;m+=8){const v=e[m],A=e[m+1],E=e[m+2],S=e[m+3],C=u.createElement("rect"),x=(E-t)/l,N=(s-A)/c,D=(v-E)/l,V=(A-S)/c;C.setAttribute("x",x),C.setAttribute("y",N),C.setAttribute("width",D),C.setAttribute("height",V),f.append(C),a?.push(`<rect vector-effect="non-scaling-stroke" x="${x}" y="${N}" width="${D}" height="${V}"/>`)}this.#t&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${g})`}_createPopup(e=null){const{data:t}=this;let r,i;e?(r={str:e.text},i=e.date):(r=t.contentsObj,i=t.modificationDate);const s=this.#n=new gb({data:{color:t.color,titleObj:t.titleObj,modificationDate:i,contentsObj:r,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent.div.append(s.render())}get hasPopupElement(){return!!(this.#n||this.popup||this.data.popupRef)}render(){En("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:o,exportValues:a}of i){if(s===-1||o===t)continue;const l=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!Zo.has(c)){Dt(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:l,domElement:c})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,o=i.getAttribute("data-element-id");o!==t&&Zo.has(i)&&r.push({id:o,exportValue:s,domElement:i})}return r}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class pb extends er{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let i=!1;return e.url?(t.addLinkAttributes(r,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(r,e.action,e.overlaidText),i=!0):e.attachment?(this.#t(r,e.attachment,e.overlaidText,e.attachmentDest),i=!0):e.setOCGState?(this.#n(r,e.setOCGState,e.overlaidText),i=!0):e.dest?(this._bindLink(r,e.dest,e.overlaidText),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),i=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(r,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(r),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t,r=""){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e(),r&&(e.title=r)}_bindNamedAction(e,t,r=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),r&&(e.title=r),this.#e()}#t(e,t,r="",i=null){e.href=this.linkService.getAnchorUrl(""),t.description?e.title=t.description:r&&(e.title=r),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,i),!1),this.#e()}#n(e,t,r=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),r&&(e.title=r),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(t.actions)){const s=r.get(i);s&&(e[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:i}}),!1))}t.overlaidText&&(e.title=t.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){Dt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{r?.();const{fields:i,refs:s,include:o}=t,a=[];if(i.length!==0||s.length!==0){const u=new Set(s);for(const d of i){const h=this._fieldObjects[d]||[];for(const{id:f}of h)u.add(f)}for(const d of Object.values(this._fieldObjects))for(const h of d)u.has(h.id)===o&&a.push(h)}else for(const u of Object.values(this._fieldObjects))a.push(...u);const l=this.annotationStorage,c=[];for(const u of a){const{id:d}=u;switch(c.push(d),u.type){case"text":{const f=u.defaultValue||"";l.setValue(d,{value:f});break}case"checkbox":case"radiobutton":{const f=u.defaultValue===u.exportValues;l.setValue(d,{value:f});break}case"combobox":case"listbox":{const f=u.defaultValue||"";l.setValue(d,{value:f});break}default:continue}const h=document.querySelector(`[data-element-id="${d}"]`);if(h){if(!Zo.has(h)){Dt(`_bindResetFormAction - element not allowed: ${d}`);continue}}else continue;h.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}}),!1}}}class kq extends er{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Qo extends er{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return mr.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,o=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{if(r==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o)}})})}_setEventListeners(e,t,r,i){for(const[s,o]of r)(o==="Action"||this.data.actions?.[o])&&((o==="Focus"||o==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,s,o,i),o==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):o==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":vt.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||Aq,s=e.style;let o;const a=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),u=Math.round(c/(jm*i))||1,d=c/u;o=Math.min(i,l(d/jm))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(i,l(c/jm))}s.fontSize=`calc(${o}px * var(--total-scale-factor))`,s.color=vt.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Cq extends Qo{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=r),s.setValue(o.id,{[i]:r})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const i=e.getValue(t,{value:this.data.fieldValue});let s=i.value||"";const o=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;o&&s.length>o&&(s=s.slice(0,o));let a=i.formattedValue||this.data.textContent?.join(`
`)||null;a&&this.data.comb&&(a=a.replaceAll(/\s+/g,""));const l={userValue:s,formattedValue:a,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=a??s,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",a??s),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),Zo.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:c,datetimeType:u,timeStep:d}=this.data,h=!!u&&this.enableScripting;c&&(r.title=c),this._setRequired(r,this.data.required),o&&(r.maxLength=o),r.addEventListener("input",g=>{e.setValue(t,{value:g.target.value}),this.setPropertyOnSiblings(r,"value",g.target.value,"value"),l.formattedValue=null}),r.addEventListener("resetform",g=>{const m=this.data.defaultFieldValue??"";r.value=l.userValue=m,l.formattedValue=null});let f=g=>{const{formattedValue:m}=l;m!=null&&(g.target.value=m),g.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",m=>{if(l.focused)return;const{target:y}=m;if(h&&(y.type=u,d&&(y.step=d)),l.userValue){const v=l.userValue;if(h)if(u==="time"){const A=new Date(v),E=[A.getHours(),A.getMinutes(),A.getSeconds()];y.value=E.map(S=>S.toString().padStart(2,"0")).join(":")}else y.value=new Date(v-Sq).toISOString().split(u==="date"?"T":".",1)[0];else y.value=v}l.lastCommittedValue=y.value,l.commitKey=1,this.data.actions?.Focus||(l.focused=!0)}),r.addEventListener("updatefromsandbox",m=>{this.showElementAndHideCanvas(m.target);const y={value(v){l.userValue=v.detail.value??"",h||e.setValue(t,{value:l.userValue.toString()}),v.target.value=l.userValue},formattedValue(v){const{formattedValue:A}=v.detail;l.formattedValue=A,A!=null&&v.target!==document.activeElement&&(v.target.value=A);const E={formattedValue:A};h&&(E.value=A),e.setValue(t,E)},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{const{charLimit:A}=v.detail,{target:E}=v;if(A===0){E.removeAttribute("maxLength");return}E.setAttribute("maxLength",A);let S=l.userValue;!S||S.length<=A||(S=S.slice(0,A),E.value=l.userValue=S,e.setValue(t,{value:S}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,willCommit:!0,commitKey:1,selStart:E.selectionStart,selEnd:E.selectionEnd}}))}};this._dispatchEventFromSandbox(y,m)}),r.addEventListener("keydown",m=>{l.commitKey=1;let y=-1;if(m.key==="Escape"?y=0:m.key==="Enter"&&!this.data.multiLine?y=2:m.key==="Tab"&&(l.commitKey=3),y===-1)return;const{value:v}=m.target;l.lastCommittedValue!==v&&(l.lastCommittedValue=v,l.userValue=v,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:y,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}))});const g=f;f=null,r.addEventListener("blur",m=>{if(!l.focused||!m.relatedTarget)return;this.data.actions?.Blur||(l.focused=!1);const{target:y}=m;let{value:v}=y;if(h){if(v&&u==="time"){const A=v.split(":").map(E=>parseInt(E,10));v=new Date(2e3,0,1,A[0],A[1],A[2]||0).valueOf(),y.step=""}else v=new Date(v).valueOf();y.type="text"}l.userValue=v,l.lastCommittedValue!==v&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:l.commitKey,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}),g(m)}),this.data.actions?.Keystroke&&r.addEventListener("beforeinput",m=>{l.lastCommittedValue=null;const{data:y,target:v}=m,{value:A,selectionStart:E,selectionEnd:S}=v;let C=E,x=S;switch(m.inputType){case"deleteWordBackward":{const N=A.substring(0,E).match(/\w*[^\w]*$/);N&&(C-=N[0].length);break}case"deleteWordForward":{const N=A.substring(E).match(/^[^\w]*\w*/);N&&(x+=N[0].length);break}case"deleteContentBackward":E===S&&(C-=1);break;case"deleteContentForward":E===S&&(x+=1);break}m.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,change:y||"",willCommit:!1,selStart:C,selEnd:x}})}),this._setEventListeners(r,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],m=>m.target.value)}if(f&&r.addEventListener("blur",f),this.data.comb){const m=(this.data.rect[2]-this.data.rect[0])/o;r.classList.add("comb"),r.style.letterSpacing=`calc(${m}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Tq extends Qo{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Nq extends Qo{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Zo.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r)){const u=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class KA extends Qo{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const o of this._getElementsByName(t.fieldName,r))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(Zo.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:c=>{const u=o===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const h=u&&d.id===r;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Iq extends pb{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class Pq extends Qo{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");Zo.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",u=>{const d=this.data.defaultFieldValue;for(const h of i.options)h.selected=h.value===d});for(const u of this.data.options){const d=document.createElement("option");d.textContent=u.displayValue,d.value=u.exportValue,r.value.includes(u.exportValue)&&(d.setAttribute("selected",!0),s=!1),i.append(d)}let o=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),i.prepend(u),o=()=>{u.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const a=u=>{const d=u?"value":"textContent",{options:h,multiple:f}=i;return f?Array.prototype.filter.call(h,g=>g.selected).map(g=>g[d]):h.selectedIndex===-1?null:h[h.selectedIndex][d]};let l=a(!1);const c=u=>{const d=u.target.options;return Array.prototype.map.call(d,h=>({displayValue:h.textContent,exportValue:h.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",u=>{const d={value(h){o?.();const f=h.detail.value,g=new Set(Array.isArray(f)?f:[f]);for(const m of i.options)m.selected=g.has(m.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(h){i.multiple=!0},remove(h){const f=i.options,g=h.detail.remove;f[g].selected=!1,i.remove(g),f.length>0&&Array.prototype.findIndex.call(f,y=>y.selected)===-1&&(f[0].selected=!0),e.setValue(t,{value:a(!0),items:c(h)}),l=a(!1)},clear(h){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(h){const{index:f,displayValue:g,exportValue:m}=h.detail.insert,y=i.children[f],v=document.createElement("option");v.textContent=g,v.value=m,y?y.before(v):i.append(v),e.setValue(t,{value:a(!0),items:c(h)}),l=a(!1)},items(h){const{items:f}=h.detail;for(;i.length!==0;)i.remove(0);for(const g of f){const{displayValue:m,exportValue:y}=g,v=document.createElement("option");v.textContent=m,v.value=y,i.append(v)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:a(!0),items:c(h)}),l=a(!1)},indices(h){const f=new Set(h.detail.indices);for(const g of h.target.options)g.selected=f.has(g.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(h){h.target.disabled=!h.detail.editable}};this._dispatchEventFromSandbox(d,u)}),i.addEventListener("input",u=>{const d=a(!0),h=a(!1);e.setValue(t,{value:d}),u.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:h,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):i.addEventListener("input",function(u){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class gb extends er{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:er._hasPopupData(t)}),this.elements=r,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=new Rq({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),r=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",r.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(i=>`${Zm}${i}`).join(",")),this.container}}class Rq{#e=this.#I.bind(this);#t=this.#R.bind(this);#n=this.#C.bind(this);#r=this.#T.bind(this);#s=null;#i=null;#o=null;#a=null;#l=null;#c=null;#d=null;#u=!1;#p=null;#g=null;#f=null;#h=null;#m=null;#y=null;#b=null;#w=!1;constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:c,parentRect:u,open:d}){this.#i=e,this.#y=i,this.#o=o,this.#m=a,this.#c=l,this.#s=t,this.#h=c,this.#d=u,this.#l=r,this.#a=ah.toDateObject(s),this.trigger=r.flatMap(h=>h.getElementsToTriggerPopup()),this.#_(),this.#i.hidden=!0,d&&this.#T()}#_(){if(this.#g)return;this.#g=new AbortController;const{signal:e}=this.#g;for(const t of this.trigger)t.addEventListener("click",this.#r,{signal:e}),t.addEventListener("mouseenter",this.#n,{signal:e}),t.addEventListener("mouseleave",this.#t,{signal:e}),t.classList.add("popupTriggerArea");for(const t of this.#l)t.container?.addEventListener("keydown",this.#e,{signal:e})}render(){if(this.#p)return;const e=this.#p=document.createElement("div");if(e.className="popup",this.#s){const i=e.style.outlineColor=vt.makeHexColor(...this.#s);e.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`}const t=document.createElement("span");if(t.className="header",this.#y?.str){const i=document.createElement("span");i.className="title",t.append(i),{dir:i.dir,str:i.textContent}=this.#y}if(e.append(t),this.#a){const i=document.createElement("time");i.className="popupDate",i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#a.valueOf()})),i.dateTime=this.#a.toISOString(),t.append(i)}const r=this.#v;if(r)fb.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const i=this._formatContents(this.#o);e.append(i)}this.#i.append(e)}get#v(){const e=this.#m,t=this.#o;return e?.str&&(!t?.str||t.str===e.str)&&this.#m.html||null}get#E(){return this.#v?.attributes?.style?.fontSize||0}get#k(){return this.#v?.attributes?.style?.color||null}#A(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:this.#k,fontSize:this.#E?`calc(${this.#E}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,o=i.length;s<o;++s){const a=i[s];r.append(document.createTextNode(a)),s<o-1&&r.append(document.createElement("br"))}return r}#I(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#u)&&this.#T()}updateEdited({rect:e,popup:t,deleted:r}){if(r||t?.deleted){this.remove();return}this.#_(),this.#b||={contentsObj:this.#o,richText:this.#m},e&&(this.#f=null),t&&(this.#m=this.#A(t.text),this.#a=ah.toDateObject(t.date),this.#o=null),this.#p?.remove(),this.#p=null}resetEdited(){this.#b&&({contentsObj:this.#o,richText:this.#m}=this.#b,this.#b=null,this.#p?.remove(),this.#p=null,this.#f=null)}remove(){this.#g?.abort(),this.#g=null,this.#p?.remove(),this.#p=null,this.#w=!1,this.#u=!1;for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#N(){if(this.#f!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=this.#c;let o=!!this.#d,a=o?this.#d:this.#h;for(const g of this.#l)if(!a||vt.intersect(g.data.rect,a)!==null){a=g.data.rect,o=!0;break}const l=vt.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),u=o?a[2]-a[0]+5:0,d=l[0]+u,h=l[1];this.#f=[100*(d-i)/t,100*(h-s)/r];const{style:f}=this.#i;f.left=`${this.#f[0]}%`,f.top=`${this.#f[1]}%`}#T(){this.#u=!this.#u,this.#u?(this.#C(),this.#i.addEventListener("click",this.#r),this.#i.addEventListener("keydown",this.#e)):(this.#R(),this.#i.removeEventListener("click",this.#r),this.#i.removeEventListener("keydown",this.#e))}#C(){this.#p||this.render(),this.isVisible?this.#u&&this.#i.classList.add("focused"):(this.#N(),this.#i.hidden=!1,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)+1e3)}#R(){this.#i.classList.remove("focused"),!(this.#u||!this.isVisible)&&(this.#i.hidden=!0,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)-1e3)}forceHide(){this.#w=this.isVisible,this.#w&&(this.#i.hidden=!0)}maybeShow(){this.#_(),this.#w&&(this.#p||this.#C(),this.#w=!1,this.#i.hidden=!1)}get isVisible(){return this.#i.hidden===!1}}class $A extends er{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ot.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class Oq extends er{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:r}=this,i=this.svgFactory.create(t,r,!0),s=this.#e=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Mq extends er{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:r}=this,i=this.svgFactory.create(t,r,!0),s=e.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",s/2),o.setAttribute("y",s/2),o.setAttribute("width",t-s),o.setAttribute("height",r-s),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Dq extends er{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:r}=this,i=this.svgFactory.create(t,r,!0),s=e.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",t/2),o.setAttribute("cy",r/2),o.setAttribute("rx",t/2-s/2),o.setAttribute("ry",r/2-s/2),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class YA extends er{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:r,popupRef:i},width:s,height:o}=this;if(!t)return this.container;const a=this.svgFactory.create(s,o,!0);let l=[];for(let u=0,d=t.length;u<d;u+=2){const h=t[u]-e[0],f=e[3]-t[u+1];l.push(`${h},${f}`)}l=l.join(" ");const c=this.#e=this.svgFactory.createElement(this.svgElementName);return c.setAttribute("points",l),c.setAttribute("stroke-width",r.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Lq extends YA{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Fq extends er{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class mb extends er{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ot.HIGHLIGHT:Ot.INK}#n(e,t){switch(e){case 90:return{transform:`rotate(90) translate(${-t[0]},${t[1]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:`rotate(180) translate(${-t[2]},${t[1]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:`rotate(270) translate(${-t[2]},${t[3]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:`translate(${-t[0]},${t[3]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:r,borderStyle:i,popupRef:s}}=this,{transform:o,width:a,height:l}=this.#n(t,e),c=this.svgFactory.create(a,l,!0),u=this.#e=this.svgFactory.createElement("svg:g");c.append(u),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke-linecap","round"),u.setAttribute("stroke-linejoin","round"),u.setAttribute("stroke-miterlimit",10),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),u.setAttribute("transform",o);for(let d=0,h=r.length;d<h;d++){const f=this.svgFactory.createElement(this.svgElementName);this.#t.push(f),f.setAttribute("points",r[d].join(",")),u.append(f)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(c),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:r,rect:i}=e,s=this.#e;if(t>=0&&s.setAttribute("stroke-width",t||1),r)for(let o=0,a=this.#t.length;o<a;o++)this.#t[o].setAttribute("points",r[o].join(","));if(i){const{transform:o,width:a,height:l}=this.#n(this.data.rotation,i);s.parentElement.setAttribute("viewBox",`0 0 ${a} ${l}`),s.setAttribute("transform",o)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class XA extends er{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ot.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class Bq extends er{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class zq extends er{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class Uq extends er{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class ZA extends er{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ot.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class Hq extends er{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let r;t.hasAppearance||t.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),r.addEventListener("dblclick",this.#t.bind(this)),this.#e=r;const{isMac:i}=mr.platform;return e.addEventListener("keydown",s=>{s.key==="Enter"&&(i?s.metaKey:s.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class gh{#e=null;#t=null;#n=new Map;#r=null;constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:o,structTreeLayer:a}){this.div=e,this.#e=t,this.#t=r,this.#r=a||null,this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return this.#n.size>0}async#s(e,t,r){const i=e.firstChild||e,s=i.id=`${Zm}${t}`,o=await this.#r?.getAriaAttributes(s);if(o)for(const[a,l]of o)i.setAttribute(a,l);r?r.at(-1).container.after(e):(this.div.append(e),this.#e?.moveElementInDOM(this.div,e,i,!1))}async render(e){const{annotations:t}=e,r=this.div;po(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Rc,annotationStorage:e.annotationStorage||new tb,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const a=o.annotationType===Qn.POPUP;if(a){const u=i.get(o.id);if(!u)continue;s.elements=u}else if(o.rect[2]===o.rect[0]||o.rect[3]===o.rect[1])continue;s.data=o;const l=WA.create(s);if(!l.isRenderable)continue;if(!a&&o.popupRef){const u=i.get(o.popupRef);u?u.push(l):i.set(o.popupRef,[l])}const c=l.render();o.hidden&&(c.style.visibility="hidden"),await this.#s(c,o.id,s.elements),l._isEditable&&(this.#n.set(l.data.id,l),this._annotationEditorUIManager?.renderAnnotationElement(l))}this.#i()}async addLinkAnnotations(e,t){const r={data:null,layer:this.div,linkService:t,svgFactory:new Rc,parent:this};for(const i of e){i.borderStyle||=gh._defaultBorderStyle,r.data=i;const s=WA.create(r);if(!s.isRenderable)continue;const o=s.render();await this.#s(o,i.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,po(t,{rotation:e.rotation}),this.#i(),t.hidden=!1}#i(){if(!this.#t)return;const e=this.div;for(const[t,r]of this.#t){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r);const o=this.#n.get(t);o&&(o._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(t,i.id,r),o._hasNoCanvas=!1):o.canvas=r)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}static get _defaultBorderStyle(){return $t(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:nl.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const mh=/\r\n?|\n/g;class hr extends Et{#e;#t="";#n=`${this.id}-editor`;#r=null;#s;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=hr.prototype,t=s=>s.isEmpty(),r=Hs.TRANSLATE_SMALL,i=Hs.TRANSLATE_BIG;return $t(this,"_keyboardManager",new Ec([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}]]))}static _type="freetext";static _editorType=Ot.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.#e=e.color||hr._defaultColor||Et._defaultLineColor,this.#s=e.fontSize||hr._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(e,t){Et.initialize(e,t);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case ln.FREETEXT_SIZE:hr._defaultFontSize=t;break;case ln.FREETEXT_COLOR:hr._defaultColor=t;break}}updateParams(e,t){switch(e){case ln.FREETEXT_SIZE:this.#i(t);break;case ln.FREETEXT_COLOR:this.#o(t);break}}static get defaultPropertiesToUpdate(){return[[ln.FREETEXT_SIZE,hr._defaultFontSize],[ln.FREETEXT_COLOR,hr._defaultColor||Et._defaultLineColor]]}get propertiesToUpdate(){return[[ln.FREETEXT_SIZE,this.#s],[ln.FREETEXT_COLOR,this.#e]]}get toolbarButtons(){return this._colorPicker||=new Ic(this),[["colorPicker",this._colorPicker]]}get colorType(){return ln.FREETEXT_COLOR}get colorValue(){return this.#e}#i(e){const t=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-this.#s)*this.parentScale),this.#s=i,this.#l()},r=this.#s;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ln.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#o(e){const t=i=>{this.#e=this.editorDiv.style.color=i,this._colorPicker?.update(i)},r=this.#e;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ln.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-hr._internalPadding*e,-(hr._internalPadding+this.#s)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#r=new AbortController;const e=this._uiManager.combinedSignal(this.#r);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#r?.abort(),this.#r=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#a(){const e=[];this.editorDiv.normalize();let t=null;for(const r of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&r.nodeName==="BR"||(e.push(hr.#c(r)),t=r);return e.join(`
`)}#l(){const[e,t]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:i,div:s}=this,o=s.style.display,a=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",i.div.append(this.div),r=s.getBoundingClientRect(),s.remove(),s.style.display=o,s.classList.toggle("hidden",a)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/t):(this.width=r.height/e,this.height=r.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#t,t=this.#t=this.#a().trimEnd();if(e===t)return;const r=i=>{if(this.#t=i,!i){this.remove();return}this.#d(),this._uiManager.rebuild(this),this.#l()};this.addCommands({cmd:()=>{r(t)},undo:()=>{r(e)},mustExec:!1}),this.#l()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){hr._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${this.#s}px * var(--total-scale-factor))`,r.color=this.#e,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,s]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[a,l]=this.getInitialTranslation();[a,l]=this.pageTranslationToScreen(a,l);const[c,u]=this.pageDimensions,[d,h]=this.pageTranslation;let f,g;switch(this.rotation){case 0:f=e+(o[0]-d)/c,g=t+this.height-(o[1]-h)/u;break;case 90:f=e+(o[0]-d)/c,g=t-(o[1]-h)/u,[a,l]=[l,-a];break;case 180:f=e-this.width+(o[0]-d)/c,g=t-(o[1]-h)/u,[a,l]=[-a,-l];break;case 270:f=e+(o[0]-d-this.height*u)/c,g=t+(o[1]-h-this.width*c)/u,[a,l]=[-l,a];break}this.setAt(f*i,g*s,a,l)}else this._moveAfterPaste(e,t);this.#d(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(mh,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:r}=t;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const i=hr.#p(t.getData("text")||"").replaceAll(mh,`
`);if(!i)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const o=s.getRangeAt(0);if(!i.includes(`
`)){o.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:a,startOffset:l}=o,c=[],u=[];if(a.nodeType===Node.TEXT_NODE){const f=a.parentElement;if(u.push(a.nodeValue.slice(l).replaceAll(mh,"")),f!==this.editorDiv){let g=c;for(const m of this.editorDiv.childNodes){if(m===f){g=u;continue}g.push(hr.#c(m))}}c.push(a.nodeValue.slice(0,l).replaceAll(mh,""))}else if(a===this.editorDiv){let f=c,g=0;for(const m of this.editorDiv.childNodes)g++===l&&(f=u),f.push(hr.#c(m))}this.#t=`${c.join(`
`)}${i}${u.join(`
`)}`,this.#d();const d=new Range;let h=Math.sumPrecise(c.map(f=>f.length));for(const{firstChild:f}of this.editorDiv.childNodes)if(f.nodeType===Node.TEXT_NODE){const g=f.nodeValue.length;if(h<=g){d.setStart(f,h),d.setEnd(f,h);break}h-=g}s.removeAllRanges(),s.addRange(d)}#d(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const e of this.#t.split(`
`)){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#u(){return this.#t.replaceAll(""," ")}static#p(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}static async deserialize(e,t,r){let i=null;if(e instanceof $A){const{data:{defaultAppearanceData:{fontSize:o,fontColor:a},rect:l,rotation:c,id:u,popupRef:d,contentsObj:h},textContent:f,textPosition:g,parent:{page:{pageNumber:m}}}=e;if(!f||f.length===0)return null;i=e={annotationType:Ot.FREETEXT,color:Array.from(a),fontSize:o,value:f.join(`
`),position:g,pageIndex:m-1,rect:l.slice(0),rotation:c,annotationElementId:u,id:u,deleted:!1,popupRef:d,comment:h?.str||null}}const s=await super.deserialize(e,t,r);return s.#s=e.fontSize,s.#e=vt.makeHexColor(...e.color),s.#t=hr.#p(e.value),s._initialData=i,e.comment&&s.setCommentData(e.comment),s}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=hr._internalPadding*this.parentScale,r=this.getRect(t,t),i=Et._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#e),s={annotationType:Ot.FREETEXT,color:i,fontSize:this.#s,value:this.#u(),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(s),e?(s.isCopy=!0,s):this.annotationElementId&&!this.#g(s)?null:(s.id=this.annotationElementId,s)}#g(e){const{value:t,fontSize:r,color:i,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==t||e.fontSize!==r||e.color.some((o,a)=>o!==i[a])||e.pageIndex!==s}renderAnnotationElement(e){const t=super.renderAnnotationElement(e),{style:r}=t;r.fontSize=`calc(${this.#s}px * var(--total-scale-factor))`,r.color=this.#e,t.replaceChildren();for(const o of this.#t.split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),t.append(a)}const i=hr._internalPadding*this.parentScale,s={rect:this.getRect(i,i)};return s.popup=this.hasEditedComment?this.comment:{text:this.#t},e.updateEdited(s),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class rt{static PRECISION=1e-4;toSVGPath(){En("Abstract method `toSVGPath` must be implemented.")}get box(){En("Abstract getter `box` must be implemented.")}serialize(e,t){En("Abstract method `serialize` must be implemented.")}static _rescale(e,t,r,i,s,o){o||=new Float32Array(e.length);for(let a=0,l=e.length;a<l;a+=2)o[a]=t+e[a]*i,o[a+1]=r+e[a+1]*s;return o}static _rescaleAndSwap(e,t,r,i,s,o){o||=new Float32Array(e.length);for(let a=0,l=e.length;a<l;a+=2)o[a]=t+e[a+1]*i,o[a+1]=r+e[a]*s;return o}static _translate(e,t,r,i){i||=new Float32Array(e.length);for(let s=0,o=e.length;s<o;s+=2)i[s]=t+e[s],i[s+1]=r+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,r,i,s){switch(s){case 90:return[1-t/r,e/i];case 180:return[1-e/r,1-t/i];case 270:return[t/r,1-e/i];default:return[e/r,t/i]}}static _normalizePagePoint(e,t,r){switch(r){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,r,i,s,o){return[(e+5*r)/6,(t+5*i)/6,(5*r+s)/6,(5*i+o)/6,(r+s)/2,(i+o)/2]}}class Jo{#e;#t=[];#n;#r;#s=[];#i=new Float32Array(18);#o;#a;#l;#c;#d;#u;#p=[];static#g=8;static#f=2;static#h=Jo.#g+Jo.#f;constructor({x:e,y:t},r,i,s,o,a=0){this.#e=r,this.#u=s*i,this.#r=o,this.#i.set([NaN,NaN,NaN,NaN,e,t],6),this.#n=a,this.#c=Jo.#g*i,this.#l=Jo.#h*i,this.#d=i,this.#p.push(e,t)}isEmpty(){return isNaN(this.#i[8])}#m(){const e=this.#i.subarray(4,6),t=this.#i.subarray(16,18),[r,i,s,o]=this.#e;return[(this.#o+(e[0]-t[0])/2-r)/s,(this.#a+(e[1]-t[1])/2-i)/o,(this.#o+(t[0]-e[0])/2-r)/s,(this.#a+(t[1]-e[1])/2-i)/o]}add({x:e,y:t}){this.#o=e,this.#a=t;const[r,i,s,o]=this.#e;let[a,l,c,u]=this.#i.subarray(8,12);const d=e-c,h=t-u,f=Math.hypot(d,h);if(f<this.#l)return!1;const g=f-this.#c,m=g/f,y=m*d,v=m*h;let A=a,E=l;a=c,l=u,c+=y,u+=v,this.#p?.push(e,t);const S=-v/g,C=y/g,x=S*this.#u,N=C*this.#u;return this.#i.set(this.#i.subarray(2,8),0),this.#i.set([c+x,u+N],4),this.#i.set(this.#i.subarray(14,18),12),this.#i.set([c-x,u-N],16),isNaN(this.#i[6])?(this.#s.length===0&&(this.#i.set([a+x,l+N],2),this.#s.push(NaN,NaN,NaN,NaN,(a+x-r)/s,(l+N-i)/o),this.#i.set([a-x,l-N],14),this.#t.push(NaN,NaN,NaN,NaN,(a-x-r)/s,(l-N-i)/o)),this.#i.set([A,E,a,l,c,u],6),!this.isEmpty()):(this.#i.set([A,E,a,l,c,u],6),Math.abs(Math.atan2(E-l,A-a)-Math.atan2(v,y))<Math.PI/2?([a,l,c,u]=this.#i.subarray(2,6),this.#s.push(NaN,NaN,NaN,NaN,((a+c)/2-r)/s,((l+u)/2-i)/o),[a,l,A,E]=this.#i.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((A+a)/2-r)/s,((E+l)/2-i)/o),!0):([A,E,a,l,c,u]=this.#i.subarray(0,6),this.#s.push(((A+5*a)/6-r)/s,((E+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+u)/6-i)/o,((a+c)/2-r)/s,((l+u)/2-i)/o),[c,u,a,l,A,E]=this.#i.subarray(12,18),this.#t.push(((A+5*a)/6-r)/s,((E+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+u)/6-i)/o,((a+c)/2-r)/s,((l+u)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#s,t=this.#t;if(isNaN(this.#i[6])&&!this.isEmpty())return this.#y();const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);this.#w(r);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?r.push(`L${t[i+4]} ${t[i+5]}`):r.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return this.#b(r),r.join(" ")}#y(){const[e,t,r,i]=this.#e,[s,o,a,l]=this.#m();return`M${(this.#i[2]-e)/r} ${(this.#i[3]-t)/i} L${(this.#i[4]-e)/r} ${(this.#i[5]-t)/i} L${s} ${o} L${a} ${l} L${(this.#i[16]-e)/r} ${(this.#i[17]-t)/i} L${(this.#i[14]-e)/r} ${(this.#i[15]-t)/i} Z`}#b(e){const t=this.#t;e.push(`L${t[4]} ${t[5]} Z`)}#w(e){const[t,r,i,s]=this.#e,o=this.#i.subarray(4,6),a=this.#i.subarray(16,18),[l,c,u,d]=this.#m();e.push(`L${(o[0]-t)/i} ${(o[1]-r)/s} L${l} ${c} L${u} ${d} L${(a[0]-t)/i} ${(a[1]-r)/s}`)}newFreeDrawOutline(e,t,r,i,s,o){return new QA(e,t,r,i,s,o)}getOutlines(){const e=this.#s,t=this.#t,r=this.#i,[i,s,o,a]=this.#e,l=new Float32Array((this.#p?.length??0)+2);for(let d=0,h=l.length-2;d<h;d+=2)l[d]=(this.#p[d]-i)/o,l[d+1]=(this.#p[d+1]-s)/a;if(l[l.length-2]=(this.#o-i)/o,l[l.length-1]=(this.#a-s)/a,isNaN(r[6])&&!this.isEmpty())return this.#_(l);const c=new Float32Array(this.#s.length+24+this.#t.length);let u=e.length;for(let d=0;d<u;d+=2){if(isNaN(e[d])){c[d]=c[d+1]=NaN;continue}c[d]=e[d],c[d+1]=e[d+1]}u=this.#E(c,u);for(let d=t.length-6;d>=6;d-=6)for(let h=0;h<6;h+=2){if(isNaN(t[d+h])){c[u]=c[u+1]=NaN,u+=2;continue}c[u]=t[d+h],c[u+1]=t[d+h+1],u+=2}return this.#v(c,u),this.newFreeDrawOutline(c,l,this.#e,this.#d,this.#n,this.#r)}#_(e){const t=this.#i,[r,i,s,o]=this.#e,[a,l,c,u]=this.#m(),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(t[2]-r)/s,(t[3]-i)/o,NaN,NaN,NaN,NaN,(t[4]-r)/s,(t[5]-i)/o,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(t[16]-r)/s,(t[17]-i)/o,NaN,NaN,NaN,NaN,(t[14]-r)/s,(t[15]-i)/o],0),this.newFreeDrawOutline(d,e,this.#e,this.#d,this.#n,this.#r)}#v(e,t){const r=this.#t;return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6}#E(e,t){const r=this.#i.subarray(4,6),i=this.#i.subarray(16,18),[s,o,a,l]=this.#e,[c,u,d,h]=this.#m();return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/a,(r[1]-o)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,(i[0]-s)/a,(i[1]-o)/l],t),t+=24}}class QA extends rt{#e;#t=new Float32Array(4);#n;#r;#s;#i;#o;constructor(e,t,r,i,s,o){super(),this.#o=e,this.#s=t,this.#e=r,this.#i=i,this.#n=s,this.#r=o,this.lastPoint=[NaN,NaN],this.#a(o);const[a,l,c,u]=this.#t;for(let d=0,h=e.length;d<h;d+=2)e[d]=(e[d]-a)/c,e[d+1]=(e[d+1]-l)/u;for(let d=0,h=t.length;d<h;d+=2)t[d]=(t[d]-a)/c,t[d+1]=(t[d+1]-l)/u}toSVGPath(){const e=[`M${this.#o[4]} ${this.#o[5]}`];for(let t=6,r=this.#o.length;t<r;t+=6){if(isNaN(this.#o[t])){e.push(`L${this.#o[t+4]} ${this.#o[t+5]}`);continue}e.push(`C${this.#o[t]} ${this.#o[t+1]} ${this.#o[t+2]} ${this.#o[t+3]} ${this.#o[t+4]} ${this.#o[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,r,i],s){const o=r-e,a=i-t;let l,c;switch(s){case 0:l=rt._rescale(this.#o,e,i,o,-a),c=rt._rescale(this.#s,e,i,o,-a);break;case 90:l=rt._rescaleAndSwap(this.#o,e,t,o,a),c=rt._rescaleAndSwap(this.#s,e,t,o,a);break;case 180:l=rt._rescale(this.#o,r,t,-o,a),c=rt._rescale(this.#s,r,t,-o,a);break;case 270:l=rt._rescaleAndSwap(this.#o,r,i,-o,-a),c=rt._rescaleAndSwap(this.#s,r,i,-o,-a);break}return{outline:Array.from(l),points:[Array.from(c)]}}#a(e){const t=this.#o;let r=t[4],i=t[5];const s=[r,i,r,i];let o=r,a=i;const l=e?Math.max:Math.min;for(let u=6,d=t.length;u<d;u+=6){const h=t[u+4],f=t[u+5];if(isNaN(t[u]))vt.pointBoundingBox(h,f,s),a<f?(o=h,a=f):a===f&&(o=l(o,h));else{const g=[1/0,1/0,-1/0,-1/0];vt.bezierBoundingBox(r,i,...t.slice(u,u+6),g),vt.rectBoundingBox(...g,s),a<g[3]?(o=g[2],a=g[3]):a===g[3]&&(o=l(o,g[2]))}r=h,i=f}const c=this.#t;c[0]=s[0]-this.#n,c[1]=s[1]-this.#n,c[2]=s[2]-s[0]+2*this.#n,c[3]=s[3]-s[1]+2*this.#n,this.lastPoint=[o,a]}get box(){return this.#t}newOutliner(e,t,r,i,s,o=0){return new Jo(e,t,r,i,s,o)}getNewOutline(e,t){const[r,i,s,o]=this.#t,[a,l,c,u]=this.#e,d=s*c,h=o*u,f=r*c+a,g=i*u+l,m=this.newOutliner({x:this.#s[0]*d+f,y:this.#s[1]*h+g},this.#e,this.#i,e,this.#r,t??this.#n);for(let y=2;y<this.#s.length;y+=2)m.add({x:this.#s[y]*d+f,y:this.#s[y+1]*h+g});return m.getOutlines()}}class bb{#e;#t;#n=[];#r=[];constructor(e,t=0,r=0,i=!0){const s=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:f,y:g,width:m,height:y}of e){const v=Math.floor((f-t)/o)*o,A=Math.ceil((f+m+t)/o)*o,E=Math.floor((g-t)/o)*o,S=Math.ceil((g+y+t)/o)*o,C=[v,E,S,!0],x=[A,E,S,!1];this.#n.push(C,x),vt.rectBoundingBox(v,E,A,S,s)}const a=s[2]-s[0]+2*r,l=s[3]-s[1]+2*r,c=s[0]-r,u=s[1]-r,d=this.#n.at(i?-1:-2),h=[d[0],d[2]];for(const f of this.#n){const[g,m,y]=f;f[0]=(g-c)/a,f[1]=(m-u)/l,f[2]=(y-u)/l}this.#e=new Float32Array([c,u,a,l]),this.#t=h}getOutlines(){this.#n.sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of this.#n)t[3]?(e.push(...this.#l(t)),this.#o(t)):(this.#a(t),e.push(...this.#l(t)));return this.#s(e)}#s(e){const t=[],r=new Set;for(const o of e){const[a,l,c]=o;t.push([a,l,o],[a,c,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],c=t[o+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const i=[];let s;for(;r.size>0;){const o=r.values().next().value;let[a,l,c,u,d]=o;r.delete(o);let h=a,f=l;for(s=[a,c],i.push(s);;){let g;if(r.has(u))g=u;else if(r.has(d))g=d;else break;r.delete(g),[a,l,c,u,d]=g,h!==a&&(s.push(h,f,a,f===l?l:c),h=a),f=f===l?c:l}s.push(h,f)}return new Gq(i,this.#e,this.#t)}#i(e){const t=this.#r;let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,o=t[s][0];if(o===e)return s;o<e?r=s+1:i=s-1}return i+1}#o([,e,t]){const r=this.#i(e);this.#r.splice(r,0,[e,t])}#a([,e,t]){const r=this.#i(e);for(let i=r;i<this.#r.length;i++){const[s,o]=this.#r[i];if(s!==e)break;if(s===e&&o===t){this.#r.splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,o]=this.#r[i];if(s!==e)break;if(s===e&&o===t){this.#r.splice(i,1);return}}}#l(e){const[t,r,i]=e,s=[[t,r,i]],o=this.#i(i);for(let a=0;a<o;a++){const[l,c]=this.#r[a];for(let u=0,d=s.length;u<d;u++){const[,h,f]=s[u];if(!(c<=h||f<=l)){if(h>=l){if(f>c)s[u][1]=c;else{if(d===1)return[];s.splice(u,1),u--,d--}continue}s[u][2]=l,f>c&&s.push([t,c,f])}}}return s}}class Gq extends rt{#e;#t;constructor(e,t,r){super(),this.#t=e,this.#e=t,this.lastPoint=r}toSVGPath(){const e=[];for(const t of this.#t){let[r,i]=t;e.push(`M${r} ${i}`);for(let s=2;s<t.length;s+=2){const o=t[s],a=t[s+1];o===r?(e.push(`V${a}`),i=a):a===i&&(e.push(`H${o}`),r=o)}e.push("Z")}return e.join(" ")}serialize([e,t,r,i],s){const o=[],a=r-e,l=i-t;for(const c of this.#t){const u=new Array(c.length);for(let d=0;d<c.length;d+=2)u[d]=e+c[d]*a,u[d+1]=i-c[d+1]*l;o.push(u)}return o}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class vb extends Jo{newFreeDrawOutline(e,t,r,i,s,o){return new Vq(e,t,r,i,s,o)}}class Vq extends QA{newOutliner(e,t,r,i,s,o=0){return new vb(e,t,r,i,s,o)}}class tr extends Et{#e=null;#t=0;#n;#r=null;#s=null;#i=null;#o=null;#a=0;#l=null;#c=null;#d=null;#u=!1;#p=null;#g;#f=null;#h="";#m;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Ot.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=tr.prototype;return $t(this,"_keyboardManager",new Ec([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||tr._defaultColor,this.#m=e.thickness||tr._defaultThickness,this.#g=e.opacity||tr._defaultOpacity,this.#n=e.boxes||null,this.#y=e.methodOfCreation||"",this.#h=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#u=!0,this.#w(e),this.#A()):this.#n&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#o=e.focusNode,this.#a=e.focusOffset,this.#b(),this.#A(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#u?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#m,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}get commentColor(){return this.color}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#b(){const e=new bb(this.#n,.001);this.#c=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#c.box;const t=new bb(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#i=t.getOutlines();const{lastPoint:r}=this.#i;this.#p=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]}#w({highlightOutlines:e,highlightId:t,clipPathId:r}){this.#c=e;const i=1.5;if(this.#i=e.getNewOutline(this.#m/2+i,.0025),t>=0)this.#d=t,this.#r=r,this.parent.drawLayer.finalizeDraw(t,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#f=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#i.box,path:{d:this.#i.toSVGPath()}},!0);else if(this.parent){const u=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:tr.#I(this.#c.box,(u-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#f,{bbox:tr.#I(this.#i.box,u),path:{d:this.#i.toSVGPath()}})}const[s,o,a,l]=e.box;switch(this.rotation){case 0:this.x=s,this.y=o,this.width=a,this.height=l;break;case 90:{const[u,d]=this.parentDimensions;this.x=o,this.y=1-s,this.width=a*d/u,this.height=l*u/d;break}case 180:this.x=1-s,this.y=1-o,this.width=a,this.height=l;break;case 270:{const[u,d]=this.parentDimensions;this.x=1-o,this.y=s,this.width=a*d/u,this.height=l*u/d;break}}const{lastPoint:c}=this.#i;this.#p=[(c[0]-s)/a,(c[1]-o)/l]}static initialize(e,t){Et.initialize(e,t),tr._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case ln.HIGHLIGHT_COLOR:tr._defaultColor=t;break;case ln.HIGHLIGHT_THICKNESS:tr._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#p}updateParams(e,t){switch(e){case ln.HIGHLIGHT_COLOR:this.#_(t);break;case ln.HIGHLIGHT_THICKNESS:this.#v(t);break}}static get defaultPropertiesToUpdate(){return[[ln.HIGHLIGHT_COLOR,tr._defaultColor],[ln.HIGHLIGHT_THICKNESS,tr._defaultThickness]]}get propertiesToUpdate(){return[[ln.HIGHLIGHT_COLOR,this.color||tr._defaultColor],[ln.HIGHLIGHT_THICKNESS,this.#m||tr._defaultThickness],[ln.HIGHLIGHT_FREE,this.#u]]}#_(e){const t=(s,o)=>{this.color=s,this.#g=o,this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:s,"fill-opacity":o}}),this.#s?.updateColor(s)},r=this.color,i=this.#g;this.addCommands({cmd:t.bind(this,e,tr._defaultOpacity),undo:t.bind(this,r,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ln.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#v(e){const t=this.#m,r=i=>{this.#m=i,this.#E(i)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ln.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#s=new xi({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#C())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#C())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#k(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#A(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#k():e&&(this.#A(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#E(e){if(!this.#u)return;this.#w({highlightOutlines:this.#c.getNewOutline(e/2)}),this.fixAndSetPosition();const[t,r]=this.parentDimensions;this.setDims(this.width*t,this.height*r)}#k(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#f),this.#f=null)}#A(e=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#r}=e.drawLayer.draw({bbox:this.#c.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#g},rootClass:{highlight:!0,free:this.#u},path:{d:this.#c.toSVGPath()}},!1,!0),this.#f=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#u},bbox:this.#i.box,path:{d:this.#i.toSVGPath()}},this.#u),this.#l&&(this.#l.style.clipPath=this.#r))}static#I([e,t,r,i],s){switch(s){case 90:return[1-t-i,e,i,r];case 180:return[1-e-r,1-t-i,r,i];case 270:return[t,1-e-r,i,r]}return[e,t,r,i]}rotate(e){const{drawLayer:t}=this.parent;let r;this.#u?(e=(e-this.rotation+360)%360,r=tr.#I(this.#c.box,e)):r=tr.#I([this.x,this.y,this.width,this.height],e),t.updateProperties(this.#d,{bbox:r,root:{"data-main-rotation":e}}),t.updateProperties(this.#f,{bbox:tr.#I(this.#i.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#h&&(e.setAttribute("aria-label",this.#h),e.setAttribute("role","mark")),this.#u?e.classList.add("free"):this.div.addEventListener("keydown",this.#N.bind(this),{signal:this._uiManager._signal});const t=this.#l=document.createElement("div");e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#r;const[r,i]=this.parentDimensions;return this.setDims(this.width*r,this.height*i),uA(this,this.#l,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#f,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#f,{rootClass:{hovered:!1}})}#N(e){tr._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#T(!0);break;case 1:case 3:this.#T(!1);break}}#T(e){if(!this.#e)return;const t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#o,this.#a)}select(){super.select(),this.#f&&this.parent?.drawLayer.updateProperties(this.#f,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#f&&(this.parent?.drawLayer.updateProperties(this.#f,{rootClass:{selected:!1}}),this.#u||this.#T(!1))}get _mustFixPosition(){return!this.#u}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#f,{rootClass:{hidden:!e}}))}#C(){return this.#u?this.rotation:0}#R(){if(this.#u)return null;const[e,t]=this.pageDimensions,[r,i]=this.pageTranslation,s=this.#n,o=new Float32Array(s.length*8);let a=0;for(const{x:l,y:c,width:u,height:d}of s){const h=l*e+r,f=(1-c)*t+i;o[a]=o[a+4]=h,o[a+1]=o[a+3]=f,o[a+2]=o[a+6]=h+u*e,o[a+5]=o[a+7]=f-d*t,a+=8}return o}#F(e){return this.#c.serialize(e,this.#C())}static startHighlighting(e,t,{target:r,x:i,y:s}){const{x:o,y:a,width:l,height:c}=r.getBoundingClientRect(),u=new AbortController,d=e.combinedSignal(u),h=f=>{u.abort(),this.#H(e,f)};window.addEventListener("blur",h,{signal:d}),window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("pointerdown",Jn,{capture:!0,passive:!1,signal:d}),window.addEventListener("contextmenu",wi,{signal:d}),r.addEventListener("pointermove",this.#O.bind(this,e),{signal:d}),this._freeHighlight=new vb({x:i,y:s},[o,a,l,c],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#O(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#H(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,t,r){let i=null;if(e instanceof XA){const{data:{quadPoints:g,rect:m,rotation:y,id:v,color:A,opacity:E,popupRef:S,contentsObj:C},parent:{page:{pageNumber:x}}}=e;i=e={annotationType:Ot.HIGHLIGHT,color:Array.from(A),opacity:E,quadPoints:g,boxes:null,pageIndex:x-1,rect:m.slice(0),rotation:y,annotationElementId:v,id:v,deleted:!1,popupRef:S,comment:C?.str||null}}else if(e instanceof mb){const{data:{inkLists:g,rect:m,rotation:y,id:v,color:A,borderStyle:{rawWidth:E},popupRef:S,contentsObj:C},parent:{page:{pageNumber:x}}}=e;i=e={annotationType:Ot.HIGHLIGHT,color:Array.from(A),thickness:E,inkLists:g,boxes:null,pageIndex:x-1,rect:m.slice(0),rotation:y,annotationElementId:v,id:v,deleted:!1,popupRef:S,comment:C?.str||null}}const{color:s,quadPoints:o,inkLists:a,opacity:l}=e,c=await super.deserialize(e,t,r);c.color=vt.makeHexColor(...s),c.#g=l||1,a&&(c.#m=e.thickness),c._initialData=i,e.comment&&c.setCommentData(e.comment);const[u,d]=c.pageDimensions,[h,f]=c.pageTranslation;if(o){const g=c.#n=[];for(let m=0;m<o.length;m+=8)g.push({x:(o[m]-h)/u,y:1-(o[m+1]-f)/d,width:(o[m+2]-o[m])/u,height:(o[m+1]-o[m+5])/d});c.#b(),c.#A(),c.rotate(c.rotation)}else if(a){c.#u=!0;const g=a[0],m={x:g[0]-h,y:d-(g[1]-f)},y=new vb(m,[0,0,u,d],1,c.#m/2,!0,.001);for(let E=0,S=g.length;E<S;E+=2)m.x=g[E]-h,m.y=d-(g[E+1]-f),y.add(m);const{id:v,clipPathId:A}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:c.color,"fill-opacity":c._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:y.toSVGPath()}},!0,!0);c.#w({highlightOutlines:y.getOutlines(),highlightId:v,clipPathId:A}),c.#A(),c.rotate(c.parentRotation)}return c}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=this.getRect(0,0),r=Et._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i={annotationType:Ot.HIGHLIGHT,color:r,opacity:this.#g,thickness:this.#m,quadPoints:this.#R(),outlines:this.#F(t),pageIndex:this.pageIndex,rect:t,rotation:this.#C(),structTreeParentId:this._structTreeParentId};return this.addComment(i),this.annotationElementId&&!this.#S(i)?null:(i.id=this.annotationElementId,i)}#S(e){const{color:t}=this._initialData;return this.hasEditedComment||e.color.some((r,i)=>r!==t[i])}renderAnnotationElement(e){const t={rect:this.getRect(0,0)};return this.hasEditedComment&&(t.popup=this.comment),e.updateEdited(t),null}static canCreateNewEmptyEditor(){return!1}}class JA{#e=Object.create(null);updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,r]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,r)}updateSVGProperty(e,t){this.#e[e]=t}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){En("Not implemented")}}class kt extends Et{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#r=null;static#s=null;static#i=NaN;static#o=null;static#a=null;static#l=NaN;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}_addOutlines(e){e.drawOutlines&&(this.#c(e),this.#p())}#c({drawOutlines:e,drawId:t,drawingOptions:r}){this.#e=e,this._drawingOptions||=r,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),t>=0?(this._drawId=t,this.parent.drawLayer.finalizeDraw(t,e.defaultProperties)):this._drawId=this.#d(e,this.parent),this.#h(e.box)}#d(e,t){const{id:r}=t.drawLayer.draw(kt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return r}static _mergeSVGProperties(e,t){const r=new Set(Object.keys(e));for(const[i,s]of Object.entries(t))r.has(i)?Object.assign(e[i],s):e[i]=s;return e}static getDefaultDrawingOptions(e){En("Not implemented")}static get typesMap(){En("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const r=this.typesMap.get(e);r&&this._defaultDrawingOptions.updateProperty(r,t),this._currentParent&&(kt.#n.updateProperty(r,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const r=this.constructor.typesMap.get(e);r&&this._updateProperty(e,r,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[r,i]of this.typesMap)e.push([r,t[i]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[r,i]of this.constructor.typesMap)e.push([r,t[i]]);return e}_updateProperty(e,t,r){const i=this._drawingOptions,s=i[t],o=a=>{i.updateProperty(t,a);const l=this.#e.updateProperty(t,a);l&&this.#h(l),this.parent?.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),e===this.colorType&&this._colorPicker?.update(a)};this.addCommands({cmd:o.bind(this,r),undo:o.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,kt._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#f()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,kt._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#f()),{bbox:this.#m()}))}_onTranslating(e,t){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,kt._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#f(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#u(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#p(),this.#h(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#u()):e&&(this._uiManager.addShouldRescale(this),this.#p(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),t&&this.select()}#u(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#p(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#d(this.#e,e)}}#g([e,t,r,i]){const{parentDimensions:[s,o],rotation:a}=this;switch(a){case 90:return[t,1-e,r*(o/s),i*(s/o)];case 180:return[1-e,1-t,r,i];case 270:return[1-t,e,r*(o/s),i*(s/o)];default:return[e,t,r,i]}}#f(){const{x:e,y:t,width:r,height:i,parentDimensions:[s,o],rotation:a}=this;switch(a){case 90:return[1-t,e,r*(s/o),i*(o/s)];case 180:return[1-e,1-t,r,i];case 270:return[t,1-e,r*(s/o),i*(o/s)];default:return[e,t,r,i]}}#h(e){if([this.x,this.y,this.width,this.height]=this.#g(e),this.div){this.fixAndSetPosition();const[t,r]=this.parentDimensions;this.setDims(this.width*t,this.height*r)}this._onResized()}#m(){const{x:e,y:t,width:r,height:i,rotation:s,parentRotation:o,parentDimensions:[a,l]}=this;switch((s*4+o)/90){case 1:return[1-t-i,e,i,r];case 2:return[1-e-r,1-t-i,r,i];case 3:return[t,1-e-r,i,r];case 4:return[e,t-r*(a/l),i*(l/a),r*(a/l)];case 5:return[1-t,e,r*(a/l),i*(l/a)];case 6:return[1-e-i*(l/a),1-t,i*(l/a),r*(a/l)];case 7:return[t-r*(a/l),1-e-i*(l/a),r*(a/l),i*(l/a)];case 8:return[e-r,t-i,r,i];case 9:return[1-t,e-r,i,r];case 10:return[1-e,1-t,r,i];case 11:return[t-i,1-e,i,r];case 12:return[e-i*(l/a),t,i*(l/a),r*(a/l)];case 13:return[1-t-r*(a/l),e-i*(l/a),r*(a/l),i*(l/a)];case 14:return[1-e,1-t-r*(a/l),i*(l/a),r*(a/l)];case 15:return[t,1-e,r*(a/l),i*(l/a)];default:return[e,t,r,i]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,kt._mergeSVGProperties({bbox:this.#m()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#h(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const r=super.render();r.classList.add("draw");const i=document.createElement("div");r.append(i),i.setAttribute("aria-hidden","true"),i.className="internal";const[s,o]=this.parentDimensions;return this.setDims(this.width*s,this.height*o),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),r}static createDrawerInstance(e,t,r,i,s){En("Not implemented")}static startDrawing(e,t,r,i){const{target:s,offsetX:o,offsetY:a,pointerId:l,pointerType:c}=i;if(kt.#o&&kt.#o!==c)return;const{viewport:{rotation:u}}=e,{width:d,height:h}=s.getBoundingClientRect(),f=kt.#r=new AbortController,g=e.combinedSignal(f);if(kt.#i||=l,kt.#o??=c,window.addEventListener("pointerup",m=>{kt.#i===m.pointerId?this._endDraw(m):kt.#a?.delete(m.pointerId)},{signal:g}),window.addEventListener("pointercancel",m=>{kt.#i===m.pointerId?this._currentParent.endDrawingSession():kt.#a?.delete(m.pointerId)},{signal:g}),window.addEventListener("pointerdown",m=>{kt.#o===m.pointerType&&((kt.#a||=new Set).add(m.pointerId),kt.#n.isCancellable()&&(kt.#n.removeLastElement(),kt.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",wi,{signal:g}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:g}),s.addEventListener("touchmove",m=>{m.timeStamp===kt.#l&&Jn(m)},{signal:g}),e.toggleDrawing(),t._editorUndoBar?.hide(),kt.#n){e.drawLayer.updateProperties(this._currentDrawId,kt.#n.startNew(o,a,d,h,u));return}t.updateUIForDefaultProperties(this),kt.#n=this.createDrawerInstance(o,a,d,h,u),kt.#s=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(kt.#s.toSVGProperties(),kt.#n.defaultSVGProperties),!0,!1)}static _drawMove(e){if(kt.#l=-1,!kt.#n)return;const{offsetX:t,offsetY:r,pointerId:i}=e;if(kt.#i===i){if(kt.#a?.size>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,kt.#n.add(t,r)),kt.#l=e.timeStamp,Jn(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,kt.#n=null,kt.#s=null,kt.#o=null,kt.#l=NaN),kt.#r&&(kt.#r.abort(),kt.#r=null,kt.#i=NaN,kt.#a=null)}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),e?.target===t.div&&t.drawLayer.updateProperties(this._currentDrawId,kt.#n.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const r=kt.#n,i=this._currentDrawId,s=r.getLastElement();t.addCommands({cmd:()=>{t.drawLayer.updateProperties(i,r.setLastElement(s))},undo:()=>{t.drawLayer.updateProperties(i,r.removeLastElement())},mustExec:!1,type:ln.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(ln.DRAW_STEP),!kt.#n.isEmpty()){const{pageDimensions:[r,i],scale:s}=t,o=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:kt.#n.getOutlines(r*s,i*s,s,this._INNER_MARGIN),drawingOptions:kt.#s,mustBeCommitted:!e});return this._cleanup(!0),o}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,r,i,s,o){En("Not implemented")}static async deserialize(e,t,r){const{rawDims:{pageWidth:i,pageHeight:s,pageX:o,pageY:a}}=t.viewport,l=this.deserializeDraw(o,a,i,s,this._INNER_MARGIN,e),c=await super.deserialize(e,t,r);return c.createDrawingOptions(e),c.#c({drawOutlines:l}),c.#p(),c.onScaleChanging(),c.rotate(),c}serializeDraw(e){const[t,r]=this.pageTranslation,[i,s]=this.pageDimensions;return this.#e.serialize([t,r,i,s],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class jq{#e=new Float64Array(6);#t;#n;#r;#s;#i;#o="";#a=0;#l=new Oc;#c;#d;constructor(e,t,r,i,s,o){this.#c=r,this.#d=i,this.#r=s,this.#s=o,[e,t]=this.#u(e,t);const a=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#i=[e,t],this.#n=[{line:a,points:this.#i}],this.#e.set(a,0)}updateProperty(e,t){e==="stroke-width"&&(this.#s=t)}#u(e,t){return rt._normalizePoint(e,t,this.#c,this.#d,this.#r)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#i.length<=10}add(e,t){[e,t]=this.#u(e,t);const[r,i,s,o]=this.#e.subarray(2,6),a=e-s,l=t-o;return Math.hypot(this.#c*a,this.#d*l)<=2?null:(this.#i.push(e,t),isNaN(r)?(this.#e.set([s,o,e,t],2),this.#t.push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([r,i,s,o,e,t],0),this.#t.push(...rt.createBezierPoints(r,i,s,o,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const r=this.add(e,t);return r||(this.#i.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,r,i,s){this.#c=r,this.#d=i,this.#r=s,[e,t]=this.#u(e,t);const o=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#i=[e,t];const a=this.#n.at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),this.#n.push({line:o,points:this.#i}),this.#e.set(o,0),this.#a=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(e){return this.#n?(this.#n.push(e),this.#t=e.line,this.#i=e.points,this.#a=0,{path:{d:this.toSVGPath()}}):this.#l.setLastElement(e)}removeLastElement(){if(!this.#n)return this.#l.removeLastElement();this.#n.pop(),this.#o="";for(let e=0,t=this.#n.length;e<t;e++){const{line:r,points:i}=this.#n[e];this.#t=r,this.#i=i,this.#a=0,this.toSVGPath()}return{path:{d:this.#o}}}toSVGPath(){const e=rt.svgRound(this.#t[4]),t=rt.svgRound(this.#t[5]);if(this.#i.length===2)return this.#o=`${this.#o} M ${e} ${t} Z`,this.#o;if(this.#i.length<=6){const i=this.#o.lastIndexOf("M");this.#o=`${this.#o.slice(0,i)} M ${e} ${t}`,this.#a=6}if(this.#i.length===4){const i=rt.svgRound(this.#t[10]),s=rt.svgRound(this.#t[11]);return this.#o=`${this.#o} L ${i} ${s}`,this.#a=12,this.#o}const r=[];this.#a===0&&(r.push(`M ${e} ${t}`),this.#a=6);for(let i=this.#a,s=this.#t.length;i<s;i+=6){const[o,a,l,c,u,d]=this.#t.slice(i,i+6).map(rt.svgRound);r.push(`C${o} ${a} ${l} ${c} ${u} ${d}`)}return this.#o+=r.join(" "),this.#a=this.#t.length,this.#o}getOutlines(e,t,r,i){const s=this.#n.at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),this.#l.build(this.#n,e,t,r,this.#r,this.#s,i),this.#e=null,this.#t=null,this.#n=null,this.#o=null,this.#l}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Oc extends rt{#e;#t=0;#n;#r;#s;#i;#o;#a;#l;build(e,t,r,i,s,o,a){this.#s=t,this.#i=r,this.#o=i,this.#a=s,this.#l=o,this.#n=a??0,this.#r=e,this.#u()}get thickness(){return this.#l}setLastElement(e){return this.#r.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#r.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of this.#r){if(e.push(`M${rt.svgRound(t[4])} ${rt.svgRound(t[5])}`),t.length===6){e.push("Z");continue}if(t.length===12&&isNaN(t[6])){e.push(`L${rt.svgRound(t[10])} ${rt.svgRound(t[11])}`);continue}for(let r=6,i=t.length;r<i;r+=6){const[s,o,a,l,c,u]=t.subarray(r,r+6).map(rt.svgRound);e.push(`C${s} ${o} ${a} ${l} ${c} ${u}`)}}return e.join("")}serialize([e,t,r,i],s){const o=[],a=[],[l,c,u,d]=this.#d();let h,f,g,m,y,v,A,E,S;switch(this.#a){case 0:S=rt._rescale,h=e,f=t+i,g=r,m=-i,y=e+l*r,v=t+(1-c-d)*i,A=e+(l+u)*r,E=t+(1-c)*i;break;case 90:S=rt._rescaleAndSwap,h=e,f=t,g=r,m=i,y=e+c*r,v=t+l*i,A=e+(c+d)*r,E=t+(l+u)*i;break;case 180:S=rt._rescale,h=e+r,f=t,g=-r,m=i,y=e+(1-l-u)*r,v=t+c*i,A=e+(1-l)*r,E=t+(c+d)*i;break;case 270:S=rt._rescaleAndSwap,h=e+r,f=t+i,g=-r,m=-i,y=e+(1-c-d)*r,v=t+(1-l-u)*i,A=e+(1-c)*r,E=t+(1-l)*i;break}for(const{line:C,points:x}of this.#r)o.push(S(C,h,f,g,m,s?new Array(C.length):null)),a.push(S(x,h,f,g,m,s?new Array(x.length):null));return{lines:o,points:a,rect:[y,v,A,E]}}static deserialize(e,t,r,i,s,{paths:{lines:o,points:a},rotation:l,thickness:c}){const u=[];let d,h,f,g,m;switch(l){case 0:m=rt._rescale,d=-e/r,h=t/i+1,f=1/r,g=-1/i;break;case 90:m=rt._rescaleAndSwap,d=-t/i,h=-e/r,f=1/i,g=1/r;break;case 180:m=rt._rescale,d=e/r+1,h=-t/i,f=-1/r,g=1/i;break;case 270:m=rt._rescaleAndSwap,d=t/i+1,h=e/r+1,f=-1/i,g=-1/r;break}if(!o){o=[];for(const v of a){const A=v.length;if(A===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,v[0],v[1]]));continue}if(A===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,v[0],v[1],NaN,NaN,NaN,NaN,v[2],v[3]]));continue}const E=new Float32Array(3*(A-2));o.push(E);let[S,C,x,N]=v.subarray(0,4);E.set([NaN,NaN,NaN,NaN,S,C],0);for(let D=4;D<A;D+=2){const V=v[D],O=v[D+1];E.set(rt.createBezierPoints(S,C,x,N,V,O),(D-2)*3),[S,C,x,N]=[x,N,V,O]}}}for(let v=0,A=o.length;v<A;v++)u.push({line:m(o[v].map(E=>E??NaN),d,h,f,g),points:m(a[v].map(E=>E??NaN),d,h,f,g)});const y=new this.prototype.constructor;return y.build(u,r,i,1,l,c,s),y}#c(e=this.#l){const t=this.#n+e/2*this.#o;return this.#a%180===0?[t/this.#s,t/this.#i]:[t/this.#i,t/this.#s]}#d(){const[e,t,r,i]=this.#e,[s,o]=this.#c(0);return[e+s,t+o,r-2*s,i-2*o]}#u(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:i}of this.#r){if(i.length<=12){for(let a=4,l=i.length;a<l;a+=6)vt.pointBoundingBox(i[a],i[a+1],e);continue}let s=i[4],o=i[5];for(let a=6,l=i.length;a<l;a+=6){const[c,u,d,h,f,g]=i.subarray(a,a+6);vt.bezierBoundingBox(s,o,c,u,d,h,f,g,e),s=f,o=g}}const[t,r]=this.#c();e[0]=Rr(e[0]-t,0,1),e[1]=Rr(e[1]-r,0,1),e[2]=Rr(e[2]+t,0,1),e[3]=Rr(e[3]+r,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,t){return e==="stroke-width"?this.#p(t):null}#p(e){const[t,r]=this.#c();this.#l=e;const[i,s]=this.#c(),[o,a]=[i-t,s-r],l=this.#e;return l[0]-=o,l[1]-=a,l[2]+=2*o,l[3]+=2*a,l}updateParentDimensions([e,t],r){const[i,s]=this.#c();this.#s=e,this.#i=t,this.#o=r;const[o,a]=this.#c(),l=o-i,c=a-s,u=this.#e;return u[0]-=l,u[1]-=c,u[2]+=2*l,u[3]+=2*c,u}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(rt.svgRound).join(" ")}get defaultProperties(){const[e,t]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${rt.svgRound(e)} ${rt.svgRound(t)}`}}}get rotationTransform(){const[,,e,t]=this.#e;let r=0,i=0,s=0,o=0,a=0,l=0;switch(this.#t){case 90:i=t/e,s=-e/t,a=e;break;case 180:r=-1,o=-1,a=e,l=t;break;case 270:i=-t/e,s=e/t,l=t;break;default:return""}return`matrix(${r} ${i} ${s} ${o} ${rt.svgRound(a)} ${rt.svgRound(l)})`}getPathResizingSVGProperties([e,t,r,i]){const[s,o]=this.#c(),[a,l,c,u]=this.#e;if(Math.abs(c-s)<=rt.PRECISION||Math.abs(u-o)<=rt.PRECISION){const m=e+r/2-(a+c/2),y=t+i/2-(l+u/2);return{path:{"transform-origin":`${rt.svgRound(e)} ${rt.svgRound(t)}`,transform:`${this.rotationTransform} translate(${m} ${y})`}}}const d=(r-2*s)/(c-2*s),h=(i-2*o)/(u-2*o),f=c/r,g=u/i;return{path:{"transform-origin":`${rt.svgRound(a)} ${rt.svgRound(l)}`,transform:`${this.rotationTransform} scale(${f} ${g}) translate(${rt.svgRound(s)} ${rt.svgRound(o)}) scale(${d} ${h}) translate(${rt.svgRound(-s)} ${rt.svgRound(-o)})`}}}getPathResizedSVGProperties([e,t,r,i]){const[s,o]=this.#c(),a=this.#e,[l,c,u,d]=a;if(a[0]=e,a[1]=t,a[2]=r,a[3]=i,Math.abs(u-s)<=rt.PRECISION||Math.abs(d-o)<=rt.PRECISION){const y=e+r/2-(l+u/2),v=t+i/2-(c+d/2);for(const{line:A,points:E}of this.#r)rt._translate(A,y,v,A),rt._translate(E,y,v,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${rt.svgRound(e)} ${rt.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const h=(r-2*s)/(u-2*s),f=(i-2*o)/(d-2*o),g=-h*(l+s)+e+s,m=-f*(c+o)+t+o;if(h!==1||f!==1||g!==0||m!==0)for(const{line:y,points:v}of this.#r)rt._rescale(y,g,m,h,f,y),rt._rescale(v,g,m,h,f,v);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${rt.svgRound(e)} ${rt.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,t],r){const[i,s]=r,o=this.#e,a=e-o[0],l=t-o[1];if(this.#s===i&&this.#i===s)for(const{line:c,points:u}of this.#r)rt._translate(c,a,l,c),rt._translate(u,a,l,u);else{const c=this.#s/i,u=this.#i/s;this.#s=i,this.#i=s;for(const{line:d,points:h}of this.#r)rt._rescale(d,a,l,c,u,d),rt._rescale(h,a,l,c,u,h);o[2]*=c,o[3]*=u}return o[0]=e,o[1]=t,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${rt.svgRound(e)} ${rt.svgRound(t)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${rt.svgRound(e[0])} ${rt.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class bh extends JA{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Et._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??=this["stroke-width"],t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new bh(this._viewParameters);return e.updateAll(this),e}}class yb extends kt{static _type="ink";static _editorType=Ot.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){Et.initialize(e,t),this._defaultDrawingOptions=new bh(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return $t(this,"typesMap",new Map([[ln.INK_THICKNESS,"stroke-width"],[ln.INK_COLOR,"stroke"],[ln.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,r,i,s){return new jq(e,t,r,i,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,r,i,s,o){return Oc.deserialize(e,t,r,i,s,o)}static async deserialize(e,t,r){let i=null;if(e instanceof mb){const{data:{inkLists:o,rect:a,rotation:l,id:c,color:u,opacity:d,borderStyle:{rawWidth:h},popupRef:f,contentsObj:g},parent:{page:{pageNumber:m}}}=e;i=e={annotationType:Ot.INK,color:Array.from(u),thickness:h,opacity:d,paths:{points:o},boxes:null,pageIndex:m-1,rect:a.slice(0),rotation:l,annotationElementId:c,id:c,deleted:!1,popupRef:f,comment:g?.str||null}}const s=await super.deserialize(e,t,r);return s._initialData=i,e.comment&&s.setCommentData(e.comment),s}get toolbarButtons(){return this._colorPicker||=new Ic(this),[["colorPicker",this._colorPicker]]}get colorType(){return ln.INK_COLOR}get colorValue(){return this._drawingOptions.stroke}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:r}=this;t.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:t,opacity:r}){this._drawingOptions=yb.getDefaultDrawingOptions({stroke:vt.makeHexColor(...e),"stroke-width":t,"stroke-opacity":r})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:r,rect:i}=this.serializeDraw(e),{_drawingOptions:{stroke:s,"stroke-opacity":o,"stroke-width":a}}=this,l={annotationType:Ot.INK,color:Et._colorManager.convert(s),opacity:o,thickness:a,paths:{lines:t,points:r},pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(l),e?(l.isCopy=!0,l):this.annotationElementId&&!this.#e(l)?null:(l.id=this.annotationElementId,l)}#e(e){const{color:t,thickness:r,opacity:i,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((o,a)=>o!==t[a])||e.thickness!==r||e.opacity!==i||e.pageIndex!==s}renderAnnotationElement(e){const{points:t,rect:r}=this.serializeDraw(!1),i={rect:r,thickness:this._drawingOptions["stroke-width"],points:t};return this.hasEditedComment&&(i.popup=this.comment),e.updateEdited(i),null}}class wb extends Oc{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const vh=8,Mc=3;class ea{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,t,r,i){return r-=e,i-=t,r===0?i>0?0:4:r===1?i+6:2-i}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#r(e,t,r,i,s,o,a){const l=this.#t(r,i,s,o);for(let c=0;c<8;c++){const u=(-c+l-a+16)%8,d=this.#n[2*u],h=this.#n[2*u+1];if(e[(r+d)*t+(i+h)]!==0)return u}return-1}static#s(e,t,r,i,s,o,a){const l=this.#t(r,i,s,o);for(let c=0;c<8;c++){const u=(c+l+a+16)%8,d=this.#n[2*u],h=this.#n[2*u+1];if(e[(r+d)*t+(i+h)]!==0)return u}return-1}static#i(e,t,r,i){const s=e.length,o=new Int32Array(s);for(let u=0;u<s;u++)o[u]=e[u]<=i?1:0;for(let u=1;u<r-1;u++)o[u*t]=o[u*t+t-1]=0;for(let u=0;u<t;u++)o[u]=o[t*r-1-u]=0;let a=1,l;const c=[];for(let u=1;u<r-1;u++){l=1;for(let d=1;d<t-1;d++){const h=u*t+d,f=o[h];if(f===0)continue;let g=u,m=d;if(f===1&&o[h-1]===0)a+=1,m-=1;else if(f>=1&&o[h+1]===0)a+=1,m+=1,f>1&&(l=f);else{f!==1&&(l=Math.abs(f));continue}const y=[d,u],v=m===d+1,A={isHole:v,points:y,id:a,parent:0};c.push(A);let E;for(const K of c)if(K.id===l){E=K;break}E?E.isHole?A.parent=v?E.parent:l:A.parent=v?l:E.parent:A.parent=v?l:0;const S=this.#r(o,t,u,d,g,m,0);if(S===-1){o[h]=-a,o[h]!==1&&(l=Math.abs(o[h]));continue}let C=this.#n[2*S],x=this.#n[2*S+1];const N=u+C,D=d+x;g=N,m=D;let V=u,O=d;for(;;){const K=this.#s(o,t,V,O,g,m,1);C=this.#n[2*K],x=this.#n[2*K+1];const B=V+C,U=O+x;y.push(U,B);const L=V*t+O;if(o[L+1]===0?o[L]=-a:o[L]===1&&(o[L]=a),B===u&&U===d&&V===N&&O===D){o[h]!==1&&(l=Math.abs(o[h]));break}else g=V,m=O,V=B,O=U}}}return c}static#o(e,t,r,i){if(r-t<=4){for(let N=t;N<r-2;N+=2)i.push(e[N],e[N+1]);return}const s=e[t],o=e[t+1],a=e[r-4]-s,l=e[r-3]-o,c=Math.hypot(a,l),u=a/c,d=l/c,h=u*o-d*s,f=l/a,g=1/c,m=Math.atan(f),y=Math.cos(m),v=Math.sin(m),A=g*(Math.abs(y)+Math.abs(v)),E=g*(1-A+A**2),S=Math.max(Math.atan(Math.abs(v+y)*E),Math.atan(Math.abs(v-y)*E));let C=0,x=t;for(let N=t+2;N<r-2;N+=2){const D=Math.abs(h-u*e[N+1]+d*e[N]);D>C&&(x=N,C=D)}C>(c*S)**2?(this.#o(e,t,x+2,i),this.#o(e,x,r,i)):i.push(s,o)}static#a(e){const t=[],r=e.length;return this.#o(e,0,r,t),t.push(e[r-2],e[r-1]),t.length<=4?null:t}static#l(e,t,r,i,s,o){const a=new Float32Array(o**2),l=-2*i**2,c=o>>1;for(let m=0;m<o;m++){const y=(m-c)**2;for(let v=0;v<o;v++)a[m*o+v]=Math.exp((y+(v-c)**2)/l)}const u=new Float32Array(256),d=-2*s**2;for(let m=0;m<256;m++)u[m]=Math.exp(m**2/d);const h=e.length,f=new Uint8Array(h),g=new Uint32Array(256);for(let m=0;m<r;m++)for(let y=0;y<t;y++){const v=m*t+y,A=e[v];let E=0,S=0;for(let x=0;x<o;x++){const N=m+x-c;if(!(N<0||N>=r))for(let D=0;D<o;D++){const V=y+D-c;if(V<0||V>=t)continue;const O=e[N*t+V],K=a[x*o+D]*u[Math.abs(O-A)];E+=O*K,S+=K}}const C=f[v]=Math.round(E/S);g[C]++}return[f,g]}static#c(e){const t=new Uint32Array(256);for(const r of e)t[r]++;return t}static#d(e){const t=e.length,r=new Uint8ClampedArray(t>>2);let i=-1/0,s=1/0;for(let a=0,l=r.length;a<l;a++){const c=r[a]=e[a<<2];i=Math.max(i,c),s=Math.min(s,c)}const o=255/(i-s);for(let a=0,l=r.length;a<l;a++)r[a]=(r[a]-s)*o;return r}static#u(e){let t,r=-1/0,i=-1/0;const s=e.findIndex(l=>l!==0);let o=s,a=s;for(t=s;t<256;t++){const l=e[t];l>r&&(t-o>i&&(i=t-o,a=t-1),r=l,o=t)}for(t=a-1;t>=0&&!(e[t]>e[t+1]);t--);return t}static#p(e){const t=e,{width:r,height:i}=e,{maxDim:s}=this.#e;let o=r,a=i;if(r>s||i>s){let h=r,f=i,g=Math.log2(Math.max(r,i)/s);const m=Math.floor(g);g=g===m?m-1:m;for(let v=0;v<g;v++){o=Math.ceil(h/2),a=Math.ceil(f/2);const A=new OffscreenCanvas(o,a);A.getContext("2d").drawImage(e,0,0,h,f,0,0,o,a),h=o,f=a,e!==t&&e.close(),e=A.transferToImageBitmap()}const y=Math.min(s/o,s/a);o=Math.round(o*y),a=Math.round(a*y)}const c=new OffscreenCanvas(o,a).getContext("2d",{willReadFrequently:!0});c.fillStyle="white",c.fillRect(0,0,o,a),c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,o,a);const u=c.getImageData(0,0,o,a).data;return[this.#d(u),o,a]}static extractContoursFromText(e,{fontFamily:t,fontStyle:r,fontWeight:i},s,o,a,l){let c=new OffscreenCanvas(1,1),u=c.getContext("2d",{alpha:!1});const d=200,h=u.font=`${r} ${i} ${d}px ${t}`,{actualBoundingBoxLeft:f,actualBoundingBoxRight:g,actualBoundingBoxAscent:m,actualBoundingBoxDescent:y,fontBoundingBoxAscent:v,fontBoundingBoxDescent:A,width:E}=u.measureText(e),S=1.5,C=Math.ceil(Math.max(Math.abs(f)+Math.abs(g)||0,E)*S),x=Math.ceil(Math.max(Math.abs(m)+Math.abs(y)||d,Math.abs(v)+Math.abs(A)||d)*S);c=new OffscreenCanvas(C,x),u=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=h,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,C,x),u.fillStyle="black",u.fillText(e,C*(S-1)/2,x*(3-S)/2);const N=this.#d(u.getImageData(0,0,C,x).data),D=this.#c(N),V=this.#u(D),O=this.#i(N,C,x,V);return this.processDrawnLines({lines:{curves:O,width:C,height:x},pageWidth:s,pageHeight:o,rotation:a,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,r,i,s){const[o,a,l]=this.#p(e),[c,u]=this.#l(o,a,l,Math.hypot(a,l)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),d=this.#u(u),h=this.#i(c,a,l,d);return this.processDrawnLines({lines:{curves:h,width:a,height:l},pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:o,areContours:a}){i%180!==0&&([t,r]=[r,t]);const{curves:l,width:c,height:u}=e,d=e.thickness??0,h=[],f=Math.min(t/c,r/u),g=f/t,m=f/r,y=[];for(const{points:A}of l){const E=o?this.#a(A):A;if(!E)continue;y.push(E);const S=E.length,C=new Float32Array(S),x=new Float32Array(3*(S===2?2:S-2));if(h.push({line:x,points:C}),S===2){C[0]=E[0]*g,C[1]=E[1]*m,x.set([NaN,NaN,NaN,NaN,C[0],C[1]],0);continue}let[N,D,V,O]=E;N*=g,D*=m,V*=g,O*=m,C.set([N,D,V,O],0),x.set([NaN,NaN,NaN,NaN,N,D],0);for(let K=4;K<S;K+=2){const B=C[K]=E[K]*g,U=C[K+1]=E[K+1]*m;x.set(rt.createBezierPoints(N,D,V,O,B,U),(K-2)*3),[N,D,V,O]=[V,O,B,U]}}if(h.length===0)return null;const v=a?new wb:new Oc;return v.build(h,t,r,1,i,a?0:d,s),{outline:v,newCurves:y,areContours:a,thickness:d,width:c,height:u}}static async compressSignature({outlines:e,areContours:t,thickness:r,width:i,height:s}){let o=1/0,a=-1/0,l=0;for(const E of e){l+=E.length;for(let S=2,C=E.length;S<C;S++){const x=E[S]-E[S-2];o=Math.min(o,x),a=Math.max(a,x)}}let c;o>=-128&&a<=127?c=Int8Array:o>=-32768&&a<=32767?c=Int16Array:c=Int32Array;const u=e.length,d=vh+Mc*u,h=new Uint32Array(d);let f=0;h[f++]=d*Uint32Array.BYTES_PER_ELEMENT+(l-2*u)*c.BYTES_PER_ELEMENT,h[f++]=0,h[f++]=i,h[f++]=s,h[f++]=t?0:1,h[f++]=Math.max(0,Math.floor(r??0)),h[f++]=u,h[f++]=c.BYTES_PER_ELEMENT;for(const E of e)h[f++]=E.length-2,h[f++]=E[0],h[f++]=E[1];const g=new CompressionStream("deflate-raw"),m=g.writable.getWriter();await m.ready,m.write(h);const y=c.prototype.constructor;for(const E of e){const S=new y(E.length-2);for(let C=2,x=E.length;C<x;C++)S[C-2]=E[C]-E[C-2];m.write(S)}m.close();const v=await new Response(g.readable).arrayBuffer(),A=new Uint8Array(v);return sA(A)}static async decompressSignature(e){try{const t=yj(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let o=null,a=0;for await(const E of r)o||=new Uint8Array(new Uint32Array(E.buffer,0,4)[0]),o.set(E,a),a+=E.length;const l=new Uint32Array(o.buffer,0,o.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const u=l[2],d=l[3],h=l[4]===0,f=l[5],g=l[6],m=l[7],y=[],v=(vh+Mc*g)*Uint32Array.BYTES_PER_ELEMENT;let A;switch(m){case Int8Array.BYTES_PER_ELEMENT:A=new Int8Array(o.buffer,v);break;case Int16Array.BYTES_PER_ELEMENT:A=new Int16Array(o.buffer,v);break;case Int32Array.BYTES_PER_ELEMENT:A=new Int32Array(o.buffer,v);break}a=0;for(let E=0;E<g;E++){const S=l[Mc*E+vh],C=new Float32Array(S+2);y.push(C);for(let x=0;x<Mc-1;x++)C[x]=l[Mc*E+vh+x+1];for(let x=0;x<S;x++)C[x+2]=C[x]+A[a++]}return{areContours:h,thickness:f,outlines:y,width:u,height:d}}catch(t){return Dt(`decompressSignature: ${t}`),null}}}class _b extends JA{constructor(){super(),super.updateProperties({fill:Et._defaultLineColor,"stroke-width":0})}clone(){const e=new _b;return e.updateAll(this),e}}class xb extends bh{constructor(e){super(e),super.updateProperties({stroke:Et._defaultLineColor,"stroke-width":1})}clone(){const e=new xb(this._viewParameters);return e.updateAll(this),e}}class ps extends kt{#e=!1;#t=null;#n=null;#r=null;static _type="signature";static _editorType=Ot.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){Et.initialize(e,t),this._defaultDrawingOptions=new _b,this._defaultDrawnSignatureOptions=new xb(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return $t(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const t=e.get("hasDescription");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:i,mustSmooth:s,areContours:o,description:a,uuid:l,heightInPage:c}=this.#n,{rawDims:{pageWidth:u,pageHeight:d},rotation:h}=this.parent.viewport,f=ea.processDrawnLines({lines:i,pageWidth:u,pageHeight:d,rotation:h,innerMargin:ps._INNER_MARGIN,mustSmooth:s,areContours:o});this.addSignature(f,c,a,l)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){this.#r=e,this.addEditToolbar()}getUuid(){return this.#r}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(t=>{t?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:r,width:i,height:s}=this.#n,o=Math.max(i,s),a=ea.processDrawnLines({lines:{curves:e.map(l=>({points:l})),thickness:r,width:i,height:s},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t});return{areContours:t,outline:a.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,t,r,i){const{x:s,y:o}=this,{outline:a}=this.#n=e;this.#e=a instanceof wb,this.description=r;let l;this.#e?l=ps.getDefaultDrawingOptions():(l=ps._defaultDrawnSignatureOptions.clone(),l.updateProperties({"stroke-width":a.thickness})),this._addOutlines({drawOutlines:a,drawingOptions:l});const[c,u]=this.parentDimensions,[,d]=this.pageDimensions;let h=t/d;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(c*this.width,u*this.height),this.x=s,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:r},rotation:i}=this.parent.viewport;return ea.process(e,t,r,i,ps._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return ea.extractContoursFromText(e,t,r,i,s,ps._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:r},rotation:i}=this.parent.viewport;return ea.processDrawnLines({lines:e,pageWidth:t,pageHeight:r,rotation:i,innerMargin:ps._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:t}){e?this._drawingOptions=ps.getDefaultDrawingOptions():(this._drawingOptions=ps._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":t}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:t,points:r,rect:i}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":s}}=this,o={annotationType:Ot.SIGNATURE,isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:s,pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(o),e?(o.paths={lines:t,points:r},o.uuid=this.#r,o.isCopy=!0):o.lines=t,this.#t&&(o.accessibilityData={type:"Figure",alt:this.#t}),o}static deserializeDraw(e,t,r,i,s,o){return o.areContours?wb.deserialize(e,t,r,i,s,o):Oc.deserialize(e,t,r,i,s,o)}static async deserialize(e,t,r){const i=await super.deserialize(e,t,r);return i.#e=e.areContours,i.description=e.accessibilityData?.alt||"",i.#r=e.uuid,i}}class qq extends Et{#e=null;#t=null;#n=null;#r=null;#s=null;#i="";#o=null;#a=!1;#l=null;#c=!1;#d=!1;static _type="stamp";static _editorType=Ot.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#r=e.bitmapUrl,this.#s=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){Et.initialize(e,t)}static isHandlingMimeForPasting(e){return lh.includes(e)}static paste(e,t){t.pasteEditor({mode:Ot.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#u(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#c=e.isSvg),e.file&&(this.#i=e.file.name),this.#f()}#p(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#o){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,t=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:s,height:o}=e||this.copyCanvas(null,null,!0).imageData,a=await r.guess({name:"altText",request:{data:i,width:s,height:o,channels:i.length/(s*o)}});if(!a)throw new Error("No response from the AI service.");if(a.error)throw new Error("Error from the AI service.");if(a.cancel)return null;if(!a.output)throw new Error("No valid response from the AI service.");const l=a.output;return await this.setGuessedAltText(l),t&&!this.hasAltTextData()&&(this.altTextData={alt:l,decorative:!1}),l}#g(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(r=>this.#u(r,!0)).finally(()=>this.#p());return}if(this.#r){const r=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(r).then(i=>this.#u(i)).finally(()=>this.#p());return}if(this.#s){const r=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(r).then(i=>this.#u(i)).finally(()=>this.#p());return}const e=document.createElement("input");e.type="file",e.accept=lh.join(",");const t=this._uiManager._signal;this.#n=new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#u(i)}r()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:t})}).finally(()=>this.#p()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#o?.remove(),this.#o=null,this.#l&&(clearTimeout(this.#l),this.#l=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#g();return}super.rebuild(),this.div!==null&&(this.#t&&this.#o===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#s||this.#t||this.#a)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#a||(this.#e?this.#f():this.#g()),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:r,bitmap:i}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(this.#t=r,i&&(this.#e=i),this.#a=!1,this.#f())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#l!==null&&clearTimeout(this.#l);const e=200;this.#l=setTimeout(()=>{this.#l=null,this.#m()},e)}#f(){const{div:e}=this;let{width:t,height:r}=this.#e;const[i,s]=this.pageDimensions,o=.75;if(this.width)t=this.width*i,r=this.height*s;else if(t>o*i||r>o*s){const u=Math.min(o*i/t,o*s/r);t*=u,r*=u}const[a,l]=this.parentDimensions;this.setDims(t*a/i,r*l/s),this._uiManager.enableWaiting(!1);const c=this.#o=document.createElement("canvas");c.setAttribute("role","img"),this.addContainer(c),this.width=t/i,this.height=r/s,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#m(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#i&&this.div.setAttribute("aria-description",this.#i),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,t,r=!1){e||(e=224);const{width:i,height:s}=this.#e,o=new $i;let a=this.#e,l=i,c=s,u=null;if(t){if(i>t||s>t){const x=Math.min(t/i,t/s);l=Math.floor(i*x),c=Math.floor(s*x)}u=document.createElement("canvas");const h=u.width=Math.ceil(l*o.sx),f=u.height=Math.ceil(c*o.sy);this.#c||(a=this.#h(h,f));const g=u.getContext("2d");g.filter=this._uiManager.hcmFilter;let m="white",y="#cfcfd8";this._uiManager.hcmFilter!=="none"?y="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(m="#8f8f9d",y="#42414d");const v=15,A=v*o.sx,E=v*o.sy,S=new OffscreenCanvas(A*2,E*2),C=S.getContext("2d");C.fillStyle=m,C.fillRect(0,0,A*2,E*2),C.fillStyle=y,C.fillRect(0,0,A,E),C.fillRect(A,E,A,E),g.fillStyle=g.createPattern(S,"repeat"),g.fillRect(0,0,h,f),g.drawImage(a,0,0,a.width,a.height,0,0,h,f)}let d=null;if(r){let h,f;if(o.symmetric&&a.width<e&&a.height<e)h=a.width,f=a.height;else if(a=this.#e,i>e||s>e){const y=Math.min(e/i,e/s);h=Math.floor(i*y),f=Math.floor(s*y),this.#c||(a=this.#h(h,f))}const m=new OffscreenCanvas(h,f).getContext("2d",{willReadFrequently:!0});m.drawImage(a,0,0,a.width,a.height,0,0,h,f),d={width:h,height:f,data:m.getImageData(0,0,h,f).data}}return{canvas:u,width:l,height:c,imageData:d}}#h(e,t){const{width:r,height:i}=this.#e;let s=r,o=i,a=this.#e;for(;s>2*e||o>2*t;){const l=s,c=o;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const u=new OffscreenCanvas(s,o);u.getContext("2d").drawImage(a,0,0,l,c,0,0,s,o),a=u.transferToImageBitmap()}return a}#m(){const[e,t]=this.parentDimensions,{width:r,height:i}=this,s=new $i,o=Math.ceil(r*e*s.sx),a=Math.ceil(i*t*s.sy),l=this.#o;if(!l||l.width===o&&l.height===a)return;l.width=o,l.height=a;const c=this.#c?this.#e:this.#h(o,a),u=l.getContext("2d");u.filter=this._uiManager.hcmFilter,u.drawImage(c,0,0,c.width,c.height,0,0,o,a)}#y(e){if(e){if(this.#c){const i=this._uiManager.imageManager.getSvgUrl(this.#t);if(i)return i}const t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#c){const[t,r]=this.pageDimensions,i=Math.round(this.width*t*Xo.PDF_TO_CSS_UNITS),s=Math.round(this.height*r*Xo.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(i,s);return o.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,i,s),o.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,t,r){let i=null,s=!1;if(e instanceof ZA){const{data:{rect:m,rotation:y,id:v,structParent:A,popupRef:E,contentsObj:S},container:C,parent:{page:{pageNumber:x}},canvas:N}=e;let D,V;N?(delete e.canvas,{id:D,bitmap:V}=r.imageManager.getFromCanvas(C.id,N),N.remove()):(s=!0,e._hasNoCanvas=!0);const O=(await t._structTree.getAriaAttributes(`${Zm}${v}`))?.get("aria-label")||"";i=e={annotationType:Ot.STAMP,bitmapId:D,bitmap:V,pageIndex:x-1,rect:m.slice(0),rotation:y,annotationElementId:v,id:v,deleted:!1,accessibilityData:{decorative:!1,altText:O},isSvg:!1,structParent:A,popupRef:E,comment:S?.str||null}}const o=await super.deserialize(e,t,r),{rect:a,bitmap:l,bitmapUrl:c,bitmapId:u,isSvg:d,accessibilityData:h}=e;s?(r.addMissingCanvas(e.id,o),o.#a=!0):u&&r.imageManager.isValidId(u)?(o.#t=u,l&&(o.#e=l)):o.#r=c,o.#c=d;const[f,g]=o.pageDimensions;return o.width=(a[2]-a[0])/f,o.height=(a[3]-a[1])/g,h&&(o.altTextData=h),o._initialData=i,e.comment&&o.setCommentData(e.comment),o.#d=!!i,o}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Ot.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(this.addComment(r),e)return r.bitmapUrl=this.#y(!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:i,altText:s}=this.serializeAltText(!1);if(!i&&s&&(r.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const a=this.#b(r);if(a.isSame)return null;a.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,t===null)return r;t.stamps||=new Map;const o=this.#c?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:o,serialized:r}),r.bitmap=this.#y(!1);else if(this.#c){const a=t.stamps.get(this.#t);o>a.area&&(a.area=o,a.serialized.bitmap.close(),a.serialized.bitmap=this.#y(!1))}return r}#b(e){const{pageIndex:t,accessibilityData:{altText:r}}=this._initialData,i=e.pageIndex===t,s=(e.accessibilityData?.alt||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&s,isSameAltText:s}}renderAnnotationElement(e){const t={rect:this.getRect(0,0)};return this.hasEditedComment&&(t.popup=this.comment),e.updateEdited(t),null}}class gs{#e;#t=!1;#n=null;#r=null;#s=null;#i=new Map;#o=!1;#a=!1;#l=!1;#c=null;#d=null;#u=null;#p=null;#g=null;#f=-1;#h;static _initialized=!1;static#m=new Map([hr,yb,qq,tr,ps].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:o,drawLayer:a,textLayer:l,viewport:c,l10n:u}){const d=[...gs.#m.values()];if(!gs._initialized){gs._initialized=!0;for(const h of d)h.initialize(u,e)}e.registerEditorTypes(d),this.#h=e,this.pageIndex=t,this.div=r,this.#e=s,this.#n=o,this.viewport=c,this.#u=l,this.drawLayer=a,this._structTree=i,this.#h.addLayer(this)}get isEmpty(){return this.#i.size===0}get isInvisible(){return this.isEmpty&&this.#h.getMode()===Ot.NONE}updateToolbar(e){this.#h.updateToolbar(e)}updateMode(e=this.#h.getMode()){switch(this.#v(),e){case Ot.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ot.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ot.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of gs.#m.values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){return e===this.#u?.div}setEditingState(e){this.#h.setEditingState(e)}addCommands(e){this.#h.addCommands(e)}cleanUndoStack(e){this.#h.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#n?.div.classList.toggle("disabled",!e)}async enable(){this.#l=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.#g?.abort(),this.#g=null;const e=new Set;for(const r of this.#i.values())r.enableEditing(),r.show(!0),r.annotationElementId&&(this.#h.removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!this.#n){this.#l=!1;return}const t=this.#n.getEditableAnnotations();for(const r of t){if(r.hide(),this.#h.isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}this.#l=!1}disable(){if(this.#a=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.#u&&!this.#g){this.#g=new AbortController;const i=this.#h.combinedSignal(this.#g);this.#u.div.addEventListener("pointerdown",s=>{const{clientX:a,clientY:l,timeStamp:c}=s,u=this.#f;if(c-u>500){this.#f=c;return}this.#f=-1;const{classList:d}=this.div;d.toggle("getElements",!0);const h=document.elementsFromPoint(a,l);if(d.toggle("getElements",!1),!this.div.contains(h[0]))return;let f;const g=new RegExp(`^${QE}[0-9]+$`);for(const y of h)if(g.test(y.id)){f=y.id;break}if(!f)return;const m=this.#i.get(f);m?.annotationElementId===null&&(s.stopPropagation(),s.preventDefault(),m.dblclick())},{signal:i,capture:!0})}const e=new Map,t=new Map;for(const i of this.#i.values())if(i.disableEditing(),!!i.annotationElementId){if(i.serialize()!==null){e.set(i.annotationElementId,i);continue}else t.set(i.annotationElementId,i);this.getEditableAnnotation(i.annotationElementId)?.show(),i.remove()}if(this.#n){const i=this.#n.getEditableAnnotations();for(const s of i){const{id:o}=s.data;if(this.#h.isDeletedAnnotationElement(o)){s.updateEdited({deleted:!0});continue}let a=t.get(o);if(a){a.resetAnnotationElement(s),a.show(!1),s.show();continue}a=e.get(o),a&&(this.#h.addChangedExistingAnnotation(a),a.renderAnnotationElement(s)&&a.show(!1)),s.show()}}this.#v(),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const i of gs.#m.values())r.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#a=!1}getEditableAnnotation(e){return this.#n?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#h.getActive()!==e&&this.#h.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#u?.div&&!this.#p){this.#p=new AbortController;const e=this.#h.combinedSignal(this.#p);this.#u.div.addEventListener("pointerdown",this.#y.bind(this),{signal:e}),this.#u.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#u?.div&&this.#p&&(this.#p.abort(),this.#p=null,this.#u.div.classList.remove("highlighting"))}#y(e){this.#h.unselectAll();const{target:t}=e;if(t===this.#u.div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&this.#u.div.contains(t)){const{isMac:r}=mr.platform;if(e.button!==0||e.ctrlKey&&r)return;this.#h.showAllEditors("highlight",!0,!0),this.#u.div.classList.add("free"),this.toggleDrawing(),tr.startHighlighting(this,this.#h.direction==="ltr",{target:this.#u.div,x:e.x,y:e.y}),this.#u.div.addEventListener("pointerup",()=>{this.#u.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#h._signal}),e.preventDefault()}}enableClick(){if(this.#r)return;this.#r=new AbortController;const e=this.#h.combinedSignal(this.#r);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){this.#r?.abort(),this.#r=null}attach(e){this.#i.set(e.id,e);const{annotationElementId:t}=e;t&&this.#h.isDeletedAnnotationElement(t)&&this.#h.removeDeletedAnnotationElement(e)}detach(e){this.#i.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#a&&e.annotationElementId&&this.#h.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#h.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#h.addDeletedAnnotationElement(e.annotationElementId),Et.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#h.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#l),this.#h.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#s&&(e._focusEventsAllowed=!1,this.#s=setTimeout(()=>{this.#s=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#h._signal}),t.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return this.#h.getId()}get#b(){return gs.#m.get(this.#h.getMode())}combinedSignal(e){return this.#h.combinedSignal(e)}#w(e){const t=this.#b;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#b?.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await this.#h.updateMode(e.mode);const{offsetX:r,offsetY:i}=this.#_(),s=this.getNextId(),o=this.#w({parent:this,id:s,x:r,y:i,uiManager:this.#h,isCentered:!0,...t});o&&this.add(o)}async deserialize(e){return await gs.#m.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#h)||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=this.#w({parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:this.#h,isCentered:t,...r});return s&&this.add(s),s}#_(){const{x:e,y:t,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+i),c=(s+a)/2-e,u=(o+l)/2-t,[d,h]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:d,offsetY:h}}addNewEditor(e={}){this.createAndAddNewEditor(this.#_(),!0,e)}setSelected(e){this.#h.setSelected(e)}toggleSelected(e){this.#h.toggleSelected(e)}unselect(e){this.#h.unselect(e)}pointerup(e){const{isMac:t}=mr.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!this.#o||(this.#o=!1,this.#b?.isDrawer&&this.#b.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const r=this.#h.getMode();if(r===Ot.STAMP||r===Ot.SIGNATURE){this.#h.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#h.getMode()===Ot.HIGHLIGHT&&this.enableTextSelection(),this.#o){this.#o=!1;return}const{isMac:t}=mr.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(this.#o=!0,this.#b?.isDrawer){this.startDrawingSession(e);return}const r=this.#h.getActive();this.#t=!r||r.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#c){this.#b.startDrawing(this,this.#h,!1,e);return}this.#h.setCurrentDrawingSession(this),this.#c=new AbortController;const t=this.#h.combinedSignal(this.#c);this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(this.#d=null,this.commitOrRemove())},{signal:t}),this.#b.startDrawing(this,this.#h,!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&(this.#d=t);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(e=!1){return this.#c?(this.#h.setCurrentDrawingSession(null),this.#c.abort(),this.#c=null,this.#d=null,this.#b.endDrawing(e)):null}findNewParent(e,t,r){const i=this.#h.findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return this.#c?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#c&&this.#b.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#h.getActive()?.parent===this&&(this.#h.commitOrRemove(),this.#h.setActiveEditor(null)),this.#s&&(clearTimeout(this.#s),this.#s=null);for(const e of this.#i.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#i.clear(),this.#h.removeLayer(this)}#v(){for(const e of this.#i.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,po(this.div,e);for(const t of this.#h.getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){this.#h.commitOrRemove(),this.#v();const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,po(this.div,{rotation:r}),t!==r)for(const i of this.#i.values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#h.viewParameters.realScale}}class br{#e=null;#t=new Map;#n=new Map;static#r=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const t of this.#t.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return $t(this,"_svgFactory",new Rc)}static#s(e,[t,r,i,s]){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*t}%`,o.width=`${100*i}%`,o.height=`${100*s}%`}#i(){const e=br._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#o(e,t){const r=br._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=br._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i}#a(e,t){for(const[r,i]of Object.entries(t))i===null?e.removeAttribute(r):e.setAttribute(r,i)}draw(e,t=!1,r=!1){const i=br.#r++,s=this.#i(),o=br._svgFactory.createElement("defs");s.append(o);const a=br._svgFactory.createElement("path");o.append(a);const l=`path_p${this.pageIndex}_${i}`;a.setAttribute("id",l),a.setAttribute("vector-effect","non-scaling-stroke"),t&&this.#n.set(i,a);const c=r?this.#o(o,l):null,u=br._svgFactory.createElement("use");return s.append(u),u.setAttribute("href",`#${l}`),this.updateProperties(s,e),this.#t.set(i,s),{id:i,clipPathId:`url(#${c})`}}drawOutline(e,t){const r=br.#r++,i=this.#i(),s=br._svgFactory.createElement("defs");i.append(s);const o=br._svgFactory.createElement("path");s.append(o);const a=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",a),o.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const d=br._svgFactory.createElement("mask");s.append(d),l=`mask_p${this.pageIndex}_${r}`,d.setAttribute("id",l),d.setAttribute("maskUnits","objectBoundingBox");const h=br._svgFactory.createElement("rect");d.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const f=br._svgFactory.createElement("use");d.append(f),f.setAttribute("href",`#${a}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const c=br._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${a}`),l&&c.setAttribute("mask",`url(#${l})`);const u=c.cloneNode();return i.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(i,e),this.#t.set(r,i),r}finalizeDraw(e,t){this.#n.delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:r,bbox:i,rootClass:s,path:o}=t,a=typeof e=="number"?this.#t.get(e):e;if(a){if(r&&this.#a(a,r),i&&br.#s(a,i),s){const{classList:l}=a;for(const[c,u]of Object.entries(s))l.toggle(c,u)}if(o){const c=a.firstChild.firstChild;this.#a(c,o)}}}updateParent(e,t){if(t===this)return;const r=this.#t.get(e);r&&(t.#e.append(r),this.#t.delete(e),t.#t.set(e,r))}remove(e){this.#n.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#n.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:bb},globalThis.pdfjsLib={AbortException:zs,AnnotationEditorLayer:gs,AnnotationEditorParamsType:ln,AnnotationEditorType:Ot,AnnotationEditorUIManager:Hs,AnnotationLayer:gh,AnnotationMode:Bs,AnnotationType:Qn,build:VA,ColorPicker:xi,createValidAbsoluteUrl:qm,DOMSVGFactory:Rc,DrawLayer:br,FeatureTest:mr,fetchData:rl,getDocument:HA,getFilenameFromUrl:oA,getPdfFilenameFromUrl:aA,getRGB:_c,getUuid:Xm,getXfaPageViewport:cA,GlobalWorkerOptions:ol,ImageKind:fc,InvalidPDFException:ih,isDataScheme:yc,isPdfFile:oh,isValidExplicitDest:pA,MathClamp:Rr,noContextMenu:wi,normalizeUnicode:iA,OPS:gc,OutputScale:$i,PasswordResponses:eA,PDFDataRangeTransport:hb,PDFDateString:ah,PDFWorker:ll,PermissionFlag:JE,PixelsPerInch:Xo,RenderingCancelledException:sh,ResponseException:mc,setLayerDimensions:po,shadow:$t,SignatureExtractor:ea,stopEvent:Jn,SupportedImageMimeTypes:lh,TextLayer:Or,TouchManager:Ac,updateUrlHash:Wm,Util:vt,VerbosityLevel:pc,version:GA,XfaLayer:fb};const Wq=Object.freeze(Object.defineProperty({__proto__:null,AbortException:zs,AnnotationEditorLayer:gs,AnnotationEditorParamsType:ln,AnnotationEditorType:Ot,AnnotationEditorUIManager:Hs,AnnotationLayer:gh,AnnotationMode:Bs,AnnotationType:Qn,ColorPicker:xi,DOMSVGFactory:Rc,DrawLayer:br,FeatureTest:mr,GlobalWorkerOptions:ol,ImageKind:fc,InvalidPDFException:ih,MathClamp:Rr,OPS:gc,OutputScale:$i,PDFDataRangeTransport:hb,PDFDateString:ah,PDFWorker:ll,PasswordResponses:eA,PermissionFlag:JE,PixelsPerInch:Xo,RenderingCancelledException:sh,ResponseException:mc,SignatureExtractor:ea,SupportedImageMimeTypes:lh,TextLayer:Or,TouchManager:Ac,Util:vt,VerbosityLevel:pc,XfaLayer:fb,build:VA,createValidAbsoluteUrl:qm,fetchData:rl,getDocument:HA,getFilenameFromUrl:oA,getPdfFilenameFromUrl:aA,getRGB:_c,getUuid:Xm,getXfaPageViewport:cA,isDataScheme:yc,isPdfFile:oh,isValidExplicitDest:pA,noContextMenu:wi,normalizeUnicode:iA,setLayerDimensions:po,shadow:$t,stopEvent:Jn,updateUrlHash:Wm,version:GA},Symbol.toStringTag,{value:"Module"}));return Fn.start=kC,Object.defineProperty(Fn,Symbol.toStringTag,{value:"Module"}),Fn}({});


					__sveltekit_19scbhb.app.start(element);
				}
			</script>
		</div>
	</body>
</html>
