<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="refresh" content="5">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>llama.cpp - loading...</title>
        <link rel="icon" type="image/svg+xml" href="favicon.svg">
        <style>
            :root{
                color-scheme: light dark;
                --background: light-dark(oklch(100% 0 0), oklch(16% 0 0));
                --foreground: light-dark(oklch(14.5% 0 0), oklch(98.5% 0 0));
                --muted-foreground: light-dark(oklch(55.6% 0 0), oklch(70.8% 0 0));
                --muted: light-dark(oklch(97% 0 0), oklch(26.9% 0 0));
                --border: light-dark(oklch(87.5% 0 0), oklch(100% 0 0 / 0.3));
                --text-lg: 1.125rem;
                --text-lg--line-height: calc(1.75rem / 1.125rem);
                --text-3xl: 1.875rem;
                --text-3xl--line-height: 2.25rem;
                --transition-color-1: oklch(48.8% 0.243 264.376);
                --transition-color-2: oklch(69.6% 0.17 162.48);
                --transition-color-3: oklch(76.9% 0.188 70.08);
                --transition-color-4: oklch(62.7% 0.265 303.9);
                --transition-color-5: oklch(64.5% 0.246 16.439);
            }

            html {
                width: 100%;
                height: 100%;
            }

            body {
                width: 100%;
                height: 100%;
                margin: 0;
                background-color: var(--background);
                color: var(--foreground);
                font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
            }

            #loading {
                display: flex;
                justify-content: center;
                align-items: center;
                height: 100%;
            }

            @keyframes loadingAnimation {
                0% {background-color: var(--transition-color-1); left: -22rem;}
                20% {background-color: var(--transition-color-2);}
                40% {background-color: var(--transition-color-3);}
                60% {background-color: var(--transition-color-4);}
                80% {background-color: var(--transition-color-5);}
                100% {background-color: var(--transition-color-1); left: calc(100% + 10rem)}
            }

            #animation-bar {
                position: absolute;
                top: -9rem;
                width: 9rem;
                height: calc(100% + 18rem);
                transform: rotate(45deg);
                opacity: 0.5;
                animation-name: loadingAnimation;
                animation-duration: 5s;
                animation-timing-function: ease-out;
            }

            /* Disable the moving bar if the user prefers reduced motion */
            @media (prefers-reduced-motion: reduce) {
                #animation-bar {
                    animation: none;
                    display: none;
                }
            }

            @keyframes borderColors {
                0% {border-color: color-mix(in oklab, var(--transition-color-1) 60%, transparent);}
                20% {border-color: color-mix(in oklab, var(--transition-color-2) 60%, transparent);}
                40% {border-color: color-mix(in oklab, var(--transition-color-3) 60%, transparent);}
                60% {border-color: color-mix(in oklab, var(--transition-color-4) 60%, transparent);}
                80% {border-color: color-mix(in oklab, var(--transition-color-5) 60%, transparent);}
                100% {border-color: color-mix(in oklab, var(--transition-color-1) 60%, transparent);}
            }

            .colored-borders {
                position: relative;
                width: 100%;
                box-sizing: border-box;
                user-select: none;
                overflow: hidden;
                border: solid;
                border-radius: 1.5rem;
                border-width: 1px;
                border-color: color-mix(in oklab, var(--border) 20%, transparent);
                background-color: color-mix(in oklab, var(--muted) 85%, transparent);
                animation-name: borderColors;
                animation-duration: 5s;
                animation-timing-function: ease-out;
            }
        </style>
        <script>
          // Attempt to read llama.cpp config from browser local storage
          let config;
          try{
            config = JSON.parse(window.localStorage.getItem("LlamaCppWebui.config"));
          } catch (error){
            config = null;
          }

          // If the user has configured llama.cpp to use either light or dark mode, respect their setting
          if(config !== null){
            const colorTheme = config["theme"];
            if(colorTheme === "light"){
              document.documentElement.style.setProperty('color-scheme', 'light');
            } else if(colorTheme === "dark"){
              document.documentElement.style.setProperty('color-scheme', 'dark');
            }
          }
        </script>
    </head>
    <body>
        <main id="loading">
            <div style="width: 100%; max-width: 48rem; padding-left: 1rem; padding-right: 1rem; box-sizing: border-box;">
                <div style="text-align: center; margin-bottom: 2.5rem;">
                    <h1 style="font-size: var(--text-3xl); font-weight: 600; letter-spacing: -0.75px; line-height: var(--text-3xl--line-height); box-sizing: border-box; font-feature-settings: normal; margin-top: 0px; margin-bottom: 1rem;">llama.cpp</h1>
                    <p style="color: var(--muted-foreground); font-size: var(--text-lg); margin: 0px; line-height: var(--text-lg--line-height);">
                        The model is loading. Please wait. The user interface will appear soon.
                    </p>
                </div>
                <div aria-label="Loading animation">
                    <div class="colored-borders">
                        <div style="filter: blur(3rem) saturate(200%); display: flex; flex-direction: column; align-items: center; width: 100%; min-height: 3rem; box-sizing: border-box; padding-left: 1.25rem; padding-right: 1.25rem; padding-top: 0.75rem; padding-bottom: 0.75rem;">
                            <div style="flex-basis: 0%; flex-grow: 1; flex-shrink: 1; width: 100%;">
                                <div id="text-placeholder" style="min-height: 3rem; width: 100%; margin-top: 0; margin-left: 0; margin-right: 0; margin-bottom: 0.375rem;"></div>
                            </div>
                            <div style="width: 100%; height: 2rem;"></div>
                            <div id="animation-bar"></div>
                        </div>
                    </div>
                    <div style="height: 17px; padding-top: 1rem;"></div>
                </div>
            </div>
        </main>
    </body>
</html>
